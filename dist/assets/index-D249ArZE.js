(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function vA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zy={exports:{}},mh={},Wy={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=Symbol.for("react.element"),yA=Symbol.for("react.portal"),xA=Symbol.for("react.fragment"),EA=Symbol.for("react.strict_mode"),TA=Symbol.for("react.profiler"),wA=Symbol.for("react.provider"),SA=Symbol.for("react.context"),AA=Symbol.for("react.forward_ref"),IA=Symbol.for("react.suspense"),CA=Symbol.for("react.memo"),RA=Symbol.for("react.lazy"),d1=Symbol.iterator;function PA(t){return t===null||typeof t!="object"?null:(t=d1&&t[d1]||t["@@iterator"],typeof t=="function"?t:null)}var Hy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$y=Object.assign,Gy={};function ko(t,e,r){this.props=t,this.context=e,this.refs=Gy,this.updater=r||Hy}ko.prototype.isReactComponent={};ko.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ko.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ky(){}Ky.prototype=ko.prototype;function Dp(t,e,r){this.props=t,this.context=e,this.refs=Gy,this.updater=r||Hy}var Op=Dp.prototype=new Ky;Op.constructor=Dp;$y(Op,ko.prototype);Op.isPureReactComponent=!0;var p1=Array.isArray,qy=Object.prototype.hasOwnProperty,Fp={current:null},Xy={key:!0,ref:!0,__self:!0,__source:!0};function Yy(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)qy.call(e,n)&&!Xy.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Au,type:t,key:s,ref:a,props:i,_owner:Fp.current}}function kA(t,e){return{$$typeof:Au,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Au}function NA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var m1=/\/+/g;function g0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NA(""+t.key):e.toString(36)}function bc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Au:case yA:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+g0(a,0):n,p1(i)?(r="",t!=null&&(r=t.replace(m1,"$&/")+"/"),bc(i,e,r,"",function(c){return c})):i!=null&&(Lp(i)&&(i=kA(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(m1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",p1(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+g0(s,o);a+=bc(s,e,r,l,i)}else if(l=PA(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+g0(s,o++),a+=bc(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function oc(t,e,r){if(t==null)return t;var n=[],i=0;return bc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function DA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sr={current:null},Uc={transition:null},OA={ReactCurrentDispatcher:Sr,ReactCurrentBatchConfig:Uc,ReactCurrentOwner:Fp};function Qy(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:oc,forEach:function(t,e,r){oc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return oc(t,function(){e++}),e},toArray:function(t){return oc(t,function(e){return e})||[]},only:function(t){if(!Lp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=ko;Le.Fragment=xA;Le.Profiler=TA;Le.PureComponent=Dp;Le.StrictMode=EA;Le.Suspense=IA;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OA;Le.act=Qy;Le.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=$y({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Fp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)qy.call(e,l)&&!Xy.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Au,type:t.type,key:i,ref:s,props:n,_owner:a}};Le.createContext=function(t){return t={$$typeof:SA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wA,_context:t},t.Consumer=t};Le.createElement=Yy;Le.createFactory=function(t){var e=Yy.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:AA,render:t}};Le.isValidElement=Lp;Le.lazy=function(t){return{$$typeof:RA,_payload:{_status:-1,_result:t},_init:DA}};Le.memo=function(t,e){return{$$typeof:CA,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=Uc.transition;Uc.transition={};try{t()}finally{Uc.transition=e}};Le.unstable_act=Qy;Le.useCallback=function(t,e){return Sr.current.useCallback(t,e)};Le.useContext=function(t){return Sr.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return Sr.current.useDeferredValue(t)};Le.useEffect=function(t,e){return Sr.current.useEffect(t,e)};Le.useId=function(){return Sr.current.useId()};Le.useImperativeHandle=function(t,e,r){return Sr.current.useImperativeHandle(t,e,r)};Le.useInsertionEffect=function(t,e){return Sr.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return Sr.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return Sr.current.useMemo(t,e)};Le.useReducer=function(t,e,r){return Sr.current.useReducer(t,e,r)};Le.useRef=function(t){return Sr.current.useRef(t)};Le.useState=function(t){return Sr.current.useState(t)};Le.useSyncExternalStore=function(t,e,r){return Sr.current.useSyncExternalStore(t,e,r)};Le.useTransition=function(){return Sr.current.useTransition()};Le.version="18.3.1";Wy.exports=Le;var Ze=Wy.exports;const FA=vA(Ze);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA=Ze,MA=Symbol.for("react.element"),VA=Symbol.for("react.fragment"),bA=Object.prototype.hasOwnProperty,UA=LA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BA={key:!0,ref:!0,__self:!0,__source:!0};function Jy(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)bA.call(e,n)&&!BA.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:MA,type:t,key:s,ref:a,props:i,_owner:UA.current}}mh.Fragment=VA;mh.jsx=Jy;mh.jsxs=Jy;zy.exports=mh;var de=zy.exports,ud={},Zy={exports:{}},Kr={},ex={exports:{}},tx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ue,xe){var Se=ue.length;ue.push(xe);e:for(;0<Se;){var Fe=Se-1>>>1,b=ue[Fe];if(0<i(b,xe))ue[Fe]=xe,ue[Se]=b,Se=Fe;else break e}}function r(ue){return ue.length===0?null:ue[0]}function n(ue){if(ue.length===0)return null;var xe=ue[0],Se=ue.pop();if(Se!==xe){ue[0]=Se;e:for(var Fe=0,b=ue.length,X=b>>>1;Fe<X;){var B=2*(Fe+1)-1,U=ue[B],Z=B+1,ge=ue[Z];if(0>i(U,Se))Z<b&&0>i(ge,U)?(ue[Fe]=ge,ue[Z]=Se,Fe=Z):(ue[Fe]=U,ue[B]=Se,Fe=B);else if(Z<b&&0>i(ge,Se))ue[Fe]=ge,ue[Z]=Se,Fe=Z;else break e}}return xe}function i(ue,xe){var Se=ue.sortIndex-xe.sortIndex;return Se!==0?Se:ue.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],f=1,h=null,d=3,m=!1,y=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(ue){for(var xe=r(c);xe!==null;){if(xe.callback===null)n(c);else if(xe.startTime<=ue)n(c),xe.sortIndex=xe.expirationTime,e(l,xe);else break;xe=r(c)}}function V(ue){if(g=!1,w(ue),!y)if(r(l)!==null)y=!0,pt(j);else{var xe=r(c);xe!==null&&et(V,xe.startTime-ue)}}function j(ue,xe){y=!1,g&&(g=!1,A(v),v=-1),m=!0;var Se=d;try{for(w(xe),h=r(l);h!==null&&(!(h.expirationTime>xe)||ue&&!P());){var Fe=h.callback;if(typeof Fe=="function"){h.callback=null,d=h.priorityLevel;var b=Fe(h.expirationTime<=xe);xe=t.unstable_now(),typeof b=="function"?h.callback=b:h===r(l)&&n(l),w(xe)}else n(l);h=r(l)}if(h!==null)var X=!0;else{var B=r(c);B!==null&&et(V,B.startTime-xe),X=!1}return X}finally{h=null,d=Se,m=!1}}var W=!1,x=null,v=-1,T=5,C=-1;function P(){return!(t.unstable_now()-C<T)}function L(){if(x!==null){var ue=t.unstable_now();C=ue;var xe=!0;try{xe=x(!0,ue)}finally{xe?N():(W=!1,x=null)}}else W=!1}var N;if(typeof E=="function")N=function(){E(L)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Ae=Re.port2;Re.port1.onmessage=L,N=function(){Ae.postMessage(null)}}else N=function(){S(L,0)};function pt(ue){x=ue,W||(W=!0,N())}function et(ue,xe){v=S(function(){ue(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ue){ue.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,pt(j))},t.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<ue?Math.floor(1e3/ue):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ue){switch(d){case 1:case 2:case 3:var xe=3;break;default:xe=d}var Se=d;d=xe;try{return ue()}finally{d=Se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ue,xe){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Se=d;d=ue;try{return xe()}finally{d=Se}},t.unstable_scheduleCallback=function(ue,xe,Se){var Fe=t.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Fe+Se:Fe):Se=Fe,ue){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=Se+b,ue={id:f++,callback:xe,priorityLevel:ue,startTime:Se,expirationTime:b,sortIndex:-1},Se>Fe?(ue.sortIndex=Se,e(c,ue),r(l)===null&&ue===r(c)&&(g?(A(v),v=-1):g=!0,et(V,Se-Fe))):(ue.sortIndex=b,e(l,ue),y||m||(y=!0,pt(j))),ue},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(ue){var xe=d;return function(){var Se=d;d=xe;try{return ue.apply(this,arguments)}finally{d=Se}}}})(tx);ex.exports=tx;var jA=ex.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zA=Ze,$r=jA;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rx=new Set,$l={};function la(t,e){po(t,e),po(t+"Capture",e)}function po(t,e){for($l[t]=e,t=0;t<e.length;t++)rx.add(e[t])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cd=Object.prototype.hasOwnProperty,WA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g1={},_1={};function HA(t){return cd.call(_1,t)?!0:cd.call(g1,t)?!1:WA.test(t)?_1[t]=!0:(g1[t]=!0,!1)}function $A(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GA(t,e,r,n){if(e===null||typeof e>"u"||$A(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ar(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){sr[t]=new Ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];sr[e]=new Ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){sr[t]=new Ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){sr[t]=new Ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){sr[t]=new Ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){sr[t]=new Ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){sr[t]=new Ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){sr[t]=new Ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){sr[t]=new Ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mp=/[\-:]([a-z])/g;function Vp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mp,Vp);sr[e]=new Ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mp,Vp);sr[e]=new Ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mp,Vp);sr[e]=new Ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){sr[t]=new Ar(t,1,!1,t.toLowerCase(),null,!1,!1)});sr.xlinkHref=new Ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){sr[t]=new Ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function bp(t,e,r,n){var i=sr.hasOwnProperty(e)?sr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GA(e,r,i,n)&&(r=null),n||i===null?HA(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var vi=zA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lc=Symbol.for("react.element"),Va=Symbol.for("react.portal"),ba=Symbol.for("react.fragment"),Up=Symbol.for("react.strict_mode"),fd=Symbol.for("react.profiler"),nx=Symbol.for("react.provider"),ix=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),hd=Symbol.for("react.suspense"),dd=Symbol.for("react.suspense_list"),jp=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),sx=Symbol.for("react.offscreen"),v1=Symbol.iterator;function il(t){return t===null||typeof t!="object"?null:(t=v1&&t[v1]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,_0;function dl(t){if(_0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);_0=e&&e[1]||""}return`
`+_0+t}var v0=!1;function y0(t,e){if(!t||v0)return"";v0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{v0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?dl(t):""}function KA(t){switch(t.tag){case 5:return dl(t.type);case 16:return dl("Lazy");case 13:return dl("Suspense");case 19:return dl("SuspenseList");case 0:case 2:case 15:return t=y0(t.type,!1),t;case 11:return t=y0(t.type.render,!1),t;case 1:return t=y0(t.type,!0),t;default:return""}}function pd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ba:return"Fragment";case Va:return"Portal";case fd:return"Profiler";case Up:return"StrictMode";case hd:return"Suspense";case dd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ix:return(t.displayName||"Context")+".Consumer";case nx:return(t._context.displayName||"Context")+".Provider";case Bp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jp:return e=t.displayName||null,e!==null?e:pd(t.type)||"Memo";case Li:e=t._payload,t=t._init;try{return pd(t(e))}catch{}}return null}function qA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pd(e);case 8:return e===Up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ls(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ax(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XA(t){var e=ax(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uc(t){t._valueTracker||(t._valueTracker=XA(t))}function ox(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ax(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function lf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function md(t,e){var r=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function y1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ls(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lx(t,e){e=e.checked,e!=null&&bp(t,"checked",e,!1)}function gd(t,e){lx(t,e);var r=ls(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_d(t,e.type,r):e.hasOwnProperty("defaultValue")&&_d(t,e.type,ls(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function x1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function _d(t,e,r){(e!=="number"||lf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var pl=Array.isArray;function Qa(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ls(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function E1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(se(92));if(pl(r)){if(1<r.length)throw Error(se(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ls(r)}}function ux(t,e){var r=ls(e.value),n=ls(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function T1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cc,fx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cc=cc||document.createElement("div"),cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YA=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(t){YA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sl[e]=Sl[t]})});function hx(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Sl.hasOwnProperty(t)&&Sl[t]?(""+e).trim():e+"px"}function dx(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=hx(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var QA=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xd(t,e){if(e){if(QA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function Ed(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=null;function zp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wd=null,Ja=null,Za=null;function w1(t){if(t=Ru(t)){if(typeof wd!="function")throw Error(se(280));var e=t.stateNode;e&&(e=xh(e),wd(t.stateNode,t.type,e))}}function px(t){Ja?Za?Za.push(t):Za=[t]:Ja=t}function mx(){if(Ja){var t=Ja,e=Za;if(Za=Ja=null,w1(t),e)for(t=0;t<e.length;t++)w1(e[t])}}function gx(t,e){return t(e)}function _x(){}var x0=!1;function vx(t,e,r){if(x0)return t(e,r);x0=!0;try{return gx(t,e,r)}finally{x0=!1,(Ja!==null||Za!==null)&&(_x(),mx())}}function Kl(t,e){var r=t.stateNode;if(r===null)return null;var n=xh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(se(231,e,typeof r));return r}var Sd=!1;if(li)try{var sl={};Object.defineProperty(sl,"passive",{get:function(){Sd=!0}}),window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{Sd=!1}function JA(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(f){this.onError(f)}}var Al=!1,uf=null,cf=!1,Ad=null,ZA={onError:function(t){Al=!0,uf=t}};function eI(t,e,r,n,i,s,a,o,l){Al=!1,uf=null,JA.apply(ZA,arguments)}function tI(t,e,r,n,i,s,a,o,l){if(eI.apply(this,arguments),Al){if(Al){var c=uf;Al=!1,uf=null}else throw Error(se(198));cf||(cf=!0,Ad=c)}}function ua(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function yx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function S1(t){if(ua(t)!==t)throw Error(se(188))}function rI(t){var e=t.alternate;if(!e){if(e=ua(t),e===null)throw Error(se(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return S1(i),t;if(s===n)return S1(i),e;s=s.sibling}throw Error(se(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(se(189))}}if(r.alternate!==n)throw Error(se(190))}if(r.tag!==3)throw Error(se(188));return r.stateNode.current===r?t:e}function xx(t){return t=rI(t),t!==null?Ex(t):null}function Ex(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ex(t);if(e!==null)return e;t=t.sibling}return null}var Tx=$r.unstable_scheduleCallback,A1=$r.unstable_cancelCallback,nI=$r.unstable_shouldYield,iI=$r.unstable_requestPaint,At=$r.unstable_now,sI=$r.unstable_getCurrentPriorityLevel,Wp=$r.unstable_ImmediatePriority,wx=$r.unstable_UserBlockingPriority,ff=$r.unstable_NormalPriority,aI=$r.unstable_LowPriority,Sx=$r.unstable_IdlePriority,gh=null,bn=null;function oI(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(gh,t,void 0,(t.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:cI,lI=Math.log,uI=Math.LN2;function cI(t){return t>>>=0,t===0?32:31-(lI(t)/uI|0)|0}var fc=64,hc=4194304;function ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=ml(o):(s&=a,s!==0&&(n=ml(s)))}else a=r&~i,a!==0?n=ml(a):s!==0&&(n=ml(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-En(e),i=1<<r,n|=t[r],e&=~i;return n}function fI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-En(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=fI(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Id(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ax(){var t=fc;return fc<<=1,!(fc&4194240)&&(fc=64),t}function E0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Iu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-En(e),t[e]=r}function dI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-En(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Hp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-En(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ye=0;function Ix(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Cx,$p,Rx,Px,kx,Cd=!1,dc=[],qi=null,Xi=null,Yi=null,ql=new Map,Xl=new Map,Vi=[],pI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I1(t,e){switch(t){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":ql.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(e.pointerId)}}function al(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ru(e),e!==null&&$p(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function mI(t,e,r,n,i){switch(e){case"focusin":return qi=al(qi,t,e,r,n,i),!0;case"dragenter":return Xi=al(Xi,t,e,r,n,i),!0;case"mouseover":return Yi=al(Yi,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return ql.set(s,al(ql.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Xl.set(s,al(Xl.get(s)||null,t,e,r,n,i)),!0}return!1}function Nx(t){var e=Us(t.target);if(e!==null){var r=ua(e);if(r!==null){if(e=r.tag,e===13){if(e=yx(r),e!==null){t.blockedOn=e,kx(t.priority,function(){Rx(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Rd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Td=n,r.target.dispatchEvent(n),Td=null}else return e=Ru(r),e!==null&&$p(e),t.blockedOn=r,!1;e.shift()}return!0}function C1(t,e,r){Bc(t)&&r.delete(e)}function gI(){Cd=!1,qi!==null&&Bc(qi)&&(qi=null),Xi!==null&&Bc(Xi)&&(Xi=null),Yi!==null&&Bc(Yi)&&(Yi=null),ql.forEach(C1),Xl.forEach(C1)}function ol(t,e){t.blockedOn===e&&(t.blockedOn=null,Cd||(Cd=!0,$r.unstable_scheduleCallback($r.unstable_NormalPriority,gI)))}function Yl(t){function e(i){return ol(i,t)}if(0<dc.length){ol(dc[0],t);for(var r=1;r<dc.length;r++){var n=dc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qi!==null&&ol(qi,t),Xi!==null&&ol(Xi,t),Yi!==null&&ol(Yi,t),ql.forEach(e),Xl.forEach(e),r=0;r<Vi.length;r++)n=Vi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Vi.length&&(r=Vi[0],r.blockedOn===null);)Nx(r),r.blockedOn===null&&Vi.shift()}var eo=vi.ReactCurrentBatchConfig,df=!0;function _I(t,e,r,n){var i=Ye,s=eo.transition;eo.transition=null;try{Ye=1,Gp(t,e,r,n)}finally{Ye=i,eo.transition=s}}function vI(t,e,r,n){var i=Ye,s=eo.transition;eo.transition=null;try{Ye=4,Gp(t,e,r,n)}finally{Ye=i,eo.transition=s}}function Gp(t,e,r,n){if(df){var i=Rd(t,e,r,n);if(i===null)N0(t,e,n,pf,r),I1(t,n);else if(mI(i,t,e,r,n))n.stopPropagation();else if(I1(t,n),e&4&&-1<pI.indexOf(t)){for(;i!==null;){var s=Ru(i);if(s!==null&&Cx(s),s=Rd(t,e,r,n),s===null&&N0(t,e,n,pf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else N0(t,e,n,null,r)}}var pf=null;function Rd(t,e,r,n){if(pf=null,t=zp(n),t=Us(t),t!==null)if(e=ua(t),e===null)t=null;else if(r=e.tag,r===13){if(t=yx(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pf=t,null}function Dx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sI()){case Wp:return 1;case wx:return 4;case ff:case aI:return 16;case Sx:return 536870912;default:return 16}default:return 16}}var Wi=null,Kp=null,jc=null;function Ox(){if(jc)return jc;var t,e=Kp,r=e.length,n,i="value"in Wi?Wi.value:Wi.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return jc=i.slice(t,1<n?1-n:void 0)}function zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pc(){return!0}function R1(){return!1}function qr(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pc:R1,this.isPropagationStopped=R1,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),e}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qp=qr(No),Cu=vt({},No,{view:0,detail:0}),yI=qr(Cu),T0,w0,ll,_h=vt({},Cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ll&&(ll&&t.type==="mousemove"?(T0=t.screenX-ll.screenX,w0=t.screenY-ll.screenY):w0=T0=0,ll=t),T0)},movementY:function(t){return"movementY"in t?t.movementY:w0}}),P1=qr(_h),xI=vt({},_h,{dataTransfer:0}),EI=qr(xI),TI=vt({},Cu,{relatedTarget:0}),S0=qr(TI),wI=vt({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),SI=qr(wI),AI=vt({},No,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),II=qr(AI),CI=vt({},No,{data:0}),k1=qr(CI),RI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kI[t])?!!e[t]:!1}function Xp(){return NI}var DI=vt({},Cu,{key:function(t){if(t.key){var e=RI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xp,charCode:function(t){return t.type==="keypress"?zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OI=qr(DI),FI=vt({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N1=qr(FI),LI=vt({},Cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xp}),MI=qr(LI),VI=vt({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),bI=qr(VI),UI=vt({},_h,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BI=qr(UI),jI=[9,13,27,32],Yp=li&&"CompositionEvent"in window,Il=null;li&&"documentMode"in document&&(Il=document.documentMode);var zI=li&&"TextEvent"in window&&!Il,Fx=li&&(!Yp||Il&&8<Il&&11>=Il),D1=" ",O1=!1;function Lx(t,e){switch(t){case"keyup":return jI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ua=!1;function WI(t,e){switch(t){case"compositionend":return Mx(e);case"keypress":return e.which!==32?null:(O1=!0,D1);case"textInput":return t=e.data,t===D1&&O1?null:t;default:return null}}function HI(t,e){if(Ua)return t==="compositionend"||!Yp&&Lx(t,e)?(t=Ox(),jc=Kp=Wi=null,Ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fx&&e.locale!=="ko"?null:e.data;default:return null}}var $I={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$I[t.type]:e==="textarea"}function Vx(t,e,r,n){px(n),e=mf(e,"onChange"),0<e.length&&(r=new qp("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Cl=null,Ql=null;function GI(t){qx(t,0)}function vh(t){var e=za(t);if(ox(e))return t}function KI(t,e){if(t==="change")return e}var bx=!1;if(li){var A0;if(li){var I0="oninput"in document;if(!I0){var L1=document.createElement("div");L1.setAttribute("oninput","return;"),I0=typeof L1.oninput=="function"}A0=I0}else A0=!1;bx=A0&&(!document.documentMode||9<document.documentMode)}function M1(){Cl&&(Cl.detachEvent("onpropertychange",Ux),Ql=Cl=null)}function Ux(t){if(t.propertyName==="value"&&vh(Ql)){var e=[];Vx(e,Ql,t,zp(t)),vx(GI,e)}}function qI(t,e,r){t==="focusin"?(M1(),Cl=e,Ql=r,Cl.attachEvent("onpropertychange",Ux)):t==="focusout"&&M1()}function XI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vh(Ql)}function YI(t,e){if(t==="click")return vh(e)}function QI(t,e){if(t==="input"||t==="change")return vh(e)}function JI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var An=typeof Object.is=="function"?Object.is:JI;function Jl(t,e){if(An(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!cd.call(e,i)||!An(t[i],e[i]))return!1}return!0}function V1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b1(t,e){var r=V1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=V1(r)}}function Bx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jx(){for(var t=window,e=lf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=lf(t.document)}return e}function Qp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZI(t){var e=jx(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Bx(r.ownerDocument.documentElement,r)){if(n!==null&&Qp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=b1(r,s);var a=b1(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eC=li&&"documentMode"in document&&11>=document.documentMode,Ba=null,Pd=null,Rl=null,kd=!1;function U1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kd||Ba==null||Ba!==lf(n)||(n=Ba,"selectionStart"in n&&Qp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rl&&Jl(Rl,n)||(Rl=n,n=mf(Pd,"onSelect"),0<n.length&&(e=new qp("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ba)))}function mc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ja={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},C0={},zx={};li&&(zx=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function yh(t){if(C0[t])return C0[t];if(!ja[t])return t;var e=ja[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in zx)return C0[t]=e[r];return t}var Wx=yh("animationend"),Hx=yh("animationiteration"),$x=yh("animationstart"),Gx=yh("transitionend"),Kx=new Map,B1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(t,e){Kx.set(t,e),la(e,[t])}for(var R0=0;R0<B1.length;R0++){var P0=B1[R0],tC=P0.toLowerCase(),rC=P0[0].toUpperCase()+P0.slice(1);ys(tC,"on"+rC)}ys(Wx,"onAnimationEnd");ys(Hx,"onAnimationIteration");ys($x,"onAnimationStart");ys("dblclick","onDoubleClick");ys("focusin","onFocus");ys("focusout","onBlur");ys(Gx,"onTransitionEnd");po("onMouseEnter",["mouseout","mouseover"]);po("onMouseLeave",["mouseout","mouseover"]);po("onPointerEnter",["pointerout","pointerover"]);po("onPointerLeave",["pointerout","pointerover"]);la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));la("onBeforeInput",["compositionend","keypress","textInput","paste"]);la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nC=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function j1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,tI(n,e,void 0,t),t.currentTarget=null}function qx(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;j1(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;j1(i,o,c),s=l}}}if(cf)throw t=Ad,cf=!1,Ad=null,t}function ut(t,e){var r=e[Ld];r===void 0&&(r=e[Ld]=new Set);var n=t+"__bubble";r.has(n)||(Xx(e,t,2,!1),r.add(n))}function k0(t,e,r){var n=0;e&&(n|=4),Xx(r,t,n,e)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Zl(t){if(!t[gc]){t[gc]=!0,rx.forEach(function(r){r!=="selectionchange"&&(nC.has(r)||k0(r,!1,t),k0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gc]||(e[gc]=!0,k0("selectionchange",!1,e))}}function Xx(t,e,r,n){switch(Dx(e)){case 1:var i=_I;break;case 4:i=vI;break;default:i=Gp}r=i.bind(null,e,r,t),i=void 0,!Sd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function N0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Us(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}vx(function(){var c=s,f=zp(r),h=[];e:{var d=Kx.get(t);if(d!==void 0){var m=qp,y=t;switch(t){case"keypress":if(zc(r)===0)break e;case"keydown":case"keyup":m=OI;break;case"focusin":y="focus",m=S0;break;case"focusout":y="blur",m=S0;break;case"beforeblur":case"afterblur":m=S0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=P1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=EI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=MI;break;case Wx:case Hx:case $x:m=SI;break;case Gx:m=bI;break;case"scroll":m=yI;break;case"wheel":m=BI;break;case"copy":case"cut":case"paste":m=II;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=N1}var g=(e&4)!==0,S=!g&&t==="scroll",A=g?d!==null?d+"Capture":null:d;g=[];for(var E=c,w;E!==null;){w=E;var V=w.stateNode;if(w.tag===5&&V!==null&&(w=V,A!==null&&(V=Kl(E,A),V!=null&&g.push(eu(E,V,w)))),S)break;E=E.return}0<g.length&&(d=new m(d,y,null,r,f),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&r!==Td&&(y=r.relatedTarget||r.fromElement)&&(Us(y)||y[ui]))break e;if((m||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=c,y=y?Us(y):null,y!==null&&(S=ua(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(g=P1,V="onMouseLeave",A="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(g=N1,V="onPointerLeave",A="onPointerEnter",E="pointer"),S=m==null?d:za(m),w=y==null?d:za(y),d=new g(V,E+"leave",m,r,f),d.target=S,d.relatedTarget=w,V=null,Us(f)===c&&(g=new g(A,E+"enter",y,r,f),g.target=w,g.relatedTarget=S,V=g),S=V,m&&y)t:{for(g=m,A=y,E=0,w=g;w;w=Ra(w))E++;for(w=0,V=A;V;V=Ra(V))w++;for(;0<E-w;)g=Ra(g),E--;for(;0<w-E;)A=Ra(A),w--;for(;E--;){if(g===A||A!==null&&g===A.alternate)break t;g=Ra(g),A=Ra(A)}g=null}else g=null;m!==null&&z1(h,d,m,g,!1),y!==null&&S!==null&&z1(h,S,y,g,!0)}}e:{if(d=c?za(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var j=KI;else if(F1(d))if(bx)j=QI;else{j=XI;var W=qI}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(j=YI);if(j&&(j=j(t,c))){Vx(h,j,r,f);break e}W&&W(t,d,c),t==="focusout"&&(W=d._wrapperState)&&W.controlled&&d.type==="number"&&_d(d,"number",d.value)}switch(W=c?za(c):window,t){case"focusin":(F1(W)||W.contentEditable==="true")&&(Ba=W,Pd=c,Rl=null);break;case"focusout":Rl=Pd=Ba=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,U1(h,r,f);break;case"selectionchange":if(eC)break;case"keydown":case"keyup":U1(h,r,f)}var x;if(Yp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ua?Lx(t,r)&&(v="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(v="onCompositionStart");v&&(Fx&&r.locale!=="ko"&&(Ua||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ua&&(x=Ox()):(Wi=f,Kp="value"in Wi?Wi.value:Wi.textContent,Ua=!0)),W=mf(c,v),0<W.length&&(v=new k1(v,t,null,r,f),h.push({event:v,listeners:W}),x?v.data=x:(x=Mx(r),x!==null&&(v.data=x)))),(x=zI?WI(t,r):HI(t,r))&&(c=mf(c,"onBeforeInput"),0<c.length&&(f=new k1("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:c}),f.data=x))}qx(h,e)})}function eu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function mf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Kl(t,r),s!=null&&n.unshift(eu(t,s,i)),s=Kl(t,e),s!=null&&n.push(eu(t,s,i))),t=t.return}return n}function Ra(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z1(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Kl(r,s),l!=null&&a.unshift(eu(r,l,o))):i||(l=Kl(r,s),l!=null&&a.push(eu(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var iC=/\r\n?/g,sC=/\u0000|\uFFFD/g;function W1(t){return(typeof t=="string"?t:""+t).replace(iC,`
`).replace(sC,"")}function _c(t,e,r){if(e=W1(e),W1(t)!==e&&r)throw Error(se(425))}function gf(){}var Nd=null,Dd=null;function Od(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fd=typeof setTimeout=="function"?setTimeout:void 0,aC=typeof clearTimeout=="function"?clearTimeout:void 0,H1=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof H1<"u"?function(t){return H1.resolve(null).then(t).catch(lC)}:Fd;function lC(t){setTimeout(function(){throw t})}function D0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Yl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Yl(e)}function Qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Do=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Do,tu="__reactProps$"+Do,ui="__reactContainer$"+Do,Ld="__reactEvents$"+Do,uC="__reactListeners$"+Do,cC="__reactHandles$"+Do;function Us(t){var e=t[Vn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ui]||r[Vn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=$1(t);t!==null;){if(r=t[Vn])return r;t=$1(t)}return e}t=r,r=t.parentNode}return null}function Ru(t){return t=t[Vn]||t[ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function xh(t){return t[tu]||null}var Md=[],Wa=-1;function xs(t){return{current:t}}function ft(t){0>Wa||(t.current=Md[Wa],Md[Wa]=null,Wa--)}function ot(t,e){Wa++,Md[Wa]=t.current,t.current=e}var us={},gr=xs(us),kr=xs(!1),qs=us;function mo(t,e){var r=t.type.contextTypes;if(!r)return us;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nr(t){return t=t.childContextTypes,t!=null}function _f(){ft(kr),ft(gr)}function G1(t,e,r){if(gr.current!==us)throw Error(se(168));ot(gr,e),ot(kr,r)}function Yx(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(se(108,qA(t)||"Unknown",i));return vt({},r,n)}function vf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||us,qs=gr.current,ot(gr,t),ot(kr,kr.current),!0}function K1(t,e,r){var n=t.stateNode;if(!n)throw Error(se(169));r?(t=Yx(t,e,qs),n.__reactInternalMemoizedMergedChildContext=t,ft(kr),ft(gr),ot(gr,t)):ft(kr),ot(kr,r)}var Jn=null,Eh=!1,O0=!1;function Qx(t){Jn===null?Jn=[t]:Jn.push(t)}function fC(t){Eh=!0,Qx(t)}function Es(){if(!O0&&Jn!==null){O0=!0;var t=0,e=Ye;try{var r=Jn;for(Ye=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Jn=null,Eh=!1}catch(i){throw Jn!==null&&(Jn=Jn.slice(t+1)),Tx(Wp,Es),i}finally{Ye=e,O0=!1}}return null}var Ha=[],$a=0,yf=null,xf=0,Jr=[],Zr=0,Xs=null,Zn=1,ei="";function Fs(t,e){Ha[$a++]=xf,Ha[$a++]=yf,yf=t,xf=e}function Jx(t,e,r){Jr[Zr++]=Zn,Jr[Zr++]=ei,Jr[Zr++]=Xs,Xs=t;var n=Zn;t=ei;var i=32-En(n)-1;n&=~(1<<i),r+=1;var s=32-En(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Zn=1<<32-En(e)+i|r<<i|n,ei=s+t}else Zn=1<<s|r<<i|n,ei=t}function Jp(t){t.return!==null&&(Fs(t,1),Jx(t,1,0))}function Zp(t){for(;t===yf;)yf=Ha[--$a],Ha[$a]=null,xf=Ha[--$a],Ha[$a]=null;for(;t===Xs;)Xs=Jr[--Zr],Jr[Zr]=null,ei=Jr[--Zr],Jr[Zr]=null,Zn=Jr[--Zr],Jr[Zr]=null}var Hr=null,zr=null,dt=!1,_n=null;function Zx(t,e){var r=rn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function q1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hr=t,zr=Qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hr=t,zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Xs!==null?{id:Zn,overflow:ei}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=rn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Hr=t,zr=null,!0):!1;default:return!1}}function Vd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bd(t){if(dt){var e=zr;if(e){var r=e;if(!q1(t,e)){if(Vd(t))throw Error(se(418));e=Qi(r.nextSibling);var n=Hr;e&&q1(t,e)?Zx(n,r):(t.flags=t.flags&-4097|2,dt=!1,Hr=t)}}else{if(Vd(t))throw Error(se(418));t.flags=t.flags&-4097|2,dt=!1,Hr=t}}}function X1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hr=t}function vc(t){if(t!==Hr)return!1;if(!dt)return X1(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Od(t.type,t.memoizedProps)),e&&(e=zr)){if(Vd(t))throw eE(),Error(se(418));for(;e;)Zx(t,e),e=Qi(e.nextSibling)}if(X1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){zr=Qi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}zr=null}}else zr=Hr?Qi(t.stateNode.nextSibling):null;return!0}function eE(){for(var t=zr;t;)t=Qi(t.nextSibling)}function go(){zr=Hr=null,dt=!1}function em(t){_n===null?_n=[t]:_n.push(t)}var hC=vi.ReactCurrentBatchConfig;function ul(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(se(309));var n=r.stateNode}if(!n)throw Error(se(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(se(284));if(!r._owner)throw Error(se(290,t))}return t}function yc(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Y1(t){var e=t._init;return e(t._payload)}function tE(t){function e(A,E){if(t){var w=A.deletions;w===null?(A.deletions=[E],A.flags|=16):w.push(E)}}function r(A,E){if(!t)return null;for(;E!==null;)e(A,E),E=E.sibling;return null}function n(A,E){for(A=new Map;E!==null;)E.key!==null?A.set(E.key,E):A.set(E.index,E),E=E.sibling;return A}function i(A,E){return A=ts(A,E),A.index=0,A.sibling=null,A}function s(A,E,w){return A.index=w,t?(w=A.alternate,w!==null?(w=w.index,w<E?(A.flags|=2,E):w):(A.flags|=2,E)):(A.flags|=1048576,E)}function a(A){return t&&A.alternate===null&&(A.flags|=2),A}function o(A,E,w,V){return E===null||E.tag!==6?(E=B0(w,A.mode,V),E.return=A,E):(E=i(E,w),E.return=A,E)}function l(A,E,w,V){var j=w.type;return j===ba?f(A,E,w.props.children,V,w.key):E!==null&&(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Li&&Y1(j)===E.type)?(V=i(E,w.props),V.ref=ul(A,E,w),V.return=A,V):(V=Xc(w.type,w.key,w.props,null,A.mode,V),V.ref=ul(A,E,w),V.return=A,V)}function c(A,E,w,V){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=j0(w,A.mode,V),E.return=A,E):(E=i(E,w.children||[]),E.return=A,E)}function f(A,E,w,V,j){return E===null||E.tag!==7?(E=Hs(w,A.mode,V,j),E.return=A,E):(E=i(E,w),E.return=A,E)}function h(A,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return E=B0(""+E,A.mode,w),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case lc:return w=Xc(E.type,E.key,E.props,null,A.mode,w),w.ref=ul(A,null,E),w.return=A,w;case Va:return E=j0(E,A.mode,w),E.return=A,E;case Li:var V=E._init;return h(A,V(E._payload),w)}if(pl(E)||il(E))return E=Hs(E,A.mode,w,null),E.return=A,E;yc(A,E)}return null}function d(A,E,w,V){var j=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:o(A,E,""+w,V);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case lc:return w.key===j?l(A,E,w,V):null;case Va:return w.key===j?c(A,E,w,V):null;case Li:return j=w._init,d(A,E,j(w._payload),V)}if(pl(w)||il(w))return j!==null?null:f(A,E,w,V,null);yc(A,w)}return null}function m(A,E,w,V,j){if(typeof V=="string"&&V!==""||typeof V=="number")return A=A.get(w)||null,o(E,A,""+V,j);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case lc:return A=A.get(V.key===null?w:V.key)||null,l(E,A,V,j);case Va:return A=A.get(V.key===null?w:V.key)||null,c(E,A,V,j);case Li:var W=V._init;return m(A,E,w,W(V._payload),j)}if(pl(V)||il(V))return A=A.get(w)||null,f(E,A,V,j,null);yc(E,V)}return null}function y(A,E,w,V){for(var j=null,W=null,x=E,v=E=0,T=null;x!==null&&v<w.length;v++){x.index>v?(T=x,x=null):T=x.sibling;var C=d(A,x,w[v],V);if(C===null){x===null&&(x=T);break}t&&x&&C.alternate===null&&e(A,x),E=s(C,E,v),W===null?j=C:W.sibling=C,W=C,x=T}if(v===w.length)return r(A,x),dt&&Fs(A,v),j;if(x===null){for(;v<w.length;v++)x=h(A,w[v],V),x!==null&&(E=s(x,E,v),W===null?j=x:W.sibling=x,W=x);return dt&&Fs(A,v),j}for(x=n(A,x);v<w.length;v++)T=m(x,A,v,w[v],V),T!==null&&(t&&T.alternate!==null&&x.delete(T.key===null?v:T.key),E=s(T,E,v),W===null?j=T:W.sibling=T,W=T);return t&&x.forEach(function(P){return e(A,P)}),dt&&Fs(A,v),j}function g(A,E,w,V){var j=il(w);if(typeof j!="function")throw Error(se(150));if(w=j.call(w),w==null)throw Error(se(151));for(var W=j=null,x=E,v=E=0,T=null,C=w.next();x!==null&&!C.done;v++,C=w.next()){x.index>v?(T=x,x=null):T=x.sibling;var P=d(A,x,C.value,V);if(P===null){x===null&&(x=T);break}t&&x&&P.alternate===null&&e(A,x),E=s(P,E,v),W===null?j=P:W.sibling=P,W=P,x=T}if(C.done)return r(A,x),dt&&Fs(A,v),j;if(x===null){for(;!C.done;v++,C=w.next())C=h(A,C.value,V),C!==null&&(E=s(C,E,v),W===null?j=C:W.sibling=C,W=C);return dt&&Fs(A,v),j}for(x=n(A,x);!C.done;v++,C=w.next())C=m(x,A,v,C.value,V),C!==null&&(t&&C.alternate!==null&&x.delete(C.key===null?v:C.key),E=s(C,E,v),W===null?j=C:W.sibling=C,W=C);return t&&x.forEach(function(L){return e(A,L)}),dt&&Fs(A,v),j}function S(A,E,w,V){if(typeof w=="object"&&w!==null&&w.type===ba&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case lc:e:{for(var j=w.key,W=E;W!==null;){if(W.key===j){if(j=w.type,j===ba){if(W.tag===7){r(A,W.sibling),E=i(W,w.props.children),E.return=A,A=E;break e}}else if(W.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Li&&Y1(j)===W.type){r(A,W.sibling),E=i(W,w.props),E.ref=ul(A,W,w),E.return=A,A=E;break e}r(A,W);break}else e(A,W);W=W.sibling}w.type===ba?(E=Hs(w.props.children,A.mode,V,w.key),E.return=A,A=E):(V=Xc(w.type,w.key,w.props,null,A.mode,V),V.ref=ul(A,E,w),V.return=A,A=V)}return a(A);case Va:e:{for(W=w.key;E!==null;){if(E.key===W)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){r(A,E.sibling),E=i(E,w.children||[]),E.return=A,A=E;break e}else{r(A,E);break}else e(A,E);E=E.sibling}E=j0(w,A.mode,V),E.return=A,A=E}return a(A);case Li:return W=w._init,S(A,E,W(w._payload),V)}if(pl(w))return y(A,E,w,V);if(il(w))return g(A,E,w,V);yc(A,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,E!==null&&E.tag===6?(r(A,E.sibling),E=i(E,w),E.return=A,A=E):(r(A,E),E=B0(w,A.mode,V),E.return=A,A=E),a(A)):r(A,E)}return S}var _o=tE(!0),rE=tE(!1),Ef=xs(null),Tf=null,Ga=null,tm=null;function rm(){tm=Ga=Tf=null}function nm(t){var e=Ef.current;ft(Ef),t._currentValue=e}function Ud(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function to(t,e){Tf=t,tm=Ga=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pr=!0),t.firstContext=null)}function sn(t){var e=t._currentValue;if(tm!==t)if(t={context:t,memoizedValue:e,next:null},Ga===null){if(Tf===null)throw Error(se(308));Ga=t,Tf.dependencies={lanes:0,firstContext:t}}else Ga=Ga.next=t;return e}var Bs=null;function im(t){Bs===null?Bs=[t]:Bs.push(t)}function nE(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,im(e)):(r.next=i.next,i.next=r),e.interleaved=r,ci(t,n)}function ci(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Mi=!1;function sm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ni(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ji(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ze&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ci(t,r)}return i=n.interleaved,i===null?(e.next=e,im(n)):(e.next=i.next,i.next=e),n.interleaved=e,ci(t,r)}function Wc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Hp(t,r)}}function Q1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function wf(t,e,r,n){var i=t.updateQueue;Mi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,f=c=l=null,o=s;do{var d=o.lane,m=o.eventTime;if((n&d)===d){f!==null&&(f=f.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,g=o;switch(d=e,m=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(m,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,d=typeof y=="function"?y.call(m,h,d):y,d==null)break e;h=vt({},h,d);break e;case 2:Mi=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else m={eventTime:m,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=m,l=h):f=f.next=m,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qs|=a,t.lanes=a,t.memoizedState=h}}function J1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(se(191,i));i.call(n)}}}var Pu={},Un=xs(Pu),ru=xs(Pu),nu=xs(Pu);function js(t){if(t===Pu)throw Error(se(174));return t}function am(t,e){switch(ot(nu,e),ot(ru,t),ot(Un,Pu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yd(e,t)}ft(Un),ot(Un,e)}function vo(){ft(Un),ft(ru),ft(nu)}function sE(t){js(nu.current);var e=js(Un.current),r=yd(e,t.type);e!==r&&(ot(ru,t),ot(Un,r))}function om(t){ru.current===t&&(ft(Un),ft(ru))}var gt=xs(0);function Sf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var F0=[];function lm(){for(var t=0;t<F0.length;t++)F0[t]._workInProgressVersionPrimary=null;F0.length=0}var Hc=vi.ReactCurrentDispatcher,L0=vi.ReactCurrentBatchConfig,Ys=0,_t=null,bt=null,Ht=null,Af=!1,Pl=!1,iu=0,dC=0;function lr(){throw Error(se(321))}function um(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!An(t[r],e[r]))return!1;return!0}function cm(t,e,r,n,i,s){if(Ys=s,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hc.current=t===null||t.memoizedState===null?_C:vC,t=r(n,i),Pl){s=0;do{if(Pl=!1,iu=0,25<=s)throw Error(se(301));s+=1,Ht=bt=null,e.updateQueue=null,Hc.current=yC,t=r(n,i)}while(Pl)}if(Hc.current=If,e=bt!==null&&bt.next!==null,Ys=0,Ht=bt=_t=null,Af=!1,e)throw Error(se(300));return t}function fm(){var t=iu!==0;return iu=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?_t.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function an(){if(bt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Ht===null?_t.memoizedState:Ht.next;if(e!==null)Ht=e,bt=t;else{if(t===null)throw Error(se(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ht===null?_t.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function su(t,e){return typeof e=="function"?e(t):e}function M0(t){var e=an(),r=e.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=t;var n=bt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var f=c.lane;if((Ys&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,_t.lanes|=f,Qs|=f}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,An(n,e.memoizedState)||(Pr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,_t.lanes|=s,Qs|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function V0(t){var e=an(),r=e.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);An(s,e.memoizedState)||(Pr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function aE(){}function oE(t,e){var r=_t,n=an(),i=e(),s=!An(n.memoizedState,i);if(s&&(n.memoizedState=i,Pr=!0),n=n.queue,hm(cE.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Ht!==null&&Ht.memoizedState.tag&1){if(r.flags|=2048,au(9,uE.bind(null,r,n,i,e),void 0,null),qt===null)throw Error(se(349));Ys&30||lE(r,e,i)}return i}function lE(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function uE(t,e,r,n){e.value=r,e.getSnapshot=n,fE(e)&&hE(t)}function cE(t,e,r){return r(function(){fE(e)&&hE(t)})}function fE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!An(t,r)}catch{return!0}}function hE(t){var e=ci(t,1);e!==null&&Tn(e,t,1,-1)}function Z1(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:su,lastRenderedState:t},e.queue=t,t=t.dispatch=gC.bind(null,_t,t),[e.memoizedState,t]}function au(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function dE(){return an().memoizedState}function $c(t,e,r,n){var i=Ln();_t.flags|=t,i.memoizedState=au(1|e,r,void 0,n===void 0?null:n)}function Th(t,e,r,n){var i=an();n=n===void 0?null:n;var s=void 0;if(bt!==null){var a=bt.memoizedState;if(s=a.destroy,n!==null&&um(n,a.deps)){i.memoizedState=au(e,r,s,n);return}}_t.flags|=t,i.memoizedState=au(1|e,r,s,n)}function e_(t,e){return $c(8390656,8,t,e)}function hm(t,e){return Th(2048,8,t,e)}function pE(t,e){return Th(4,2,t,e)}function mE(t,e){return Th(4,4,t,e)}function gE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _E(t,e,r){return r=r!=null?r.concat([t]):null,Th(4,4,gE.bind(null,e,t),r)}function dm(){}function vE(t,e){var r=an();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&um(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function yE(t,e){var r=an();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&um(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function xE(t,e,r){return Ys&21?(An(r,e)||(r=Ax(),_t.lanes|=r,Qs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pr=!0),t.memoizedState=r)}function pC(t,e){var r=Ye;Ye=r!==0&&4>r?r:4,t(!0);var n=L0.transition;L0.transition={};try{t(!1),e()}finally{Ye=r,L0.transition=n}}function EE(){return an().memoizedState}function mC(t,e,r){var n=es(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},TE(t))wE(e,r);else if(r=nE(t,e,r,n),r!==null){var i=Tr();Tn(r,t,n,i),SE(r,e,n)}}function gC(t,e,r){var n=es(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(TE(t))wE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,An(o,a)){var l=e.interleaved;l===null?(i.next=i,im(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=nE(t,e,i,n),r!==null&&(i=Tr(),Tn(r,t,n,i),SE(r,e,n))}}function TE(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function wE(t,e){Pl=Af=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function SE(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Hp(t,r)}}var If={readContext:sn,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},_C={readContext:sn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:sn,useEffect:e_,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,$c(4194308,4,gE.bind(null,e,t),r)},useLayoutEffect:function(t,e){return $c(4194308,4,t,e)},useInsertionEffect:function(t,e){return $c(4,2,t,e)},useMemo:function(t,e){var r=Ln();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ln();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=mC.bind(null,_t,t),[n.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:Z1,useDebugValue:dm,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=Z1(!1),e=t[0];return t=pC.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_t,i=Ln();if(dt){if(r===void 0)throw Error(se(407));r=r()}else{if(r=e(),qt===null)throw Error(se(349));Ys&30||lE(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,e_(cE.bind(null,n,s,t),[t]),n.flags|=2048,au(9,uE.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ln(),e=qt.identifierPrefix;if(dt){var r=ei,n=Zn;r=(n&~(1<<32-En(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=iu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=dC++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vC={readContext:sn,useCallback:vE,useContext:sn,useEffect:hm,useImperativeHandle:_E,useInsertionEffect:pE,useLayoutEffect:mE,useMemo:yE,useReducer:M0,useRef:dE,useState:function(){return M0(su)},useDebugValue:dm,useDeferredValue:function(t){var e=an();return xE(e,bt.memoizedState,t)},useTransition:function(){var t=M0(su)[0],e=an().memoizedState;return[t,e]},useMutableSource:aE,useSyncExternalStore:oE,useId:EE,unstable_isNewReconciler:!1},yC={readContext:sn,useCallback:vE,useContext:sn,useEffect:hm,useImperativeHandle:_E,useInsertionEffect:pE,useLayoutEffect:mE,useMemo:yE,useReducer:V0,useRef:dE,useState:function(){return V0(su)},useDebugValue:dm,useDeferredValue:function(t){var e=an();return bt===null?e.memoizedState=t:xE(e,bt.memoizedState,t)},useTransition:function(){var t=V0(su)[0],e=an().memoizedState;return[t,e]},useMutableSource:aE,useSyncExternalStore:oE,useId:EE,unstable_isNewReconciler:!1};function mn(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Bd(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:vt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wh={isMounted:function(t){return(t=t._reactInternals)?ua(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Tr(),i=es(t),s=ni(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ji(t,s,i),e!==null&&(Tn(e,t,i,n),Wc(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Tr(),i=es(t),s=ni(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ji(t,s,i),e!==null&&(Tn(e,t,i,n),Wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Tr(),n=es(t),i=ni(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ji(t,i,n),e!==null&&(Tn(e,t,n,r),Wc(e,t,n))}};function t_(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Jl(r,n)||!Jl(i,s):!0}function AE(t,e,r){var n=!1,i=us,s=e.contextType;return typeof s=="object"&&s!==null?s=sn(s):(i=Nr(e)?qs:gr.current,n=e.contextTypes,s=(n=n!=null)?mo(t,i):us),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function r_(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&wh.enqueueReplaceState(e,e.state,null)}function jd(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},sm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=sn(s):(s=Nr(e)?qs:gr.current,i.context=mo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bd(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wh.enqueueReplaceState(i,i.state,null),wf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yo(t,e){try{var r="",n=e;do r+=KA(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function b0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function zd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var xC=typeof WeakMap=="function"?WeakMap:Map;function IE(t,e,r){r=ni(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Rf||(Rf=!0,Jd=n),zd(t,e)},r}function CE(t,e,r){r=ni(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){zd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){zd(t,e),typeof n!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function n_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new xC;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=FC.bind(null,t,e,r),e.then(t,t))}function i_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function s_(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ni(-1,1),e.tag=2,Ji(r,e,1))),r.lanes|=1),t)}var EC=vi.ReactCurrentOwner,Pr=!1;function yr(t,e,r,n){e.child=t===null?rE(e,null,r,n):_o(e,t.child,r,n)}function a_(t,e,r,n,i){r=r.render;var s=e.ref;return to(e,i),n=cm(t,e,r,n,s,i),r=fm(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fi(t,e,i)):(dt&&r&&Jp(e),e.flags|=1,yr(t,e,n,i),e.child)}function o_(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Em(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,RE(t,e,s,n,i)):(t=Xc(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Jl,r(a,n)&&t.ref===e.ref)return fi(t,e,i)}return e.flags|=1,t=ts(s,n),t.ref=e.ref,t.return=e,e.child=t}function RE(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Jl(s,n)&&t.ref===e.ref)if(Pr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Pr=!0);else return e.lanes=t.lanes,fi(t,e,i)}return Wd(t,e,r,n,i)}function PE(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(qa,br),br|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(qa,br),br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ot(qa,br),br|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ot(qa,br),br|=n;return yr(t,e,i,r),e.child}function kE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Wd(t,e,r,n,i){var s=Nr(r)?qs:gr.current;return s=mo(e,s),to(e,i),r=cm(t,e,r,n,s,i),n=fm(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fi(t,e,i)):(dt&&n&&Jp(e),e.flags|=1,yr(t,e,r,i),e.child)}function l_(t,e,r,n,i){if(Nr(r)){var s=!0;vf(e)}else s=!1;if(to(e,i),e.stateNode===null)Gc(t,e),AE(e,r,n),jd(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=sn(c):(c=Nr(r)?qs:gr.current,c=mo(e,c));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&r_(e,a,n,c),Mi=!1;var d=e.memoizedState;a.state=d,wf(e,n,a,i),l=e.memoizedState,o!==n||d!==l||kr.current||Mi?(typeof f=="function"&&(Bd(e,r,f,n),l=e.memoizedState),(o=Mi||t_(e,r,o,n,d,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,iE(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:mn(e.type,o),a.props=c,h=e.pendingProps,d=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=sn(l):(l=Nr(r)?qs:gr.current,l=mo(e,l));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||d!==l)&&r_(e,a,n,l),Mi=!1,d=e.memoizedState,a.state=d,wf(e,n,a,i);var y=e.memoizedState;o!==h||d!==y||kr.current||Mi?(typeof m=="function"&&(Bd(e,r,m,n),y=e.memoizedState),(c=Mi||t_(e,r,c,n,d,y,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),a.props=n,a.state=y,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Hd(t,e,r,n,s,i)}function Hd(t,e,r,n,i,s){kE(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&K1(e,r,!1),fi(t,e,s);n=e.stateNode,EC.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=_o(e,t.child,null,s),e.child=_o(e,null,o,s)):yr(t,e,o,s),e.memoizedState=n.state,i&&K1(e,r,!0),e.child}function NE(t){var e=t.stateNode;e.pendingContext?G1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&G1(t,e.context,!1),am(t,e.containerInfo)}function u_(t,e,r,n,i){return go(),em(i),e.flags|=256,yr(t,e,r,n),e.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function Gd(t){return{baseLanes:t,cachePool:null,transitions:null}}function DE(t,e,r){var n=e.pendingProps,i=gt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ot(gt,i&1),t===null)return bd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ih(a,n,0,null),t=Hs(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Gd(r),e.memoizedState=$d,t):pm(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return TC(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ts(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ts(o,s):(s=Hs(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Gd(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=$d,n}return s=t.child,t=s.sibling,n=ts(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function pm(t,e){return e=Ih({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xc(t,e,r,n){return n!==null&&em(n),_o(e,t.child,null,r),t=pm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TC(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=b0(Error(se(422))),xc(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Ih({mode:"visible",children:n.children},i,0,null),s=Hs(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&_o(e,t.child,null,a),e.child.memoizedState=Gd(a),e.memoizedState=$d,s);if(!(e.mode&1))return xc(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(se(419)),n=b0(s,n,void 0),xc(t,e,a,n)}if(o=(a&t.childLanes)!==0,Pr||o){if(n=qt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ci(t,i),Tn(n,t,i,-1))}return xm(),n=b0(Error(se(421))),xc(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,zr=Qi(i.nextSibling),Hr=e,dt=!0,_n=null,t!==null&&(Jr[Zr++]=Zn,Jr[Zr++]=ei,Jr[Zr++]=Xs,Zn=t.id,ei=t.overflow,Xs=e),e=pm(e,n.children),e.flags|=4096,e)}function c_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ud(t.return,e,r)}function U0(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function OE(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(yr(t,e,n.children,r),n=gt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c_(t,r,e);else if(t.tag===19)c_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ot(gt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Sf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),U0(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}U0(e,!0,r,null,s);break;case"together":U0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,r=ts(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ts(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function wC(t,e,r){switch(e.tag){case 3:NE(e),go();break;case 5:sE(e);break;case 1:Nr(e.type)&&vf(e);break;case 4:am(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ot(Ef,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ot(gt,gt.current&1),e.flags|=128,null):r&e.child.childLanes?DE(t,e,r):(ot(gt,gt.current&1),t=fi(t,e,r),t!==null?t.sibling:null);ot(gt,gt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return OE(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(gt,gt.current),n)break;return null;case 22:case 23:return e.lanes=0,PE(t,e,r)}return fi(t,e,r)}var FE,Kd,LE,ME;FE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Kd=function(){};LE=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,js(Un.current);var s=null;switch(r){case"input":i=md(t,i),n=md(t,n),s=[];break;case"select":i=vt({},i,{value:void 0}),n=vt({},n,{value:void 0}),s=[];break;case"textarea":i=vd(t,i),n=vd(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=gf)}xd(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($l.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($l.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ut("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ME=function(t,e,r,n){r!==n&&(e.flags|=4)};function cl(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ur(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function SC(t,e,r){var n=e.pendingProps;switch(Zp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(e),null;case 1:return Nr(e.type)&&_f(),ur(e),null;case 3:return n=e.stateNode,vo(),ft(kr),ft(gr),lm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(vc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&(tp(_n),_n=null))),Kd(t,e),ur(e),null;case 5:om(e);var i=js(nu.current);if(r=e.type,t!==null&&e.stateNode!=null)LE(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(se(166));return ur(e),null}if(t=js(Un.current),vc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Vn]=e,n[tu]=s,t=(e.mode&1)!==0,r){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(i=0;i<gl.length;i++)ut(gl[i],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":y1(n,s),ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ut("invalid",n);break;case"textarea":E1(n,s),ut("invalid",n)}xd(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&_c(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&_c(n.textContent,o,t),i=["children",""+o]):$l.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ut("scroll",n)}switch(r){case"input":uc(n),x1(n,s,!0);break;case"textarea":uc(n),T1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=gf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cx(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Vn]=e,t[tu]=n,FE(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ed(r,n),r){case"dialog":ut("cancel",t),ut("close",t),i=n;break;case"iframe":case"object":case"embed":ut("load",t),i=n;break;case"video":case"audio":for(i=0;i<gl.length;i++)ut(gl[i],t);i=n;break;case"source":ut("error",t),i=n;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=n;break;case"details":ut("toggle",t),i=n;break;case"input":y1(t,n),i=md(t,n),ut("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=vt({},n,{value:void 0}),ut("invalid",t);break;case"textarea":E1(t,n),i=vd(t,n),ut("invalid",t);break;default:i=n}xd(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?dx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fx(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Gl(t,l):typeof l=="number"&&Gl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($l.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ut("scroll",t):l!=null&&bp(t,s,l,a))}switch(r){case"input":uc(t),x1(t,n,!1);break;case"textarea":uc(t),T1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ls(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Qa(t,!!n.multiple,s,!1):n.defaultValue!=null&&Qa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ur(e),null;case 6:if(t&&e.stateNode!=null)ME(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(se(166));if(r=js(nu.current),js(Un.current),vc(e)){if(n=e.stateNode,r=e.memoizedProps,n[Vn]=e,(s=n.nodeValue!==r)&&(t=Hr,t!==null))switch(t.tag){case 3:_c(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_c(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vn]=e,e.stateNode=n}return ur(e),null;case 13:if(ft(gt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&zr!==null&&e.mode&1&&!(e.flags&128))eE(),go(),e.flags|=98560,s=!1;else if(s=vc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(se(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(se(317));s[Vn]=e}else go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ur(e),s=!1}else _n!==null&&(tp(_n),_n=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?Ut===0&&(Ut=3):xm())),e.updateQueue!==null&&(e.flags|=4),ur(e),null);case 4:return vo(),Kd(t,e),t===null&&Zl(e.stateNode.containerInfo),ur(e),null;case 10:return nm(e.type._context),ur(e),null;case 17:return Nr(e.type)&&_f(),ur(e),null;case 19:if(ft(gt),s=e.memoizedState,s===null)return ur(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)cl(s,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Sf(t),a!==null){for(e.flags|=128,cl(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ot(gt,gt.current&1|2),e.child}t=t.sibling}s.tail!==null&&At()>xo&&(e.flags|=128,n=!0,cl(s,!1),e.lanes=4194304)}else{if(!n)if(t=Sf(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),cl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!dt)return ur(e),null}else 2*At()-s.renderingStartTime>xo&&r!==1073741824&&(e.flags|=128,n=!0,cl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=At(),e.sibling=null,r=gt.current,ot(gt,n?r&1|2:r&1),e):(ur(e),null);case 22:case 23:return ym(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?br&1073741824&&(ur(e),e.subtreeFlags&6&&(e.flags|=8192)):ur(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function AC(t,e){switch(Zp(e),e.tag){case 1:return Nr(e.type)&&_f(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vo(),ft(kr),ft(gr),lm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return om(e),null;case 13:if(ft(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(gt),null;case 4:return vo(),null;case 10:return nm(e.type._context),null;case 22:case 23:return ym(),null;case 24:return null;default:return null}}var Ec=!1,hr=!1,IC=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Ka(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Et(t,e,n)}else r.current=null}function qd(t,e,r){try{r()}catch(n){Et(t,e,n)}}var f_=!1;function CC(t,e){if(Nd=df,t=jx(),Qp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,f=0,h=t,d=null;t:for(;;){for(var m;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===t)break t;if(d===r&&++c===i&&(o=a),d===s&&++f===n&&(l=a),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Dd={focusedElem:t,selectionRange:r},df=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,S=y.memoizedState,A=e.stateNode,E=A.getSnapshotBeforeUpdate(e.elementType===e.type?g:mn(e.type,g),S);A.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(V){Et(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return y=f_,f_=!1,y}function kl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&qd(e,r,s)}i=i.next}while(i!==n)}}function Sh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Xd(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function VE(t){var e=t.alternate;e!==null&&(t.alternate=null,VE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[tu],delete e[Ld],delete e[uC],delete e[cC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bE(t){return t.tag===5||t.tag===3||t.tag===4}function h_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=gf));else if(n!==4&&(t=t.child,t!==null))for(Yd(t,e,r),t=t.sibling;t!==null;)Yd(t,e,r),t=t.sibling}function Qd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Qd(t,e,r),t=t.sibling;t!==null;)Qd(t,e,r),t=t.sibling}var Qt=null,gn=!1;function Di(t,e,r){for(r=r.child;r!==null;)UE(t,e,r),r=r.sibling}function UE(t,e,r){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(gh,r)}catch{}switch(r.tag){case 5:hr||Ka(r,e);case 6:var n=Qt,i=gn;Qt=null,Di(t,e,r),Qt=n,gn=i,Qt!==null&&(gn?(t=Qt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Qt.removeChild(r.stateNode));break;case 18:Qt!==null&&(gn?(t=Qt,r=r.stateNode,t.nodeType===8?D0(t.parentNode,r):t.nodeType===1&&D0(t,r),Yl(t)):D0(Qt,r.stateNode));break;case 4:n=Qt,i=gn,Qt=r.stateNode.containerInfo,gn=!0,Di(t,e,r),Qt=n,gn=i;break;case 0:case 11:case 14:case 15:if(!hr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&qd(r,e,a),i=i.next}while(i!==n)}Di(t,e,r);break;case 1:if(!hr&&(Ka(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Et(r,e,o)}Di(t,e,r);break;case 21:Di(t,e,r);break;case 22:r.mode&1?(hr=(n=hr)||r.memoizedState!==null,Di(t,e,r),hr=n):Di(t,e,r);break;default:Di(t,e,r)}}function d_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new IC),e.forEach(function(n){var i=MC.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function hn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Qt=o.stateNode,gn=!1;break e;case 3:Qt=o.stateNode.containerInfo,gn=!0;break e;case 4:Qt=o.stateNode.containerInfo,gn=!0;break e}o=o.return}if(Qt===null)throw Error(se(160));UE(s,a,i),Qt=null,gn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Et(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BE(e,t),e=e.sibling}function BE(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(e,t),Dn(t),n&4){try{kl(3,t,t.return),Sh(3,t)}catch(g){Et(t,t.return,g)}try{kl(5,t,t.return)}catch(g){Et(t,t.return,g)}}break;case 1:hn(e,t),Dn(t),n&512&&r!==null&&Ka(r,r.return);break;case 5:if(hn(e,t),Dn(t),n&512&&r!==null&&Ka(r,r.return),t.flags&32){var i=t.stateNode;try{Gl(i,"")}catch(g){Et(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&lx(i,s),Ed(o,a);var c=Ed(o,s);for(a=0;a<l.length;a+=2){var f=l[a],h=l[a+1];f==="style"?dx(i,h):f==="dangerouslySetInnerHTML"?fx(i,h):f==="children"?Gl(i,h):bp(i,f,h,c)}switch(o){case"input":gd(i,s);break;case"textarea":ux(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Qa(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?Qa(i,!!s.multiple,s.defaultValue,!0):Qa(i,!!s.multiple,s.multiple?[]:"",!1))}i[tu]=s}catch(g){Et(t,t.return,g)}}break;case 6:if(hn(e,t),Dn(t),n&4){if(t.stateNode===null)throw Error(se(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Et(t,t.return,g)}}break;case 3:if(hn(e,t),Dn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yl(e.containerInfo)}catch(g){Et(t,t.return,g)}break;case 4:hn(e,t),Dn(t);break;case 13:hn(e,t),Dn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_m=At())),n&4&&d_(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(hr=(c=hr)||f,hn(e,t),hr=c):hn(e,t),Dn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ye=t,f=t.child;f!==null;){for(h=ye=f;ye!==null;){switch(d=ye,m=d.child,d.tag){case 0:case 11:case 14:case 15:kl(4,d,d.return);break;case 1:Ka(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Et(n,r,g)}}break;case 5:Ka(d,d.return);break;case 22:if(d.memoizedState!==null){m_(h);continue}}m!==null?(m.return=d,ye=m):m_(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=hx("display",a))}catch(g){Et(t,t.return,g)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Et(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hn(e,t),Dn(t),n&4&&d_(t);break;case 21:break;default:hn(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(bE(r)){var n=r;break e}r=r.return}throw Error(se(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Gl(i,""),n.flags&=-33);var s=h_(t);Qd(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=h_(t);Yd(t,o,a);break;default:throw Error(se(161))}}catch(l){Et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RC(t,e,r){ye=t,jE(t)}function jE(t,e,r){for(var n=(t.mode&1)!==0;ye!==null;){var i=ye,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Ec;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||hr;o=Ec;var c=hr;if(Ec=a,(hr=l)&&!c)for(ye=i;ye!==null;)a=ye,l=a.child,a.tag===22&&a.memoizedState!==null?g_(i):l!==null?(l.return=a,ye=l):g_(i);for(;s!==null;)ye=s,jE(s),s=s.sibling;ye=i,Ec=o,hr=c}p_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ye=s):p_(t)}}function p_(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hr||Sh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!hr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:mn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&J1(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}J1(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Yl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}hr||e.flags&512&&Xd(e)}catch(d){Et(e,e.return,d)}}if(e===t){ye=null;break}if(r=e.sibling,r!==null){r.return=e.return,ye=r;break}ye=e.return}}function m_(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ye=r;break}ye=e.return}}function g_(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Sh(4,e)}catch(l){Et(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Et(e,i,l)}}var s=e.return;try{Xd(e)}catch(l){Et(e,s,l)}break;case 5:var a=e.return;try{Xd(e)}catch(l){Et(e,a,l)}}}catch(l){Et(e,e.return,l)}if(e===t){ye=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ye=o;break}ye=e.return}}var PC=Math.ceil,Cf=vi.ReactCurrentDispatcher,mm=vi.ReactCurrentOwner,nn=vi.ReactCurrentBatchConfig,ze=0,qt=null,Rt=null,nr=0,br=0,qa=xs(0),Ut=0,ou=null,Qs=0,Ah=0,gm=0,Nl=null,Cr=null,_m=0,xo=1/0,Qn=null,Rf=!1,Jd=null,Zi=null,Tc=!1,Hi=null,Pf=0,Dl=0,Zd=null,Kc=-1,qc=0;function Tr(){return ze&6?At():Kc!==-1?Kc:Kc=At()}function es(t){return t.mode&1?ze&2&&nr!==0?nr&-nr:hC.transition!==null?(qc===0&&(qc=Ax()),qc):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:Dx(t.type)),t):1}function Tn(t,e,r,n){if(50<Dl)throw Dl=0,Zd=null,Error(se(185));Iu(t,r,n),(!(ze&2)||t!==qt)&&(t===qt&&(!(ze&2)&&(Ah|=r),Ut===4&&bi(t,nr)),Dr(t,n),r===1&&ze===0&&!(e.mode&1)&&(xo=At()+500,Eh&&Es()))}function Dr(t,e){var r=t.callbackNode;hI(t,e);var n=hf(t,t===qt?nr:0);if(n===0)r!==null&&A1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&A1(r),e===1)t.tag===0?fC(__.bind(null,t)):Qx(__.bind(null,t)),oC(function(){!(ze&6)&&Es()}),r=null;else{switch(Ix(n)){case 1:r=Wp;break;case 4:r=wx;break;case 16:r=ff;break;case 536870912:r=Sx;break;default:r=ff}r=XE(r,zE.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function zE(t,e){if(Kc=-1,qc=0,ze&6)throw Error(se(327));var r=t.callbackNode;if(ro()&&t.callbackNode!==r)return null;var n=hf(t,t===qt?nr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=kf(t,n);else{e=n;var i=ze;ze|=2;var s=HE();(qt!==t||nr!==e)&&(Qn=null,xo=At()+500,Ws(t,e));do try{DC();break}catch(o){WE(t,o)}while(!0);rm(),Cf.current=s,ze=i,Rt!==null?e=0:(qt=null,nr=0,e=Ut)}if(e!==0){if(e===2&&(i=Id(t),i!==0&&(n=i,e=ep(t,i))),e===1)throw r=ou,Ws(t,0),bi(t,n),Dr(t,At()),r;if(e===6)bi(t,n);else{if(i=t.current.alternate,!(n&30)&&!kC(i)&&(e=kf(t,n),e===2&&(s=Id(t),s!==0&&(n=s,e=ep(t,s))),e===1))throw r=ou,Ws(t,0),bi(t,n),Dr(t,At()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(se(345));case 2:Ls(t,Cr,Qn);break;case 3:if(bi(t,n),(n&130023424)===n&&(e=_m+500-At(),10<e)){if(hf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Tr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fd(Ls.bind(null,t,Cr,Qn),e);break}Ls(t,Cr,Qn);break;case 4:if(bi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-En(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=At()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*PC(n/1960))-n,10<n){t.timeoutHandle=Fd(Ls.bind(null,t,Cr,Qn),n);break}Ls(t,Cr,Qn);break;case 5:Ls(t,Cr,Qn);break;default:throw Error(se(329))}}}return Dr(t,At()),t.callbackNode===r?zE.bind(null,t):null}function ep(t,e){var r=Nl;return t.current.memoizedState.isDehydrated&&(Ws(t,e).flags|=256),t=kf(t,e),t!==2&&(e=Cr,Cr=r,e!==null&&tp(e)),t}function tp(t){Cr===null?Cr=t:Cr.push.apply(Cr,t)}function kC(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!An(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bi(t,e){for(e&=~gm,e&=~Ah,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-En(e),n=1<<r;t[r]=-1,e&=~n}}function __(t){if(ze&6)throw Error(se(327));ro();var e=hf(t,0);if(!(e&1))return Dr(t,At()),null;var r=kf(t,e);if(t.tag!==0&&r===2){var n=Id(t);n!==0&&(e=n,r=ep(t,n))}if(r===1)throw r=ou,Ws(t,0),bi(t,e),Dr(t,At()),r;if(r===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ls(t,Cr,Qn),Dr(t,At()),null}function vm(t,e){var r=ze;ze|=1;try{return t(e)}finally{ze=r,ze===0&&(xo=At()+500,Eh&&Es())}}function Js(t){Hi!==null&&Hi.tag===0&&!(ze&6)&&ro();var e=ze;ze|=1;var r=nn.transition,n=Ye;try{if(nn.transition=null,Ye=1,t)return t()}finally{Ye=n,nn.transition=r,ze=e,!(ze&6)&&Es()}}function ym(){br=qa.current,ft(qa)}function Ws(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,aC(r)),Rt!==null)for(r=Rt.return;r!==null;){var n=r;switch(Zp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_f();break;case 3:vo(),ft(kr),ft(gr),lm();break;case 5:om(n);break;case 4:vo();break;case 13:ft(gt);break;case 19:ft(gt);break;case 10:nm(n.type._context);break;case 22:case 23:ym()}r=r.return}if(qt=t,Rt=t=ts(t.current,null),nr=br=e,Ut=0,ou=null,gm=Ah=Qs=0,Cr=Nl=null,Bs!==null){for(e=0;e<Bs.length;e++)if(r=Bs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Bs=null}return t}function WE(t,e){do{var r=Rt;try{if(rm(),Hc.current=If,Af){for(var n=_t.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Af=!1}if(Ys=0,Ht=bt=_t=null,Pl=!1,iu=0,mm.current=null,r===null||r.return===null){Ut=1,ou=e,Rt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=nr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=o,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=i_(a);if(m!==null){m.flags&=-257,s_(m,a,o,s,e),m.mode&1&&n_(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){n_(s,c,e),xm();break e}l=Error(se(426))}}else if(dt&&o.mode&1){var S=i_(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),s_(S,a,o,s,e),em(yo(l,o));break e}}s=l=yo(l,o),Ut!==4&&(Ut=2),Nl===null?Nl=[s]:Nl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=IE(s,l,e);Q1(s,A);break e;case 1:o=l;var E=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Zi===null||!Zi.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var V=CE(s,o,e);Q1(s,V);break e}}s=s.return}while(s!==null)}GE(r)}catch(j){e=j,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(!0)}function HE(){var t=Cf.current;return Cf.current=If,t===null?If:t}function xm(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),qt===null||!(Qs&268435455)&&!(Ah&268435455)||bi(qt,nr)}function kf(t,e){var r=ze;ze|=2;var n=HE();(qt!==t||nr!==e)&&(Qn=null,Ws(t,e));do try{NC();break}catch(i){WE(t,i)}while(!0);if(rm(),ze=r,Cf.current=n,Rt!==null)throw Error(se(261));return qt=null,nr=0,Ut}function NC(){for(;Rt!==null;)$E(Rt)}function DC(){for(;Rt!==null&&!nI();)$E(Rt)}function $E(t){var e=qE(t.alternate,t,br);t.memoizedProps=t.pendingProps,e===null?GE(t):Rt=e,mm.current=null}function GE(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=AC(r,e),r!==null){r.flags&=32767,Rt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,Rt=null;return}}else if(r=SC(r,e,br),r!==null){Rt=r;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Ut===0&&(Ut=5)}function Ls(t,e,r){var n=Ye,i=nn.transition;try{nn.transition=null,Ye=1,OC(t,e,r,n)}finally{nn.transition=i,Ye=n}return null}function OC(t,e,r,n){do ro();while(Hi!==null);if(ze&6)throw Error(se(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(dI(t,s),t===qt&&(Rt=qt=null,nr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Tc||(Tc=!0,XE(ff,function(){return ro(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=nn.transition,nn.transition=null;var a=Ye;Ye=1;var o=ze;ze|=4,mm.current=null,CC(t,r),BE(r,t),ZI(Dd),df=!!Nd,Dd=Nd=null,t.current=r,RC(r),iI(),ze=o,Ye=a,nn.transition=s}else t.current=r;if(Tc&&(Tc=!1,Hi=t,Pf=i),s=t.pendingLanes,s===0&&(Zi=null),oI(r.stateNode),Dr(t,At()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Rf)throw Rf=!1,t=Jd,Jd=null,t;return Pf&1&&t.tag!==0&&ro(),s=t.pendingLanes,s&1?t===Zd?Dl++:(Dl=0,Zd=t):Dl=0,Es(),null}function ro(){if(Hi!==null){var t=Ix(Pf),e=nn.transition,r=Ye;try{if(nn.transition=null,Ye=16>t?16:t,Hi===null)var n=!1;else{if(t=Hi,Hi=null,Pf=0,ze&6)throw Error(se(331));var i=ze;for(ze|=4,ye=t.current;ye!==null;){var s=ye,a=s.child;if(ye.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ye=c;ye!==null;){var f=ye;switch(f.tag){case 0:case 11:case 15:kl(8,f,s)}var h=f.child;if(h!==null)h.return=f,ye=h;else for(;ye!==null;){f=ye;var d=f.sibling,m=f.return;if(VE(f),f===c){ye=null;break}if(d!==null){d.return=m,ye=d;break}ye=m}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}ye=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ye=a;else e:for(;ye!==null;){if(s=ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kl(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,ye=A;break e}ye=s.return}}var E=t.current;for(ye=E;ye!==null;){a=ye;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ye=w;else e:for(a=E;ye!==null;){if(o=ye,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Sh(9,o)}}catch(j){Et(o,o.return,j)}if(o===a){ye=null;break e}var V=o.sibling;if(V!==null){V.return=o.return,ye=V;break e}ye=o.return}}if(ze=i,Es(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(gh,t)}catch{}n=!0}return n}finally{Ye=r,nn.transition=e}}return!1}function v_(t,e,r){e=yo(r,e),e=IE(t,e,1),t=Ji(t,e,1),e=Tr(),t!==null&&(Iu(t,1,e),Dr(t,e))}function Et(t,e,r){if(t.tag===3)v_(t,t,r);else for(;e!==null;){if(e.tag===3){v_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zi===null||!Zi.has(n))){t=yo(r,t),t=CE(e,t,1),e=Ji(e,t,1),t=Tr(),e!==null&&(Iu(e,1,t),Dr(e,t));break}}e=e.return}}function FC(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Tr(),t.pingedLanes|=t.suspendedLanes&r,qt===t&&(nr&r)===r&&(Ut===4||Ut===3&&(nr&130023424)===nr&&500>At()-_m?Ws(t,0):gm|=r),Dr(t,e)}function KE(t,e){e===0&&(t.mode&1?(e=hc,hc<<=1,!(hc&130023424)&&(hc=4194304)):e=1);var r=Tr();t=ci(t,e),t!==null&&(Iu(t,e,r),Dr(t,r))}function LC(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),KE(t,r)}function MC(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(se(314))}n!==null&&n.delete(e),KE(t,r)}var qE;qE=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||kr.current)Pr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Pr=!1,wC(t,e,r);Pr=!!(t.flags&131072)}else Pr=!1,dt&&e.flags&1048576&&Jx(e,xf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Gc(t,e),t=e.pendingProps;var i=mo(e,gr.current);to(e,r),i=cm(null,e,n,t,i,r);var s=fm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nr(n)?(s=!0,vf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sm(e),i.updater=wh,e.stateNode=i,i._reactInternals=e,jd(e,n,t,r),e=Hd(null,e,n,!0,s,r)):(e.tag=0,dt&&s&&Jp(e),yr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Gc(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=bC(n),t=mn(n,t),i){case 0:e=Wd(null,e,n,t,r);break e;case 1:e=l_(null,e,n,t,r);break e;case 11:e=a_(null,e,n,t,r);break e;case 14:e=o_(null,e,n,mn(n.type,t),r);break e}throw Error(se(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mn(n,i),Wd(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mn(n,i),l_(t,e,n,i,r);case 3:e:{if(NE(e),t===null)throw Error(se(387));n=e.pendingProps,s=e.memoizedState,i=s.element,iE(t,e),wf(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=yo(Error(se(423)),e),e=u_(t,e,n,r,i);break e}else if(n!==i){i=yo(Error(se(424)),e),e=u_(t,e,n,r,i);break e}else for(zr=Qi(e.stateNode.containerInfo.firstChild),Hr=e,dt=!0,_n=null,r=rE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(go(),n===i){e=fi(t,e,r);break e}yr(t,e,n,r)}e=e.child}return e;case 5:return sE(e),t===null&&bd(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Od(n,i)?a=null:s!==null&&Od(n,s)&&(e.flags|=32),kE(t,e),yr(t,e,a,r),e.child;case 6:return t===null&&bd(e),null;case 13:return DE(t,e,r);case 4:return am(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=_o(e,null,n,r):yr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mn(n,i),a_(t,e,n,i,r);case 7:return yr(t,e,e.pendingProps,r),e.child;case 8:return yr(t,e,e.pendingProps.children,r),e.child;case 12:return yr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ot(Ef,n._currentValue),n._currentValue=a,s!==null)if(An(s.value,a)){if(s.children===i.children&&!kr.current){e=fi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ni(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Ud(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(se(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Ud(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}yr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,to(e,r),i=sn(i),n=n(i),e.flags|=1,yr(t,e,n,r),e.child;case 14:return n=e.type,i=mn(n,e.pendingProps),i=mn(n.type,i),o_(t,e,n,i,r);case 15:return RE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mn(n,i),Gc(t,e),e.tag=1,Nr(n)?(t=!0,vf(e)):t=!1,to(e,r),AE(e,n,i),jd(e,n,i,r),Hd(null,e,n,!0,t,r);case 19:return OE(t,e,r);case 22:return PE(t,e,r)}throw Error(se(156,e.tag))};function XE(t,e){return Tx(t,e)}function VC(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,r,n){return new VC(t,e,r,n)}function Em(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bC(t){if(typeof t=="function")return Em(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bp)return 11;if(t===jp)return 14}return 2}function ts(t,e){var r=t.alternate;return r===null?(r=rn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Xc(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")Em(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ba:return Hs(r.children,i,s,e);case Up:a=8,i|=8;break;case fd:return t=rn(12,r,e,i|2),t.elementType=fd,t.lanes=s,t;case hd:return t=rn(13,r,e,i),t.elementType=hd,t.lanes=s,t;case dd:return t=rn(19,r,e,i),t.elementType=dd,t.lanes=s,t;case sx:return Ih(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nx:a=10;break e;case ix:a=9;break e;case Bp:a=11;break e;case jp:a=14;break e;case Li:a=16,n=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=rn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Hs(t,e,r,n){return t=rn(7,t,n,e),t.lanes=r,t}function Ih(t,e,r,n){return t=rn(22,t,n,e),t.elementType=sx,t.lanes=r,t.stateNode={isHidden:!1},t}function B0(t,e,r){return t=rn(6,t,null,e),t.lanes=r,t}function j0(t,e,r){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UC(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=E0(0),this.expirationTimes=E0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tm(t,e,r,n,i,s,a,o,l){return t=new UC(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sm(s),t}function BC(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Va,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function YE(t){if(!t)return us;t=t._reactInternals;e:{if(ua(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var r=t.type;if(Nr(r))return Yx(t,r,e)}return e}function QE(t,e,r,n,i,s,a,o,l){return t=Tm(r,n,!0,t,i,s,a,o,l),t.context=YE(null),r=t.current,n=Tr(),i=es(r),s=ni(n,i),s.callback=e??null,Ji(r,s,i),t.current.lanes=i,Iu(t,i,n),Dr(t,n),t}function Ch(t,e,r,n){var i=e.current,s=Tr(),a=es(i);return r=YE(r),e.context===null?e.context=r:e.pendingContext=r,e=ni(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ji(i,e,a),t!==null&&(Tn(t,i,a,s),Wc(t,i,a)),a}function Nf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function y_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function wm(t,e){y_(t,e),(t=t.alternate)&&y_(t,e)}function jC(){return null}var JE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sm(t){this._internalRoot=t}Rh.prototype.render=Sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));Ch(t,e,null,null)};Rh.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Js(function(){Ch(null,t,null,null)}),e[ui]=null}};function Rh(t){this._internalRoot=t}Rh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Px();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Vi.length&&e!==0&&e<Vi[r].priority;r++);Vi.splice(r,0,t),r===0&&Nx(t)}};function Am(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function x_(){}function zC(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Nf(a);s.call(c)}}var a=QE(e,n,t,0,null,!1,!1,"",x_);return t._reactRootContainer=a,t[ui]=a.current,Zl(t.nodeType===8?t.parentNode:t),Js(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Nf(l);o.call(c)}}var l=Tm(t,0,!1,null,null,!1,!1,"",x_);return t._reactRootContainer=l,t[ui]=l.current,Zl(t.nodeType===8?t.parentNode:t),Js(function(){Ch(e,l,r,n)}),l}function kh(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Nf(a);o.call(l)}}Ch(e,a,t,i)}else a=zC(r,e,t,i,n);return Nf(a)}Cx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ml(e.pendingLanes);r!==0&&(Hp(e,r|1),Dr(e,At()),!(ze&6)&&(xo=At()+500,Es()))}break;case 13:Js(function(){var n=ci(t,1);if(n!==null){var i=Tr();Tn(n,t,1,i)}}),wm(t,1)}};$p=function(t){if(t.tag===13){var e=ci(t,134217728);if(e!==null){var r=Tr();Tn(e,t,134217728,r)}wm(t,134217728)}};Rx=function(t){if(t.tag===13){var e=es(t),r=ci(t,e);if(r!==null){var n=Tr();Tn(r,t,e,n)}wm(t,e)}};Px=function(){return Ye};kx=function(t,e){var r=Ye;try{return Ye=t,e()}finally{Ye=r}};wd=function(t,e,r){switch(e){case"input":if(gd(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=xh(n);if(!i)throw Error(se(90));ox(n),gd(n,i)}}}break;case"textarea":ux(t,r);break;case"select":e=r.value,e!=null&&Qa(t,!!r.multiple,e,!1)}};gx=vm;_x=Js;var WC={usingClientEntryPoint:!1,Events:[Ru,za,xh,px,mx,vm]},fl={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HC={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xx(t),t===null?null:t.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||jC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{gh=wc.inject(HC),bn=wc}catch{}}Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WC;Kr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Am(e))throw Error(se(200));return BC(t,e,null,r)};Kr.createRoot=function(t,e){if(!Am(t))throw Error(se(299));var r=!1,n="",i=JE;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Tm(t,1,!1,null,null,r,!1,n,i),t[ui]=e.current,Zl(t.nodeType===8?t.parentNode:t),new Sm(e)};Kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=xx(e),t=t===null?null:t.stateNode,t};Kr.flushSync=function(t){return Js(t)};Kr.hydrate=function(t,e,r){if(!Ph(e))throw Error(se(200));return kh(null,t,e,!0,r)};Kr.hydrateRoot=function(t,e,r){if(!Am(t))throw Error(se(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=JE;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=QE(e,null,t,1,r??null,i,!1,s,a),t[ui]=e.current,Zl(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Rh(e)};Kr.render=function(t,e,r){if(!Ph(e))throw Error(se(200));return kh(null,t,e,!1,r)};Kr.unmountComponentAtNode=function(t){if(!Ph(t))throw Error(se(40));return t._reactRootContainer?(Js(function(){kh(null,null,t,!1,function(){t._reactRootContainer=null,t[ui]=null})}),!0):!1};Kr.unstable_batchedUpdates=vm;Kr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ph(r))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return kh(t,e,r,!1,n)};Kr.version="18.3.1-next-f1338f8080-20240426";function ZE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZE)}catch(t){console.error(t)}}ZE(),Zy.exports=Kr;var $C=Zy.exports,E_=$C;ud.createRoot=E_.createRoot,ud.hydrateRoot=E_.hydrateRoot;const GC=()=>{};var T_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},KC=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},tT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=s>>2,h=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,m=c&63;l||(m=64,a||(d=64)),n.push(r[f],r[h],r[d],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||h==null)throw new qC;const d=s<<2|o>>4;if(n.push(d),c!==64){const m=o<<4&240|c>>2;if(n.push(m),h!==64){const y=c<<6&192|h;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XC=function(t){const e=eT(t);return tT.encodeByteArray(e,!0)},Df=function(t){return XC(t).replace(/\./g,"")},rT=function(t){try{return tT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=()=>YC().__FIREBASE_DEFAULTS__,JC=()=>{if(typeof process>"u"||typeof T_>"u")return;const t=T_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rT(t[1]);return e&&JSON.parse(e)},Nh=()=>{try{return GC()||QC()||JC()||ZC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nT=t=>{var e,r;return(r=(e=Nh())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},e4=t=>{const e=nT(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},iT=()=>{var t;return(t=Nh())==null?void 0:t.config},sT=t=>{var e;return(e=Nh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Df(JSON.stringify(r)),Df(JSON.stringify(a)),""].join(".")}const Ol={};function n4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?t.emulator.push(e):t.prod.push(e);return t}function i4(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let w_=!1;function oT(t,e){if(typeof window>"u"||typeof document>"u"||!Oo(window.location.host)||Ol[t]===e||Ol[t]||w_)return;Ol[t]=e;function r(d){return`__firebase__banner__${d}`}const n="__firebase__banner",s=n4().prod.length>0;function a(){const d=document.getElementById(n);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,m){d.setAttribute("width","24"),d.setAttribute("id",m),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{w_=!0,a()},d}function f(d,m){d.setAttribute("id",m),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=i4(n),m=r("text"),y=document.getElementById(m)||document.createElement("span"),g=r("learnmore"),S=document.getElementById(g)||document.createElement("a"),A=r("preprendIcon"),E=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const w=d.element;o(w),f(S,g);const V=c();l(E,A),w.append(E,y,S,V),document.body.appendChild(w)}s?(y.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function a4(){var e;const t=(e=Nh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function u4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c4(){const t=_r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function f4(){return!a4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h4(){try{return typeof indexedDB=="object"}catch{return!1}}function d4(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="FirebaseError";class yi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=p4,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?m4(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new yi(i,o,n)}}function m4(t,e){return t.replace(g4,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const g4=/\{\$([^}]+)}/g;function _4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zs(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(S_(s)&&S_(a)){if(!Zs(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function S_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function _l(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function vl(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function v4(t,e){const r=new y4(t,e);return r.subscribe.bind(r)}class y4{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");x4(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=z0),i.error===void 0&&(i.error=z0),i.complete===void 0&&(i.complete=z0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x4(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function z0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class ea{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new t4;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w4(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:T4(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T4(t){return t===Ms?void 0:t}function w4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new E4(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const A4={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},I4=Ve.INFO,C4={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},R4=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=C4[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Im{constructor(e){this.name=e,this._logLevel=I4,this._logHandler=R4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const P4=(t,e)=>e.some(r=>t instanceof r);let A_,I_;function k4(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N4(){return I_||(I_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,rp=new WeakMap,uT=new WeakMap,W0=new WeakMap,Cm=new WeakMap;function D4(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(rs(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&lT.set(r,t)}).catch(()=>{}),Cm.set(e,t),e}function O4(t){if(rp.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});rp.set(t,e)}let np={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uT.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return rs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F4(t){np=t(np)}function L4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(H0(this),e,...r);return uT.set(n,e.sort?e.sort():[e]),rs(n)}:N4().includes(t)?function(...e){return t.apply(H0(this),e),rs(lT.get(this))}:function(...e){return rs(t.apply(H0(this),e))}}function M4(t){return typeof t=="function"?L4(t):(t instanceof IDBTransaction&&O4(t),P4(t,k4())?new Proxy(t,np):t)}function rs(t){if(t instanceof IDBRequest)return D4(t);if(W0.has(t))return W0.get(t);const e=M4(t);return e!==t&&(W0.set(t,e),Cm.set(e,t)),e}const H0=t=>Cm.get(t);function V4(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=rs(a);return n&&a.addEventListener("upgradeneeded",l=>{n(rs(a.result),l.oldVersion,l.newVersion,rs(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const b4=["get","getKey","getAll","getAllKeys","count"],U4=["put","add","delete","clear"],$0=new Map;function C_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($0.get(e))return $0.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=U4.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||b4.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&l.done]))[0]};return $0.set(e,s),s}F4(t=>({...t,get:(e,r,n)=>C_(e,r)||t.get(e,r,n),has:(e,r)=>!!C_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(j4(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function j4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ip="@firebase/app",R_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Im("@firebase/app"),z4="@firebase/app-compat",W4="@firebase/analytics-compat",H4="@firebase/analytics",$4="@firebase/app-check-compat",G4="@firebase/app-check",K4="@firebase/auth",q4="@firebase/auth-compat",X4="@firebase/database",Y4="@firebase/data-connect",Q4="@firebase/database-compat",J4="@firebase/functions",Z4="@firebase/functions-compat",eR="@firebase/installations",tR="@firebase/installations-compat",rR="@firebase/messaging",nR="@firebase/messaging-compat",iR="@firebase/performance",sR="@firebase/performance-compat",aR="@firebase/remote-config",oR="@firebase/remote-config-compat",lR="@firebase/storage",uR="@firebase/storage-compat",cR="@firebase/firestore",fR="@firebase/ai",hR="@firebase/firestore-compat",dR="firebase",pR="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="[DEFAULT]",mR={[ip]:"fire-core",[z4]:"fire-core-compat",[H4]:"fire-analytics",[W4]:"fire-analytics-compat",[G4]:"fire-app-check",[$4]:"fire-app-check-compat",[K4]:"fire-auth",[q4]:"fire-auth-compat",[X4]:"fire-rtdb",[Y4]:"fire-data-connect",[Q4]:"fire-rtdb-compat",[J4]:"fire-fn",[Z4]:"fire-fn-compat",[eR]:"fire-iid",[tR]:"fire-iid-compat",[rR]:"fire-fcm",[nR]:"fire-fcm-compat",[iR]:"fire-perf",[sR]:"fire-perf-compat",[aR]:"fire-rc",[oR]:"fire-rc-compat",[lR]:"fire-gcs",[uR]:"fire-gcs-compat",[cR]:"fire-fst",[hR]:"fire-fst-compat",[fR]:"fire-vertex","fire-js":"fire-js",[dR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Map,gR=new Map,ap=new Map;function P_(t,e){try{t.container.addComponent(e)}catch(r){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Eo(t){const e=t.name;if(ap.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;ap.set(e,t);for(const r of Of.values())P_(r,t);for(const r of gR.values())P_(r,t);return!0}function Rm(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function en(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new ku("app","Firebase",_R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=pR;function cT(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:sp,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw ns.create("bad-app-name",{appName:String(i)});if(r||(r=iT()),!r)throw ns.create("no-options");const s=Of.get(i);if(s){if(Zs(r,s.options)&&Zs(n,s.config))return s;throw ns.create("duplicate-app",{appName:i})}const a=new S4(i);for(const l of ap.values())a.addComponent(l);const o=new vR(r,n,a);return Of.set(i,o),o}function fT(t=sp){const e=Of.get(t);if(!e&&t===sp&&iT())return cT();if(!e)throw ns.create("no-app",{appName:t});return e}function is(t,e,r){let n=mR[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${n}" with version "${e}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(a.join(" "));return}Eo(new ea(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebase-heartbeat-database",xR=1,lu="firebase-heartbeat-store";let G0=null;function hT(){return G0||(G0=V4(yR,xR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lu)}catch(r){console.warn(r)}}}}).catch(t=>{throw ns.create("idb-open",{originalErrorMessage:t.message})})),G0}async function ER(t){try{const r=(await hT()).transaction(lu),n=await r.objectStore(lu).get(dT(t));return await r.done,n}catch(e){if(e instanceof yi)hi.warn(e.message);else{const r=ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(r.message)}}}async function k_(t,e){try{const n=(await hT()).transaction(lu,"readwrite");await n.objectStore(lu).put(e,dT(t)),await n.done}catch(r){if(r instanceof yi)hi.warn(r.message);else{const n=ns.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});hi.warn(n.message)}}}function dT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=1024,wR=30;class SR{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new IR(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=N_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>wR){const a=CR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){hi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=N_(),{heartbeatsToSend:n,unsentEntries:i}=AR(this._heartbeatsCache.heartbeats),s=Df(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return hi.warn(r),""}}}function N_(){return new Date().toISOString().substring(0,10)}function AR(t,e=TR){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),D_(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),D_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class IR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h4()?d4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await ER(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return k_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return k_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function D_(t){return Df(JSON.stringify({version:2,heartbeats:t})).length}function CR(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t){Eo(new ea("platform-logger",e=>new B4(e),"PRIVATE")),Eo(new ea("heartbeat",e=>new SR(e),"PRIVATE")),is(ip,R_,t),is(ip,R_,"esm2020"),is("fire-js","")}RR("");function pT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PR=pT,mT=new ku("auth","Firebase",pT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=new Im("@firebase/auth");function kR(t,...e){Ff.logLevel<=Ve.WARN&&Ff.warn(`Auth (${Fo}): ${t}`,...e)}function Yc(t,...e){Ff.logLevel<=Ve.ERROR&&Ff.error(`Auth (${Fo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw Pm(t,...e)}function Bn(t,...e){return Pm(t,...e)}function gT(t,e,r){const n={...PR(),[e]:r};return new ku("auth","Firebase",n).create(e,{appName:t.name})}function ii(t){return gT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return mT.create(t,...e)}function Ie(t,e,...r){if(!t)throw Pm(e,...r)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yc(e),new Error(e)}function di(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function NR(){return O_()==="http:"||O_()==="https:"}function O_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NR()||l4()||"connection"in navigator)?navigator.onLine:!0}function OR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,r){this.shortDelay=e,this.longDelay=r,di(r>e,"Short delay should be less than long delay!"),this.isMobile=s4()||u4()}get(){return DR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e){di(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MR=new Du(3e4,6e4);function xi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ei(t,e,r,n,i={}){return vT(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=Nu({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return o4()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Oo(t.emulatorConfig.host)&&(c.credentials="include"),_T.fetch()(await yT(t,t.config.apiHost,r,o),c)})}async function vT(t,e,r){t._canInitEmulator=!1;const n={...FR,...e};try{const i=new bR(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Sc(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Sc(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Sc(t,"user-disabled",a);const f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw gT(t,f,c);In(t,f)}}catch(i){if(i instanceof yi)throw i;In(t,"network-request-failed",{message:String(i)})}}async function Ou(t,e,r,n,i={}){const s=await Ei(t,e,r,n,i);return"mfaPendingCredential"in s&&In(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function yT(t,e,r,n){const i=`${e}${r}?${n}`,s=t,a=s.config.emulator?km(t.config,i):`${t.config.apiScheme}://${i}`;return LR.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function VR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Bn(this.auth,"network-request-failed")),MR.get())})}}function Sc(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Bn(t,e,n);return i.customData._tokenResponse=r,i}function F_(t){return t!==void 0&&t.enterprise!==void 0}class UR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return VR(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BR(t,e){return Ei(t,"GET","/v2/recaptchaConfig",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e){return Ei(t,"POST","/v1/accounts:delete",e)}async function Lf(t,e){return Ei(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zR(t,e=!1){const r=jt(t),n=await r.getIdToken(e),i=Nm(n);Ie(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Fl(K0(i.auth_time)),issuedAtTime:Fl(K0(i.iat)),expirationTime:Fl(K0(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function K0(t){return Number(t)*1e3}function Nm(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const i=rT(r);return i?JSON.parse(i):(Yc("Failed to decode base64 JWT payload"),null)}catch(i){return Yc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function L_(t){const e=Nm(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof yi&&WR(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function WR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(t){var h;const e=t.auth,r=await t.getIdToken(),n=await uu(t,Lf(e,{idToken:r}));Ie(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?xT(i.providerUserInfo):[],a=GR(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new lp(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function $R(t){const e=jt(t);await Mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GR(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function xT(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(t,e){const r=await vT(t,{},async()=>{const n=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await yT(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return t.emulatorConfig&&Oo(t.emulatorConfig.host)&&(l.credentials="include"),_T.fetch()(a,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function qR(t,e){return Ei(t,"POST","/v2/accounts:revokeToken",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const r=L_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await KR(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new no;return n&&(Ie(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Ie(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ie(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yn{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new HR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new lp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await uu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return zR(this,e)}reload(){return $R(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Mf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await uu(this,jR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,a=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:h,emailVerified:d,isAnonymous:m,providerData:y,stsTokenManager:g}=r;Ie(h&&g,e,"internal-error");const S=no.fromJSON(this.name,g);Ie(typeof h=="string",e,"internal-error"),Oi(n,e.name),Oi(i,e.name),Ie(typeof d=="boolean",e,"internal-error"),Ie(typeof m=="boolean",e,"internal-error"),Oi(s,e.name),Oi(a,e.name),Oi(o,e.name),Oi(l,e.name),Oi(c,e.name),Oi(f,e.name);const A=new yn({uid:h,auth:e,email:i,emailVerified:d,displayName:n,isAnonymous:m,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:S,createdAt:c,lastLoginAt:f});return y&&Array.isArray(y)&&(A.providerData=y.map(E=>({...E}))),l&&(A._redirectEventId=l),A}static async _fromIdTokenResponse(e,r,n=!1){const i=new no;i.updateFromServerResponse(r);const s=new yn({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Mf(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?xT(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new no;o.updateFromIdToken(n);const l=new yn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new lp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;function ri(t){di(t instanceof Function,"Expected a class definition");let e=M_.get(t);return e?(di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}ET.type="NONE";const V_=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t,e,r){return`firebase:${t}:${e}:${r}`}class io{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Qc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qc("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Lf(this.auth,{idToken:e}).catch(()=>{});return r?yn._fromGetAccountInfoResponse(this.auth,r,e):null}return yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new io(ri(V_),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ri(V_);const a=Qc(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const f=await c._get(a);if(f){let h;if(typeof f=="string"){const d=await Lf(e,{idToken:f}).catch(()=>{});if(!d)break;h=await yn._fromGetAccountInfoResponse(e,d,f)}else h=yn._fromJSON(e,f);c!==s&&(o=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new io(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new io(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CT(e))return"Blackberry";if(RT(e))return"Webos";if(wT(e))return"Safari";if((e.includes("chrome/")||ST(e))&&!e.includes("edge/"))return"Chrome";if(IT(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function TT(t=_r()){return/firefox\//i.test(t)}function wT(t=_r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ST(t=_r()){return/crios\//i.test(t)}function AT(t=_r()){return/iemobile/i.test(t)}function IT(t=_r()){return/android/i.test(t)}function CT(t=_r()){return/blackberry/i.test(t)}function RT(t=_r()){return/webos/i.test(t)}function Dm(t=_r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XR(t=_r()){var e;return Dm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function YR(){return c4()&&document.documentMode===10}function PT(t=_r()){return Dm(t)||IT(t)||RT(t)||CT(t)||/windows phone/i.test(t)||AT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t,e=[]){let r;switch(t){case"Browser":r=b_(_r());break;case"Worker":r=`${b_(_r())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Fo}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t,e={}){return Ei(t,"GET","/v2/passwordPolicy",xi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=6;class eP{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??ZR,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U_(this),this.idTokenSubscription=new U_(this),this.beforeStateQueue=new QR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ri(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Lf(this,{idToken:e}),n=await yn._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(en(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Mf(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(ii(this));const r=e?jt(e):null;return r&&Ie(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JR(this),r=new eP(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await qR(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ri(e)||this._popupRedirectResolver;Ie(r,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[ri(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&kR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ts(t){return jt(t)}class U_{constructor(e){this.auth=e,this.observer=null,this.addObserver=v4(r=>this.observer=r)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rP(t){Dh=t}function NT(t){return Dh.loadJS(t)}function nP(){return Dh.recaptchaEnterpriseScript}function iP(){return Dh.gapiScript}function sP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class aP{constructor(){this.enterprise=new oP}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class oP{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const lP="recaptcha-enterprise",DT="NO_RECAPTCHA";class uP{constructor(e){this.type=lP,this.auth=Ts(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{BR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new UR(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;F_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(DT)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aP().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&F_(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=nP();l.length!==0&&(l+=o),NT(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function B_(t,e,r,n=!1,i=!1){const s=new uP(t);let a;if(i)a=DT;else try{a=await s.verify(r)}catch{a=await s.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Vf(t,e,r,n,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await B_(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await B_(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t,e){const r=Rm(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Zs(s,e??{}))return i;In(i,"already-initialized")}return r.initialize({options:e})}function fP(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function hP(t,e,r){const n=Ts(t);Ie(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=OT(e),{host:a,port:o}=dP(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},f=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Ie(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ie(Zs(c,n.config.emulator)&&Zs(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,Oo(a)?(aT(`${s}//${a}${l}`),oT("Auth",!0)):pP()}function OT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dP(t){const e=OT(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:j_(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:j_(a)}}}function j_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pP(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,r){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function mP(t,e){return Ei(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t,e){return Ou(t,"POST","/v1/accounts:signInWithPassword",xi(t,e))}async function _P(t,e){return Ei(t,"POST","/v1/accounts:sendOobCode",xi(t,e))}async function vP(t,e){return _P(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(t,e){return Ou(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,e))}async function xP(t,e){return Ou(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Om{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new cu(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new cu(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vf(e,r,"signInWithPassword",gP);case"emailLink":return yP(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vf(e,n,"signUpPassword",mP);case"emailLink":return xP(e,{idToken:r,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(t,e){return Ou(t,"POST","/v1/accounts:signInWithIdp",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="http://localhost";class ta extends Om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):In("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const a=new ta(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return so(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,so(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,so(e,r)}buildRequest(){const e={requestUri:EP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Nu(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wP(t){const e=_l(vl(t)).link,r=e?_l(vl(e)).deep_link_id:null,n=_l(vl(t)).deep_link_id;return(n?_l(vl(n)).link:null)||n||r||e||t}class Fm{constructor(e){const r=_l(vl(e)),n=r.apiKey??null,i=r.oobCode??null,s=TP(r.mode??null);Ie(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=wP(e);try{return new Fm(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,r){return cu._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Fm.parseLink(r);return Ie(n,"argument-error"),cu._fromEmailAndCode(e,n.code,n.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends FT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Fu{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ta._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Bi.credential(r,n)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Fu{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Fu{constructor(){super("twitter.com")}static credential(e,r){return ta._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return zi.credential(r,n)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(t,e){return Ou(t,"POST","/v1/accounts:signUp",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await yn._fromIdTokenResponse(e,n,i),a=z_(n);return new ra({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=z_(n);return new ra({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function z_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends yi{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,bf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new bf(e,r,n,i)}}function LT(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bf._fromErrorAndOperation(t,s,e,n):s})}async function AP(t,e,r=!1){const n=await uu(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return ra._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(t,e,r=!1){const{auth:n}=t;if(en(n.app))return Promise.reject(ii(n));const i="reauthenticate";try{const s=await uu(t,LT(n,i,e,t),r);Ie(s.idToken,n,"internal-error");const a=Nm(s.idToken);Ie(a,n,"internal-error");const{sub:o}=a;return Ie(t.uid===o,n,"user-mismatch"),ra._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&In(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MT(t,e,r=!1){if(en(t.app))return Promise.reject(ii(t));const n="signIn",i=await LT(t,n,e),s=await ra._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function CP(t,e){return MT(Ts(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(t){const e=Ts(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RP(t,e,r){const n=Ts(t);await Vf(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",vP)}async function PP(t,e,r){if(en(t.app))return Promise.reject(ii(t));const n=Ts(t),a=await Vf(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SP).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&VT(t),l}),o=await ra._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(o.user),o}function kP(t,e,r){return en(t.app)?Promise.reject(ii(t)):CP(jt(t),Lo.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&VT(t),n})}function NP(t,e,r,n){return jt(t).onIdTokenChanged(e,r,n)}function DP(t,e,r){return jt(t).beforeAuthStateChanged(e,r)}function bT(t,e,r,n){return jt(t).onAuthStateChanged(e,r,n)}function OP(t){return jt(t).signOut()}const Uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=1e3,LP=10;class BT extends UT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);YR()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,LP):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},FP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}BT.type="LOCAL";const MP=BT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends UT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}jT.type="SESSION";const zT=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Oh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async c=>c(r.origin,s)),l=await VP(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=Lm("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return window}function UP(t){jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}async function BP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function zP(){return WT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firebaseLocalStorageDb",WP=1,Bf="firebaseLocalStorage",$T="fbase_key";class Lu{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Fh(t,e){return t.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function HP(){const t=indexedDB.deleteDatabase(HT);return new Lu(t).toPromise()}function up(){const t=indexedDB.open(HT,WP);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Bf,{keyPath:$T})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Bf)?e(n):(n.close(),await HP(),e(await up()))})})}async function W_(t,e,r){const n=Fh(t,!0).put({[$T]:e,value:r});return new Lu(n).toPromise()}async function $P(t,e){const r=Fh(t,!1).get(e),n=await new Lu(r).toPromise();return n===void 0?null:n.value}function H_(t,e){const r=Fh(t,!0).delete(e);return new Lu(r).toPromise()}const GP=800,KP=3;class GT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await up(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>KP)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(zP()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await BP(),!this.activeServiceWorker)return;this.sender=new bP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await up();return await W_(e,Uf,"1"),await H_(e,Uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>W_(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>$P(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>H_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fh(i,!1).getAll();return new Lu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GT.type="LOCAL";const qP=GT;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t,e){return e?ri(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends Om{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,r){return so(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function YP(t){return MT(t.auth,new Mm(t),t.bypassAuthState)}function QP(t){const{auth:e,user:r}=t;return Ie(r,e,"internal-error"),IP(r,new Mm(t),t.bypassAuthState)}async function JP(t){const{auth:e,user:r}=t;return Ie(r,e,"internal-error"),AP(r,new Mm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YP;case"linkViaPopup":case"linkViaRedirect":return JP;case"reauthViaPopup":case"reauthViaRedirect":return QP;default:In(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new Du(2e3,1e4);class Xa extends KT{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZP.get())};e()}}Xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="pendingRedirect",Jc=new Map;class tk extends KT{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const n=await rk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rk(t,e){const r=sk(e),n=ik(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function nk(t,e){Jc.set(t._key(),e)}function ik(t){return ri(t._redirectPersistence)}function sk(t){return Qc(ek,t.config.apiKey,t.name)}async function ak(t,e,r=!1){if(en(t.app))return Promise.reject(ii(t));const n=Ts(t),i=XP(n,e),a=await new tk(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=10*60*1e3;class lk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uk(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!qT(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Bn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ok&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(e))}saveEventToCache(e){this.cachedEventUids.add($_(e)),this.lastProcessedEventTime=Date.now()}}function $_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(t,e={}){return Ei(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hk=/^https?/;async function dk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ck(t);for(const r of e)try{if(pk(r))return}catch{}In(t,"unauthorized-domain")}function pk(t){const e=op(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!hk.test(r))return!1;if(fk.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new Du(3e4,6e4);function G_(){const t=jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function gk(t){return new Promise((e,r)=>{var i,s,a;function n(){G_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G_(),r(Bn(t,"network-request-failed"))},timeout:mk.get()})}if((s=(i=jn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=jn().gapi)!=null&&a.load)n();else{const o=sP("iframefcb");return jn()[o]=()=>{gapi.load?n():r(Bn(t,"network-request-failed"))},NT(`${iP()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function _k(t){return Zc=Zc||gk(t),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=new Du(5e3,15e3),yk="__/auth/iframe",xk="emulator/auth/iframe",Ek={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wk(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?km(e,xk):`https://${t.config.authDomain}/${yk}`,n={apiKey:e.apiKey,appName:t.name,v:Fo},i=Tk.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Nu(n).slice(1)}`}async function Sk(t){const e=await _k(t),r=jn().gapi;return Ie(r,t,"internal-error"),e.open({where:document.body,url:wk(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ek,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Bn(t,"network-request-failed"),o=jn().setTimeout(()=>{s(a)},vk.get());function l(){jn().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ik=500,Ck=600,Rk="_blank",Pk="http://localhost";class K_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kk(t,e,r,n=Ik,i=Ck){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...Ak,width:n.toString(),height:i.toString(),top:s,left:a},c=_r().toLowerCase();r&&(o=ST(c)?Rk:r),TT(c)&&(e=e||Pk,l.scrollbars="yes");const f=Object.entries(l).reduce((d,[m,y])=>`${d}${m}=${y},`,"");if(XR(c)&&o!=="_self")return Nk(e||"",o),new K_(null);const h=window.open(e||"",o,f);Ie(h,t,"popup-blocked");try{h.focus()}catch{}return new K_(h)}function Nk(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="__/auth/handler",Ok="emulator/auth/handler",Fk=encodeURIComponent("fac");async function q_(t,e,r,n,i,s){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Fo,eventId:i};if(e instanceof FT){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",_4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))a[f]=h}if(e instanceof Fu){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const l=await t._getAppCheckToken(),c=l?`#${Fk}=${encodeURIComponent(l)}`:"";return`${Lk(t)}?${Nu(o).slice(1)}${c}`}function Lk({config:t}){return t.emulator?km(t,Ok):`https://${t.authDomain}/${Dk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="webStorageSupport";class Mk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zT,this._completeRedirectFn=ak,this._overrideRedirectResult=nk}async _openPopup(e,r,n,i){var a;di((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await q_(e,r,n,op(),i);return kk(e,s,Lm())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await q_(e,r,n,op(),i);return UP(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(di(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Sk(e),n=new lk(e);return r.register("authEvent",i=>(Ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(q0,{type:q0},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[q0];s!==void 0&&r(!!s),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=dk(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return PT()||wT()||Dm()}}const Vk=Mk;var X_="@firebase/auth",Y_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bk(t){Eo(new ea("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Ie(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kT(t)},c=new tP(n,i,s,l);return fP(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Eo(new ea("auth-internal",e=>{const r=Ts(e.getProvider("auth").getImmediate());return(n=>new bk(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(X_,Y_,Uk(t)),is(X_,Y_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=5*60,zk=sT("authIdTokenMaxAge")||jk;let Q_=null;const Wk=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>zk)return;const i=r==null?void 0:r.token;Q_!==i&&(Q_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Hk(t=fT()){const e=Rm(t,"auth");if(e.isInitialized())return e.getImmediate();const r=cP(t,{popupRedirectResolver:Vk,persistence:[qP,MP,zT]}),n=sT("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=Wk(s.toString());DP(r,a,()=>a(r.currentUser)),NP(r,o=>a(o))}}const i=nT("auth");return i&&hP(r,`http://${i}`),r}function $k(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}rP({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Bn("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",$k().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bk("Browser");var Gk="firebase",Kk="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(Gk,Kk,"app");var J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,XT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,v){function T(){}T.prototype=v.prototype,x.F=v.prototype,x.prototype=new T,x.prototype.constructor=x,x.D=function(C,P,L){for(var N=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)N[Re-2]=arguments[Re];return v.prototype[P].apply(C,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,v,T){T||(T=0);const C=Array(16);if(typeof v=="string")for(var P=0;P<16;++P)C[P]=v.charCodeAt(T++)|v.charCodeAt(T++)<<8|v.charCodeAt(T++)<<16|v.charCodeAt(T++)<<24;else for(P=0;P<16;++P)C[P]=v[T++]|v[T++]<<8|v[T++]<<16|v[T++]<<24;v=x.g[0],T=x.g[1],P=x.g[2];let L=x.g[3],N;N=v+(L^T&(P^L))+C[0]+3614090360&4294967295,v=T+(N<<7&4294967295|N>>>25),N=L+(P^v&(T^P))+C[1]+3905402710&4294967295,L=v+(N<<12&4294967295|N>>>20),N=P+(T^L&(v^T))+C[2]+606105819&4294967295,P=L+(N<<17&4294967295|N>>>15),N=T+(v^P&(L^v))+C[3]+3250441966&4294967295,T=P+(N<<22&4294967295|N>>>10),N=v+(L^T&(P^L))+C[4]+4118548399&4294967295,v=T+(N<<7&4294967295|N>>>25),N=L+(P^v&(T^P))+C[5]+1200080426&4294967295,L=v+(N<<12&4294967295|N>>>20),N=P+(T^L&(v^T))+C[6]+2821735955&4294967295,P=L+(N<<17&4294967295|N>>>15),N=T+(v^P&(L^v))+C[7]+4249261313&4294967295,T=P+(N<<22&4294967295|N>>>10),N=v+(L^T&(P^L))+C[8]+1770035416&4294967295,v=T+(N<<7&4294967295|N>>>25),N=L+(P^v&(T^P))+C[9]+2336552879&4294967295,L=v+(N<<12&4294967295|N>>>20),N=P+(T^L&(v^T))+C[10]+4294925233&4294967295,P=L+(N<<17&4294967295|N>>>15),N=T+(v^P&(L^v))+C[11]+2304563134&4294967295,T=P+(N<<22&4294967295|N>>>10),N=v+(L^T&(P^L))+C[12]+1804603682&4294967295,v=T+(N<<7&4294967295|N>>>25),N=L+(P^v&(T^P))+C[13]+4254626195&4294967295,L=v+(N<<12&4294967295|N>>>20),N=P+(T^L&(v^T))+C[14]+2792965006&4294967295,P=L+(N<<17&4294967295|N>>>15),N=T+(v^P&(L^v))+C[15]+1236535329&4294967295,T=P+(N<<22&4294967295|N>>>10),N=v+(P^L&(T^P))+C[1]+4129170786&4294967295,v=T+(N<<5&4294967295|N>>>27),N=L+(T^P&(v^T))+C[6]+3225465664&4294967295,L=v+(N<<9&4294967295|N>>>23),N=P+(v^T&(L^v))+C[11]+643717713&4294967295,P=L+(N<<14&4294967295|N>>>18),N=T+(L^v&(P^L))+C[0]+3921069994&4294967295,T=P+(N<<20&4294967295|N>>>12),N=v+(P^L&(T^P))+C[5]+3593408605&4294967295,v=T+(N<<5&4294967295|N>>>27),N=L+(T^P&(v^T))+C[10]+38016083&4294967295,L=v+(N<<9&4294967295|N>>>23),N=P+(v^T&(L^v))+C[15]+3634488961&4294967295,P=L+(N<<14&4294967295|N>>>18),N=T+(L^v&(P^L))+C[4]+3889429448&4294967295,T=P+(N<<20&4294967295|N>>>12),N=v+(P^L&(T^P))+C[9]+568446438&4294967295,v=T+(N<<5&4294967295|N>>>27),N=L+(T^P&(v^T))+C[14]+3275163606&4294967295,L=v+(N<<9&4294967295|N>>>23),N=P+(v^T&(L^v))+C[3]+4107603335&4294967295,P=L+(N<<14&4294967295|N>>>18),N=T+(L^v&(P^L))+C[8]+1163531501&4294967295,T=P+(N<<20&4294967295|N>>>12),N=v+(P^L&(T^P))+C[13]+2850285829&4294967295,v=T+(N<<5&4294967295|N>>>27),N=L+(T^P&(v^T))+C[2]+4243563512&4294967295,L=v+(N<<9&4294967295|N>>>23),N=P+(v^T&(L^v))+C[7]+1735328473&4294967295,P=L+(N<<14&4294967295|N>>>18),N=T+(L^v&(P^L))+C[12]+2368359562&4294967295,T=P+(N<<20&4294967295|N>>>12),N=v+(T^P^L)+C[5]+4294588738&4294967295,v=T+(N<<4&4294967295|N>>>28),N=L+(v^T^P)+C[8]+2272392833&4294967295,L=v+(N<<11&4294967295|N>>>21),N=P+(L^v^T)+C[11]+1839030562&4294967295,P=L+(N<<16&4294967295|N>>>16),N=T+(P^L^v)+C[14]+4259657740&4294967295,T=P+(N<<23&4294967295|N>>>9),N=v+(T^P^L)+C[1]+2763975236&4294967295,v=T+(N<<4&4294967295|N>>>28),N=L+(v^T^P)+C[4]+1272893353&4294967295,L=v+(N<<11&4294967295|N>>>21),N=P+(L^v^T)+C[7]+4139469664&4294967295,P=L+(N<<16&4294967295|N>>>16),N=T+(P^L^v)+C[10]+3200236656&4294967295,T=P+(N<<23&4294967295|N>>>9),N=v+(T^P^L)+C[13]+681279174&4294967295,v=T+(N<<4&4294967295|N>>>28),N=L+(v^T^P)+C[0]+3936430074&4294967295,L=v+(N<<11&4294967295|N>>>21),N=P+(L^v^T)+C[3]+3572445317&4294967295,P=L+(N<<16&4294967295|N>>>16),N=T+(P^L^v)+C[6]+76029189&4294967295,T=P+(N<<23&4294967295|N>>>9),N=v+(T^P^L)+C[9]+3654602809&4294967295,v=T+(N<<4&4294967295|N>>>28),N=L+(v^T^P)+C[12]+3873151461&4294967295,L=v+(N<<11&4294967295|N>>>21),N=P+(L^v^T)+C[15]+530742520&4294967295,P=L+(N<<16&4294967295|N>>>16),N=T+(P^L^v)+C[2]+3299628645&4294967295,T=P+(N<<23&4294967295|N>>>9),N=v+(P^(T|~L))+C[0]+4096336452&4294967295,v=T+(N<<6&4294967295|N>>>26),N=L+(T^(v|~P))+C[7]+1126891415&4294967295,L=v+(N<<10&4294967295|N>>>22),N=P+(v^(L|~T))+C[14]+2878612391&4294967295,P=L+(N<<15&4294967295|N>>>17),N=T+(L^(P|~v))+C[5]+4237533241&4294967295,T=P+(N<<21&4294967295|N>>>11),N=v+(P^(T|~L))+C[12]+1700485571&4294967295,v=T+(N<<6&4294967295|N>>>26),N=L+(T^(v|~P))+C[3]+2399980690&4294967295,L=v+(N<<10&4294967295|N>>>22),N=P+(v^(L|~T))+C[10]+4293915773&4294967295,P=L+(N<<15&4294967295|N>>>17),N=T+(L^(P|~v))+C[1]+2240044497&4294967295,T=P+(N<<21&4294967295|N>>>11),N=v+(P^(T|~L))+C[8]+1873313359&4294967295,v=T+(N<<6&4294967295|N>>>26),N=L+(T^(v|~P))+C[15]+4264355552&4294967295,L=v+(N<<10&4294967295|N>>>22),N=P+(v^(L|~T))+C[6]+2734768916&4294967295,P=L+(N<<15&4294967295|N>>>17),N=T+(L^(P|~v))+C[13]+1309151649&4294967295,T=P+(N<<21&4294967295|N>>>11),N=v+(P^(T|~L))+C[4]+4149444226&4294967295,v=T+(N<<6&4294967295|N>>>26),N=L+(T^(v|~P))+C[11]+3174756917&4294967295,L=v+(N<<10&4294967295|N>>>22),N=P+(v^(L|~T))+C[2]+718787259&4294967295,P=L+(N<<15&4294967295|N>>>17),N=T+(L^(P|~v))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+v&4294967295,x.g[1]=x.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+L&4294967295}n.prototype.v=function(x,v){v===void 0&&(v=x.length);const T=v-this.blockSize,C=this.C;let P=this.h,L=0;for(;L<v;){if(P==0)for(;L<=T;)i(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<v;)if(C[P++]=x.charCodeAt(L++),P==this.blockSize){i(this,C),P=0;break}}else for(;L<v;)if(C[P++]=x[L++],P==this.blockSize){i(this,C),P=0;break}}this.h=P,this.o+=v},n.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var v=1;v<x.length-8;++v)x[v]=0;v=this.o*8;for(var T=x.length-8;T<x.length;++T)x[T]=v&255,v/=256;for(this.v(x),x=Array(16),v=0,T=0;T<4;++T)for(let C=0;C<32;C+=8)x[v++]=this.g[T]>>>C&255;return x};function s(x,v){var T=o;return Object.prototype.hasOwnProperty.call(T,x)?T[x]:T[x]=v(x)}function a(x,v){this.h=v;const T=[];let C=!0;for(let P=x.length-1;P>=0;P--){const L=x[P]|0;C&&L==v||(T[P]=L,C=!1)}this.g=T}var o={};function l(x){return-128<=x&&x<128?s(x,function(v){return new a([v|0],v<0?-1:0)}):new a([x|0],x<0?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return h;if(x<0)return S(c(-x));const v=[];let T=1;for(let C=0;x>=T;C++)v[C]=x/T|0,T*=4294967296;return new a(v,0)}function f(x,v){if(x.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(x.charAt(0)=="-")return S(f(x.substring(1),v));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=c(Math.pow(v,8));let C=h;for(let L=0;L<x.length;L+=8){var P=Math.min(8,x.length-L);const N=parseInt(x.substring(L,L+P),v);P<8?(P=c(Math.pow(v,P)),C=C.j(P).add(c(N))):(C=C.j(T),C=C.add(c(N)))}return C}var h=l(0),d=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-S(this).m();let x=0,v=1;for(let T=0;T<this.g.length;T++){const C=this.i(T);x+=(C>=0?C:4294967296+C)*v,v*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(y(this))return"0";if(g(this))return"-"+S(this).toString(x);const v=c(Math.pow(x,6));var T=this;let C="";for(;;){const P=V(T,v).g;T=A(T,P.j(v));let L=((T.g.length>0?T.g[0]:T.h)>>>0).toString(x);if(T=P,y(T))return L+C;for(;L.length<6;)L="0"+L;C=L+C}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function y(x){if(x.h!=0)return!1;for(let v=0;v<x.g.length;v++)if(x.g[v]!=0)return!1;return!0}function g(x){return x.h==-1}t.l=function(x){return x=A(this,x),g(x)?-1:y(x)?0:1};function S(x){const v=x.g.length,T=[];for(let C=0;C<v;C++)T[C]=~x.g[C];return new a(T,~x.h).add(d)}t.abs=function(){return g(this)?S(this):this},t.add=function(x){const v=Math.max(this.g.length,x.g.length),T=[];let C=0;for(let P=0;P<=v;P++){let L=C+(this.i(P)&65535)+(x.i(P)&65535),N=(L>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);C=N>>>16,L&=65535,N&=65535,T[P]=N<<16|L}return new a(T,T[T.length-1]&-2147483648?-1:0)};function A(x,v){return x.add(S(v))}t.j=function(x){if(y(this)||y(x))return h;if(g(this))return g(x)?S(this).j(S(x)):S(S(this).j(x));if(g(x))return S(this.j(S(x)));if(this.l(m)<0&&x.l(m)<0)return c(this.m()*x.m());const v=this.g.length+x.g.length,T=[];for(var C=0;C<2*v;C++)T[C]=0;for(C=0;C<this.g.length;C++)for(let P=0;P<x.g.length;P++){const L=this.i(C)>>>16,N=this.i(C)&65535,Re=x.i(P)>>>16,Ae=x.i(P)&65535;T[2*C+2*P]+=N*Ae,E(T,2*C+2*P),T[2*C+2*P+1]+=L*Ae,E(T,2*C+2*P+1),T[2*C+2*P+1]+=N*Re,E(T,2*C+2*P+1),T[2*C+2*P+2]+=L*Re,E(T,2*C+2*P+2)}for(x=0;x<v;x++)T[x]=T[2*x+1]<<16|T[2*x];for(x=v;x<2*v;x++)T[x]=0;return new a(T,0)};function E(x,v){for(;(x[v]&65535)!=x[v];)x[v+1]+=x[v]>>>16,x[v]&=65535,v++}function w(x,v){this.g=x,this.h=v}function V(x,v){if(y(v))throw Error("division by zero");if(y(x))return new w(h,h);if(g(x))return v=V(S(x),v),new w(S(v.g),S(v.h));if(g(v))return v=V(x,S(v)),new w(S(v.g),v.h);if(x.g.length>30){if(g(x)||g(v))throw Error("slowDivide_ only works with positive integers.");for(var T=d,C=v;C.l(x)<=0;)T=j(T),C=j(C);var P=W(T,1),L=W(C,1);for(C=W(C,2),T=W(T,2);!y(C);){var N=L.add(C);N.l(x)<=0&&(P=P.add(T),L=N),C=W(C,1),T=W(T,1)}return v=A(x,P.j(v)),new w(P,v)}for(P=h;x.l(v)>=0;){for(T=Math.max(1,Math.floor(x.m()/v.m())),C=Math.ceil(Math.log(T)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),L=c(T),N=L.j(v);g(N)||N.l(x)>0;)T-=C,L=c(T),N=L.j(v);y(L)&&(L=d),P=P.add(L),x=A(x,N)}return new w(P,x)}t.B=function(x){return V(this,x).h},t.and=function(x){const v=Math.max(this.g.length,x.g.length),T=[];for(let C=0;C<v;C++)T[C]=this.i(C)&x.i(C);return new a(T,this.h&x.h)},t.or=function(x){const v=Math.max(this.g.length,x.g.length),T=[];for(let C=0;C<v;C++)T[C]=this.i(C)|x.i(C);return new a(T,this.h|x.h)},t.xor=function(x){const v=Math.max(this.g.length,x.g.length),T=[];for(let C=0;C<v;C++)T[C]=this.i(C)^x.i(C);return new a(T,this.h^x.h)};function j(x){const v=x.g.length+1,T=[];for(let C=0;C<v;C++)T[C]=x.i(C)<<1|x.i(C-1)>>>31;return new a(T,x.h)}function W(x,v){const T=v>>5;v%=32;const C=x.g.length-T,P=[];for(let L=0;L<C;L++)P[L]=v>0?x.i(L+T)>>>v|x.i(L+T+1)<<32-v:x.i(L+T);return new a(P,x.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,XT=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,ss=a}).apply(typeof J_<"u"?J_:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YT,yl,QT,ef,cp,JT,ZT,ew;(function(){var t,e=Object.defineProperty;function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var n=r(this);function i(u,p){if(p)e:{var _=n;u=u.split(".");for(var R=0;R<u.length-1;R++){var z=u[R];if(!(z in _))break e;_=_[z]}u=u[u.length-1],R=_[u],p=p(R),p!=R&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(p){var _=[],R;for(R in p)Object.prototype.hasOwnProperty.call(p,R)&&_.push([R,p[R]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function l(u,p,_){return u.call.apply(u.bind,arguments)}function c(u,p,_){return c=l,c.apply(null,arguments)}function f(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function h(u,p){function _(){}_.prototype=p.prototype,u.Z=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(R,z,Y){for(var ce=Array(arguments.length-2),De=2;De<arguments.length;De++)ce[De-2]=arguments[De];return p.prototype[z].apply(R,ce)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function m(u){const p=u.length;if(p>0){const _=Array(p);for(let R=0;R<p;R++)_[R]=u[R];return _}return[]}function y(u,p){for(let R=1;R<arguments.length;R++){const z=arguments[R];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=u.length||0;const Y=z.length||0;u.length=_+Y;for(let ce=0;ce<Y;ce++)u[_+ce]=z[ce]}else u.push(z)}}class g{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function S(u){a.setTimeout(()=>{throw u},0)}function A(){var u=x;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class E{constructor(){this.h=this.g=null}add(p,_){const R=w.get();R.set(p,_),this.h?this.h.next=R:this.g=R,this.h=R}}var w=new g(()=>new V,u=>u.reset());class V{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let j,W=!1,x=new E,v=()=>{const u=Promise.resolve(void 0);j=()=>{u.then(T)}};function T(){for(var u;u=A();){try{u.h.call(u.g)}catch(_){S(_)}var p=w;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}W=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};a.addEventListener("test",_,p),a.removeEventListener("test",_,p)}catch{}return u}();function N(u){return/^[\s\xa0]*$/.test(u)}function Re(u,p){P.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}h(Re,P),Re.prototype.init=function(u,p){const _=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(_=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Re.Z.h.call(this)},Re.prototype.h=function(){Re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),pt=0;function et(u,p,_,R,z){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!R,this.ha=z,this.key=++pt,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xe(u,p,_){for(const R in u)p.call(_,u[R],R,u)}function Se(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function Fe(u){const p={};for(const _ in u)p[_]=u[_];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(u,p){let _,R;for(let z=1;z<arguments.length;z++){R=arguments[z];for(_ in R)u[_]=R[_];for(let Y=0;Y<b.length;Y++)_=b[Y],Object.prototype.hasOwnProperty.call(R,_)&&(u[_]=R[_])}}function B(u){this.src=u,this.g={},this.h=0}B.prototype.add=function(u,p,_,R,z){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const ce=Z(u,p,R,z);return ce>-1?(p=u[ce],_||(p.fa=!1)):(p=new et(p,this.src,Y,!!R,z),p.fa=_,u.push(p)),p};function U(u,p){const _=p.type;if(_ in u.g){var R=u.g[_],z=Array.prototype.indexOf.call(R,p,void 0),Y;(Y=z>=0)&&Array.prototype.splice.call(R,z,1),Y&&(ue(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Z(u,p,_,R){for(let z=0;z<u.length;++z){const Y=u[z];if(!Y.da&&Y.listener==p&&Y.capture==!!_&&Y.ha==R)return z}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Te={};function Ee(u,p,_,R,z){if(Array.isArray(p)){for(let Y=0;Y<p.length;Y++)Ee(u,p[Y],_,R,z);return null}return _=vr(_),u&&u[Ae]?u.J(p,_,o(R)?!!R.capture:!1,z):fe(u,p,_,!1,R,z)}function fe(u,p,_,R,z,Y){if(!p)throw Error("Invalid event type");const ce=o(z)?!!z.capture:!!z;let De=rt(u);if(De||(u[ge]=De=new B(u)),_=De.add(p,_,R,ce,Y),_.proxy)return _;if(R=Ge(),_.proxy=R,R.src=u,R.listener=_,u.addEventListener)L||(z=ce),z===void 0&&(z=!1),u.addEventListener(p.toString(),R,z);else if(u.attachEvent)u.attachEvent(je(p.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ge(){function u(_){return p.call(u.src,u.listener,_)}const p=ln;return u}function Me(u,p,_,R,z){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)Me(u,p[Y],_,R,z);else R=o(R)?!!R.capture:!!R,_=vr(_),u&&u[Ae]?(u=u.i,Y=String(p).toString(),Y in u.g&&(p=u.g[Y],_=Z(p,_,R,z),_>-1&&(ue(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete u.g[Y],u.h--)))):u&&(u=rt(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Z(p,_,R,z)),(_=u>-1?p[u]:null)&&Ft(_))}function Ft(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ae])U(p.i,u);else{var _=u.type,R=u.proxy;p.removeEventListener?p.removeEventListener(_,R,u.capture):p.detachEvent?p.detachEvent(je(_),R):p.addListener&&p.removeListener&&p.removeListener(R),(_=rt(p))?(U(_,u),_.h==0&&(_.src=null,p[ge]=null)):ue(u)}}}function je(u){return u in Te?Te[u]:Te[u]="on"+u}function ln(u,p){if(u.da)u=!0;else{p=new Re(p,this);const _=u.listener,R=u.ha||u.src;u.fa&&Ft(u),u=_.call(R,p)}return u}function rt(u){return u=u[ge],u instanceof B?u:null}var ve="__closure_events_fn_"+(Math.random()*1e9>>>0);function vr(u){return typeof u=="function"?u:(u[ve]||(u[ve]=function(p){return u.handleEvent(p)}),u[ve])}function nt(){C.call(this),this.i=new B(this),this.M=this,this.G=null}h(nt,C),nt.prototype[Ae]=!0,nt.prototype.removeEventListener=function(u,p,_,R){Me(this,u,p,_,R)};function mt(u,p){var _,R=u.G;if(R)for(_=[];R;R=R.G)_.push(R);if(u=u.M,R=p.type||p,typeof p=="string")p=new P(p,u);else if(p instanceof P)p.target=p.target||u;else{var z=p;p=new P(R,u),X(p,z)}z=!0;let Y,ce;if(_)for(ce=_.length-1;ce>=0;ce--)Y=p.g=_[ce],z=un(Y,R,!0,p)&&z;if(Y=p.g=u,z=un(Y,R,!0,p)&&z,z=un(Y,R,!1,p)&&z,_)for(ce=0;ce<_.length;ce++)Y=p.g=_[ce],z=un(Y,R,!1,p)&&z}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const _=u.g[p];for(let R=0;R<_.length;R++)ue(_[R]);delete u.g[p],u.h--}}this.G=null},nt.prototype.J=function(u,p,_,R){return this.i.add(String(u),p,!1,_,R)},nt.prototype.K=function(u,p,_,R){return this.i.add(String(u),p,!0,_,R)};function un(u,p,_,R){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let z=!0;for(let Y=0;Y<p.length;++Y){const ce=p[Y];if(ce&&!ce.da&&ce.capture==_){const De=ce.listener,Mt=ce.ha||ce.src;ce.fa&&U(u.i,ce),z=De.call(Mt,R)!==!1&&z}}return z&&!R.defaultPrevented}function qu(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:a.setTimeout(u,p||0)}function va(u){u.g=qu(()=>{u.g=null,u.i&&(u.i=!1,va(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Xr extends C{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:va(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(u){C.call(this),this.h=u,this.g={}}h(Rn,C);var ya=[];function xa(u){xe(u.g,function(p,_){this.g.hasOwnProperty(_)&&Ft(p)},u),u.g={}}Rn.prototype.N=function(){Rn.Z.N.call(this),xa(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cn=a.JSON.stringify,i0=a.JSON.parse,Xu=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function $o(){}function Go(){}var wi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ea(){P.call(this,"d")}h(Ea,P);function Ta(){P.call(this,"c")}h(Ta,P);var qn={},Yu=null;function Is(){return Yu=Yu||new nt}qn.Ia="serverreachability";function Ko(u){P.call(this,qn.Ia,u)}h(Ko,P);function Si(u){const p=Is();mt(p,new Ko(p))}qn.STAT_EVENT="statevent";function Qu(u,p){P.call(this,qn.STAT_EVENT,u),this.stat=p}h(Qu,P);function Xt(u){const p=Is();mt(p,new Qu(p,u))}qn.Ja="timingevent";function Cs(u,p){P.call(this,qn.Ja,u),this.size=p}h(Cs,P);function Rs(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Ps(){this.g=!0}Ps.prototype.ua=function(){this.g=!1};function s0(u,p,_,R,z,Y){u.info(function(){if(u.g)if(Y){var ce="",De=Y.split("&");for(let tt=0;tt<De.length;tt++){var Mt=De[tt].split("=");if(Mt.length>1){const zt=Mt[0];Mt=Mt[1];const Nn=zt.split("_");ce=Nn.length>=2&&Nn[1]=="type"?ce+(zt+"="+Mt+"&"):ce+(zt+"=redacted&")}}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+R+") [attempt "+z+"]: "+p+`
`+_+`
`+ce})}function a0(u,p,_,R,z,Y,ce){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+z+"]: "+p+`
`+_+`
`+Y+" "+ce})}function Ai(u,p,_,R){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+l0(u,_)+(R?" "+R:"")})}function o0(u,p){u.info(function(){return"TIMEOUT: "+p})}Ps.prototype.info=function(){};function l0(u,p){if(!u.g)return p;if(!p)return null;try{const Y=JSON.parse(p);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var _=Y[u];if(!(_.length<2)){var R=_[1];if(Array.isArray(R)&&!(R.length<1)){var z=R[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ce=1;ce<R.length;ce++)R[ce]=""}}}}return cn(Y)}catch{return p}}var wa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ju;function qo(){}h(qo,$o),qo.prototype.g=function(){return new XMLHttpRequest},Ju=new qo;function ks(u){return encodeURIComponent(String(u))}function I(u){var p=1;u=u.split(":");const _=[];for(;p>0&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function O(u,p,_,R){this.j=u,this.i=p,this.l=_,this.S=R||1,this.V=new Rn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new k}function k(){this.i=null,this.g="",this.h=!1}var D={},F={};function M(u,p,_){u.M=1,u.A=Zu(kn(p)),u.u=_,u.R=!0,G(u,null)}function G(u,p){u.F=Date.now(),q(u),u.B=kn(u.A);var _=u.B,R=u.S;Array.isArray(R)||(R=[String(R)]),$g(_.i,"t",R),u.C=0,_=u.j.L,u.h=new k,u.g=u1(u.j,_?p:null,!u.u),u.P>0&&(u.O=new Xr(c(u.Y,u,u.g),u.P)),p=u.V,_=u.g,R=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(ya[0]=z.toString()),z=ya);for(let Y=0;Y<z.length;Y++){const ce=Ee(_,z[Y],R||p.handleEvent,!1,p.h||p);if(!ce)break;p.g[ce.key]=ce}p=u.J?Fe(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),Si(),s0(u.i,u.v,u.B,u.l,u.S,u.u)}O.prototype.ba=function(u){u=u.target;const p=this.O;p&&Pi(u)==3?p.j():this.Y(u)},O.prototype.Y=function(u){try{if(u==this.g)e:{const De=Pi(this.g),Mt=this.g.ya(),tt=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Jg(this.g)))){this.K||De!=4||Mt==7||(Mt==8||tt<=0?Si(3):Si(2)),le(this);var p=this.g.ca();this.X=p;var _=J(this);if(this.o=p==200,a0(this.i,this.v,this.B,this.l,this.S,De,p),this.o){if(this.U&&!this.L){t:{if(this.g){var R,z=this.g;if((R=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(R)){var Y=R;break t}}Y=null}if(u=Y)Ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,he(this,u);else{this.o=!1,this.m=3,Xt(12),ie(this),pe(this);break e}}if(this.R){u=!0;let zt;for(;!this.K&&this.C<_.length;)if(zt=K(this,_),zt==F){De==4&&(this.m=4,Xt(14),u=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==D){this.m=4,Xt(15),Ai(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Ai(this.i,this.l,zt,null),he(this,zt);if(H(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||_.length!=0||this.h.h||(this.m=1,Xt(16),u=!1),this.o=this.o&&u,!u)Ai(this.i,this.l,_,"[Invalid Chunked Response]"),ie(this),pe(this);else if(_.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),p0(ce),ce.P=!0,Xt(11))}}else Ai(this.i,this.l,_,null),he(this,_);De==4&&ie(this),this.o&&!this.K&&(De==4?s1(this.j,this):(this.o=!1,q(this)))}else gA(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),ie(this),pe(this)}}}catch{}finally{}};function J(u){if(!H(u))return u.g.la();const p=Jg(u.g);if(p==="")return"";let _="";const R=p.length,z=Pi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ie(u),pe(u),"";u.h.i=new a.TextDecoder}for(let Y=0;Y<R;Y++)u.h.h=!0,_+=u.h.i.decode(p[Y],{stream:!(z&&Y==R-1)});return p.length=0,u.h.g+=_,u.C=0,u.h.g}function H(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function K(u,p){var _=u.C,R=p.indexOf(`
`,_);return R==-1?F:(_=Number(p.substring(_,R)),isNaN(_)?D:(R+=1,R+_>p.length?F:(p=p.slice(R,R+_),u.C=R+_,p)))}O.prototype.cancel=function(){this.K=!0,ie(this)};function q(u){u.T=Date.now()+u.H,ne(u,u.H)}function ne(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Rs(c(u.aa,u),p)}function le(u){u.D&&(a.clearTimeout(u.D),u.D=null)}O.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(o0(this.i,this.B),this.M!=2&&(Si(),Xt(17)),ie(this),this.m=2,pe(this)):ne(this,this.T-u)};function pe(u){u.j.I==0||u.K||s1(u.j,u)}function ie(u){le(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,xa(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function he(u,p){try{var _=u.j;if(_.I!=0&&(_.g==u||Xn(_.h,u))){if(!u.L&&Xn(_.h,u)&&_.I==3){try{var R=_.Ba.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var z=R;if(z[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ic(_),rc(_);else break e;d0(_),Xt(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Rs(c(_.Va,_),6e3));Lt(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ds(_,11)}else if((u.L||_.g==u)&&ic(_),!N(p))for(z=_.Ba.g.parse(p),p=0;p<z.length;p++){let tt=z[p];const zt=tt[0];if(!(zt<=_.K))if(_.K=zt,tt=tt[1],_.I==2)if(tt[0]=="c"){_.M=tt[1],_.ba=tt[2];const Nn=tt[3];Nn!=null&&(_.ka=Nn,_.j.info("VER="+_.ka));const Os=tt[4];Os!=null&&(_.za=Os,_.j.info("SVER="+_.za));const ki=tt[5];ki!=null&&typeof ki=="number"&&ki>0&&(R=1.5*ki,_.O=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const Ni=u.g;if(Ni){const ac=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ac){var Y=R.h;Y.g||ac.indexOf("spdy")==-1&&ac.indexOf("quic")==-1&&ac.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Yn(Y,Y.h),Y.h=null))}if(R.G){const m0=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;m0&&(R.wa=m0,lt(R.J,R.G,m0))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),R=_;var ce=u;if(R.na=l1(R,R.L?R.ba:null,R.W),ce.L){Ii(R.h,ce);var De=ce,Mt=R.O;Mt&&(De.H=Mt),De.D&&(le(De),q(De)),R.g=ce}else n1(R);_.i.length>0&&nc(_)}else tt[0]!="stop"&&tt[0]!="close"||Ds(_,7);else _.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Ds(_,7):h0(_):tt[0]!="noop"&&_.l&&_.l.qa(tt),_.A=0)}}Si(4)}catch{}}var Pe=class{constructor(u,p){this.g=u,this.map=p}};function it(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function st(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Lt(u){return u.h?1:u.g?u.g.size:0}function Xn(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Yn(u,p){u.g?u.g.add(p):u.h=p}function Ii(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}it.prototype.cancel=function(){if(this.i=Pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.G);return p}return m(u.i)}var Aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fn(u,p){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const R=u[_].indexOf("=");let z,Y=null;R>=0?(z=u[_].substring(0,R),Y=u[_].substring(R+1)):z=u[_],p(z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ci(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Ci?(this.l=u.l,Xo(this,u.j),this.o=u.o,this.g=u.g,Yo(this,u.u),this.h=u.h,u0(this,Gg(u.i)),this.m=u.m):u&&(p=String(u).match(Aa))?(this.l=!1,Xo(this,p[1]||"",!0),this.o=Qo(p[2]||""),this.g=Qo(p[3]||"",!0),Yo(this,p[4]),this.h=Qo(p[5]||"",!0),u0(this,p[6]||"",!0),this.m=Qo(p[7]||"")):(this.l=!1,this.i=new Zo(null,this.l))}Ci.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Jo(p,jg,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Jo(p,jg,!0),"@"),u.push(ks(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Jo(_,_.charAt(0)=="/"?oA:aA,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Jo(_,uA)),u.join("")},Ci.prototype.resolve=function(u){const p=kn(this);let _=!!u.j;_?Xo(p,u.j):_=!!u.o,_?p.o=u.o:_=!!u.g,_?p.g=u.g:_=u.u!=null;var R=u.h;if(_)Yo(p,u.u);else if(_=!!u.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var z=p.h.lastIndexOf("/");z!=-1&&(R=p.h.slice(0,z+1)+R)}if(z=R,z==".."||z==".")R="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){R=z.lastIndexOf("/",0)==0,z=z.split("/");const Y=[];for(let ce=0;ce<z.length;){const De=z[ce++];De=="."?R&&ce==z.length&&Y.push(""):De==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),R&&ce==z.length&&Y.push("")):(Y.push(De),R=!0)}R=Y.join("/")}else R=z}return _?p.h=R:_=u.i.toString()!=="",_?u0(p,Gg(u.i)):_=!!u.m,_&&(p.m=u.m),p};function kn(u){return new Ci(u)}function Xo(u,p,_){u.j=_?Qo(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Yo(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function u0(u,p,_){p instanceof Zo?(u.i=p,cA(u.i,u.l)):(_||(p=Jo(p,lA)),u.i=new Zo(p,u.l))}function lt(u,p,_){u.i.set(p,_)}function Zu(u){return lt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Qo(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Jo(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,sA),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var jg=/[#\/\?@]/g,aA=/[#\?:]/g,oA=/[#\?]/g,lA=/[#\?@]/g,uA=/#/g;function Zo(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Ns(u){u.g||(u.g=new Map,u.h=0,u.i&&fn(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}t=Zo.prototype,t.add=function(u,p){Ns(this),this.i=null,u=Ia(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function zg(u,p){Ns(u),p=Ia(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Wg(u,p){return Ns(u),p=Ia(u,p),u.g.has(p)}t.forEach=function(u,p){Ns(this),this.g.forEach(function(_,R){_.forEach(function(z){u.call(p,z,R,this)},this)},this)};function Hg(u,p){Ns(u);let _=[];if(typeof p=="string")Wg(u,p)&&(_=_.concat(u.g.get(Ia(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)_=_.concat(u[p]);return _}t.set=function(u,p){return Ns(this),this.i=null,u=Ia(this,u),Wg(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=Hg(this,u),u.length>0?String(u[0]):p):p};function $g(u,p,_){zg(u,p),_.length>0&&(u.i=null,u.g.set(Ia(u,p),m(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let R=0;R<p.length;R++){var _=p[R];const z=ks(_);_=Hg(this,_);for(let Y=0;Y<_.length;Y++){let ce=z;_[Y]!==""&&(ce+="="+ks(_[Y])),u.push(ce)}}return this.i=u.join("&")};function Gg(u){const p=new Zo;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Ia(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function cA(u,p){p&&!u.j&&(Ns(u),u.i=null,u.g.forEach(function(_,R){const z=R.toLowerCase();R!=z&&(zg(this,R),$g(this,z,_))},u)),u.j=p}function fA(u,p){const _=new Ps;if(a.Image){const R=new Image;R.onload=f(Ri,_,"TestLoadImage: loaded",!0,p,R),R.onerror=f(Ri,_,"TestLoadImage: error",!1,p,R),R.onabort=f(Ri,_,"TestLoadImage: abort",!1,p,R),R.ontimeout=f(Ri,_,"TestLoadImage: timeout",!1,p,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else p(!1)}function hA(u,p){const _=new Ps,R=new AbortController,z=setTimeout(()=>{R.abort(),Ri(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:R.signal}).then(Y=>{clearTimeout(z),Y.ok?Ri(_,"TestPingServer: ok",!0,p):Ri(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),Ri(_,"TestPingServer: error",!1,p)})}function Ri(u,p,_,R,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),R(_)}catch{}}function dA(){this.g=new Xu}function c0(u){this.i=u.Sb||null,this.h=u.ab||!1}h(c0,$o),c0.prototype.g=function(){return new ec(this.i,this.h)};function ec(u,p){nt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(ec,nt),t=ec.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,tl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||a).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,el(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,tl(this)),this.g&&(this.readyState=3,tl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kg(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kg(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?el(this):tl(this),this.readyState==3&&Kg(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,el(this))},t.Na=function(u){this.g&&(this.response=u,el(this))},t.ga=function(){this.g&&el(this)};function el(u){u.readyState=4,u.l=null,u.j=null,u.B=null,tl(u)}t.setRequestHeader=function(u,p){this.A.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function tl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qg(u){let p="";return xe(u,function(_,R){p+=R,p+=":",p+=_,p+=`\r
`}),p}function f0(u,p,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=qg(_),typeof u=="string"?_!=null&&ks(_):lt(u,p,_))}function xt(u){nt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(xt,nt);var pA=/^https?$/i,mA=["POST","PUT"];t=xt.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,p,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ju.g(),this.g.onreadystatechange=d(c(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(Y){Xg(this,Y);return}if(u=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var z in R)_.set(z,R[z]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Y of R.keys())_.set(Y,R.get(Y));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=a.FormData&&u instanceof a.FormData,!(Array.prototype.indexOf.call(mA,p,void 0)>=0)||R||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of _)this.g.setRequestHeader(Y,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){Xg(this,Y)}};function Xg(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,Yg(u),tc(u)}function Yg(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,mt(this,"complete"),mt(this,"abort"),tc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tc(this,!0)),xt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Qg(this):this.Xa())},t.Xa=function(){Qg(this)};function Qg(u){if(u.h&&typeof s<"u"){if(u.v&&Pi(u)==4)setTimeout(u.Ca.bind(u),0);else if(mt(u,"readystatechange"),Pi(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var R;if(R=Y===0){let ce=String(u.D).match(Aa)[1]||null;!ce&&a.self&&a.self.location&&(ce=a.self.location.protocol.slice(0,-1)),R=!pA.test(ce?ce.toLowerCase():"")}_=R}if(_)mt(u,"complete"),mt(u,"success");else{u.o=6;try{var z=Pi(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",Yg(u)}}finally{tc(u)}}}}function tc(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,p||mt(u,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Pi(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),i0(p)}};function Jg(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gA(u){const p={};u=(u.g&&Pi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(N(u[R]))continue;var _=I(u[R]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=p[z]||[];p[z]=Y,Y.push(_)}Se(p,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function rl(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function Zg(u){this.za=0,this.i=[],this.j=new Ps,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=rl("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=rl("baseRetryDelayMs",5e3,u),this.Za=rl("retryDelaySeedMs",1e4,u),this.Ta=rl("forwardChannelMaxRetries",2,u),this.va=rl("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new it(u&&u.concurrentRequestLimit),this.Ba=new dA,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Zg.prototype,t.ka=8,t.I=1,t.connect=function(u,p,_,R){Xt(0),this.W=u,this.H=p||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.J=l1(this,null,this.W),nc(this)};function h0(u){if(e1(u),u.I==3){var p=u.V++,_=kn(u.J);if(lt(_,"SID",u.M),lt(_,"RID",p),lt(_,"TYPE","terminate"),nl(u,_),p=new O(u,u.j,p),p.M=2,p.A=Zu(kn(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&a.Image&&(new Image().src=p.A,_=!0),_||(p.g=u1(p.j,null),p.g.ea(p.A)),p.F=Date.now(),q(p)}o1(u)}function rc(u){u.g&&(p0(u),u.g.cancel(),u.g=null)}function e1(u){rc(u),u.v&&(a.clearTimeout(u.v),u.v=null),ic(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&a.clearTimeout(u.m),u.m=null)}function nc(u){if(!st(u.h)&&!u.m){u.m=!0;var p=u.Ea;j||v(),W||(j(),W=!0),x.add(p,u),u.D=0}}function _A(u,p){return Lt(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Rs(c(u.Ea,u,p),a1(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new O(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=Fe(Y),X(Y,this.U)):Y=this.U),this.u!==null||this.R||(z.J=Y,Y=null),this.S)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(p+=R,p>4096){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=r1(this,z,p),_=kn(this.J),lt(_,"RID",u),lt(_,"CVER",22),this.G&&lt(_,"X-HTTP-Session-Id",this.G),nl(this,_),Y&&(this.R?p="headers="+ks(qg(Y))+"&"+p:this.u&&f0(_,this.u,Y)),Yn(this.h,z),this.Ra&&lt(_,"TYPE","init"),this.S?(lt(_,"$req",p),lt(_,"SID","null"),z.U=!0,M(z,_,null)):M(z,_,p),this.I=2}}else this.I==3&&(u?t1(this,u):this.i.length==0||st(this.h)||t1(this))};function t1(u,p){var _;p?_=p.l:_=u.V++;const R=kn(u.J);lt(R,"SID",u.M),lt(R,"RID",_),lt(R,"AID",u.K),nl(u,R),u.u&&u.o&&f0(R,u.u,u.o),_=new O(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),p&&(u.i=p.G.concat(u.i)),p=r1(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Yn(u.h,_),M(_,R,p)}function nl(u,p){u.H&&xe(u.H,function(_,R){lt(p,R,_)}),u.l&&xe({},function(_,R){lt(p,R,_)})}function r1(u,p,_){_=Math.min(u.i.length,_);const R=u.l?c(u.l.Ka,u.l,u):null;e:{var z=u.i;let De=-1;for(;;){const Mt=["count="+_];De==-1?_>0?(De=z[0].g,Mt.push("ofs="+De)):De=0:Mt.push("ofs="+De);let tt=!0;for(let zt=0;zt<_;zt++){var Y=z[zt].g;const Nn=z[zt].map;if(Y-=De,Y<0)De=Math.max(0,z[zt].g-100),tt=!1;else try{Y="req"+Y+"_"||"";try{var ce=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Os,ki]of ce){let Ni=ki;o(ki)&&(Ni=cn(ki)),Mt.push(Y+Os+"="+encodeURIComponent(Ni))}}catch(Os){throw Mt.push(Y+"type="+encodeURIComponent("_badmap")),Os}}catch{R&&R(Nn)}}if(tt){ce=Mt.join("&");break e}}ce=void 0}return u=u.i.splice(0,_),p.G=u,ce}function n1(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;j||v(),W||(j(),W=!0),x.add(p,u),u.A=0}}function d0(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Rs(c(u.Da,u),a1(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,i1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Rs(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),rc(this),i1(this))};function p0(u){u.B!=null&&(a.clearTimeout(u.B),u.B=null)}function i1(u){u.g=new O(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=kn(u.na);lt(p,"RID","rpc"),lt(p,"SID",u.M),lt(p,"AID",u.K),lt(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&lt(p,"TO",u.ia),lt(p,"TYPE","xmlhttp"),nl(u,p),u.u&&u.o&&f0(p,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Zu(kn(p)),_.u=null,_.R=!0,G(_,u)}t.Va=function(){this.C!=null&&(this.C=null,rc(this),d0(this),Xt(19))};function ic(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function s1(u,p){var _=null;if(u.g==p){ic(u),p0(u),u.g=null;var R=2}else if(Xn(u.h,p))_=p.G,Ii(u.h,p),R=1;else return;if(u.I!=0){if(p.o)if(R==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var z=u.D;R=Is(),mt(R,new Cs(R,_)),nc(u)}else n1(u);else if(z=p.m,z==3||z==0&&p.X>0||!(R==1&&_A(u,p)||R==2&&d0(u)))switch(_&&_.length>0&&(p=u.h,p.i=p.i.concat(_)),z){case 1:Ds(u,5);break;case 4:Ds(u,10);break;case 3:Ds(u,6);break;default:Ds(u,2)}}}function a1(u,p){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*p}function Ds(u,p){if(u.j.info("Error code "+p),p==2){var _=c(u.bb,u),R=u.Ua;const z=!R;R=new Ci(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xo(R,"https"),Zu(R),z?fA(R.toString(),_):hA(R.toString(),_)}else Xt(2);u.I=0,u.l&&u.l.pa(p),o1(u),e1(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function o1(u){if(u.I=0,u.ja=[],u.l){const p=Pn(u.h);(p.length!=0||u.i.length!=0)&&(y(u.ja,p),y(u.ja,u.i),u.h.i.length=0,m(u.i),u.i.length=0),u.l.oa()}}function l1(u,p,_){var R=_ instanceof Ci?kn(_):new Ci(_);if(R.g!="")p&&(R.g=p+"."+R.g),Yo(R,R.u);else{var z=a.location;R=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;const Y=new Ci(null);R&&Xo(Y,R),p&&(Y.g=p),z&&Yo(Y,z),_&&(Y.h=_),R=Y}return _=u.G,p=u.wa,_&&p&&lt(R,_,p),lt(R,"VER",u.ka),nl(u,R),R}function u1(u,p,_){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new xt(new c0({ab:_})):new xt(u.ma),p.Fa(u.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function c1(){}t=c1.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function sc(){}sc.prototype.g=function(u,p){return new Mr(u,p)};function Mr(u,p){nt.call(this),this.g=new Zg(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!N(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!N(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ca(this)}h(Mr,nt),Mr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mr.prototype.close=function(){h0(this.g)},Mr.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=cn(u),u=_);p.i.push(new Pe(p.Ya++,u)),p.I==3&&nc(p)},Mr.prototype.N=function(){this.g.l=null,delete this.j,h0(this.g),delete this.g,Mr.Z.N.call(this)};function f1(u){Ea.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}h(f1,Ea);function h1(){Ta.call(this),this.status=1}h(h1,Ta);function Ca(u){this.g=u}h(Ca,c1),Ca.prototype.ra=function(){mt(this.g,"a")},Ca.prototype.qa=function(u){mt(this.g,new f1(u))},Ca.prototype.pa=function(u){mt(this.g,new h1)},Ca.prototype.oa=function(){mt(this.g,"b")},sc.prototype.createWebChannel=sc.prototype.g,Mr.prototype.send=Mr.prototype.o,Mr.prototype.open=Mr.prototype.m,Mr.prototype.close=Mr.prototype.close,ew=function(){return new sc},ZT=function(){return Is()},JT=qn,cp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,ef=wa,Sa.COMPLETE="complete",QT=Sa,Go.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",nt.prototype.listen=nt.prototype.J,yl=Go,xt.prototype.listenOnce=xt.prototype.K,xt.prototype.getLastError=xt.prototype.Ha,xt.prototype.getLastErrorCode=xt.prototype.ya,xt.prototype.getStatus=xt.prototype.ca,xt.prototype.getResponseJson=xt.prototype.La,xt.prototype.getResponseText=xt.prototype.la,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Fa,YT=xt}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const Z_="@firebase/firestore",ev="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Im("@firebase/firestore");function Da(){return na.logLevel}function _e(t,...e){if(na.logLevel<=Ve.DEBUG){const r=e.map(Vm);na.debug(`Firestore (${Mo}): ${t}`,...r)}}function pi(t,...e){if(na.logLevel<=Ve.ERROR){const r=e.map(Vm);na.error(`Firestore (${Mo}): ${t}`,...r)}}function To(t,...e){if(na.logLevel<=Ve.WARN){const r=e.map(Vm);na.warn(`Firestore (${Mo}): ${t}`,...r)}}function Vm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,tw(t,n,r)}function tw(t,e,r){let n=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw pi(n),new Error(n)}function $e(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||tw(e,i,n)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends yi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(fr.UNAUTHENTICATED))}shutdown(){}}class Xk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Yk{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){$e(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $s,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $s)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?($e(typeof n.accessToken=="string",31837,{l:n}),new rw(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new fr(e)}}class Qk{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Jk{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Qk(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zk{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,en(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){$e(this.o===void 0,3512);const n=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?($e(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new tv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=e3(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function be(t,e){return t<e?-1:t>e?1:0}function fp(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),s=e.charAt(n);if(i!==s)return X0(i)===X0(s)?be(i,s):X0(i)?1:-1}return be(t.length,e.length)}const t3=55296,r3=57343;function X0(t){const e=t.charCodeAt(0);return e>=t3&&e<=r3}function wo(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="__name__";class Mn{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ce(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Ce(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Mn.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Mn?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=Mn.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return be(e.length,r.length)}static compareSegments(e,r){const n=Mn.isNumericId(e),i=Mn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Mn.extractNumericId(e).compare(Mn.extractNumericId(r)):fp(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class at extends Mn{construct(e,r,n){return new at(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new at(r)}static emptyPath(){return new at([])}}const n3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class er extends Mn{construct(e,r,n){return new er(e,r,n)}static isValidIdentifier(e){return n3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rv}static keyField(){return new er([rv])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new er(r)}static emptyPath(){return new er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(at.fromString(e))}static fromName(e){return new we(at.fromString(e).popFirst(5))}static empty(){return new we(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return at.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t,e,r){if(!r)throw new me(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i3(t,e,r,n){if(e===!0&&n===!0)throw new me(ee.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function nv(t){if(!we.isDocumentKey(t))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iv(t){if(we.isDocumentKey(t))throw new me(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Lh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function as(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Lh(t);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,e){const r={typeString:t};return e&&(r.value=e),r}function Mu(t,e){if(!iw(t))throw new me(ee.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const a=t[n];if(i&&typeof a!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new me(ee.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=-62135596800,av=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*av);return new ct(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<sv)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/av}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:kt("string",ct._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new ct(0,0))}static max(){return new ke(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function s3(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(n===1e9?new ct(r+1,0):new ct(r,n));return new cs(i,we.empty(),e)}function a3(t){return new cs(t.readTime,t.key,fu)}class cs{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new cs(ke.min(),we.empty(),fu)}static max(){return new cs(ke.max(),we.empty(),fu)}}function o3(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=we.comparator(t.documentKey,e.documentKey),r!==0?r:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==l3)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new te((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof te?r:te.resolve(r)}catch(r){return te.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):te.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):te.reject(r)}static resolve(e){return new te((r,n)=>{r(e)})}static reject(e){return new te((r,n)=>{n(e)})}static waitFor(e){return new te((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},l=>n(l))}),a=!0,s===i&&r()})}static or(e){let r=te.resolve(!1);for(const n of e)r=r.next(i=>i?te.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new te((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;r(e[c]).next(f=>{a[c]=f,++o,o===s&&n(a)},f=>i(f))}})}static doWhile(e,r){return new te((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function c3(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function bo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=-1;function Vh(t){return t==null}function jf(t){return t===0&&1/t==-1/0}function f3(t){return typeof t=="number"&&Number.isInteger(t)&&!jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="";function h3(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=ov(e)),e=d3(t.get(r),e);return ov(e)}function d3(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case sw:r+="";break;default:r+=s}}return r}function ov(t){return t+sw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ws(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function aw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,r){this.comparator=e,this.root=r||Zt.EMPTY}insert(e,r){return new yt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Zt.RED,this.left=i??Zt.EMPTY,this.right=s??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Zt(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,r,n,i,s){return this}insert(e,r,n){return new Zt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(e){return new uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Bt(this.comparator);return r.data=e,r}}class uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.fields=e,e.sort(er.comparator)}static empty(){return new Wr([])}unionWith(e){let r=new Bt(er.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Wr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ow("Invalid base64 string: "+s):s}}(e);return new ar(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new ar(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const p3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(t){if($e(!!t,39018),typeof t=="string"){let e=0;const r=p3.exec(t);if($e(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hs(t){return typeof t=="string"?ar.fromBase64String(t):ar.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="server_timestamp",uw="__type__",cw="__previous_value__",fw="__local_write_time__";function Bm(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[uw])==null?void 0:n.stringValue)===lw}function bh(t){const e=t.mapValue.fields[cw];return Bm(e)?bh(e):e}function hu(t){const e=fs(t.mapValue.fields[fw].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,r,n,i,s,a,o,l,c,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=f}}const zf="(default)";class du{constructor(e,r){this.projectId=e,this.database=r||zf}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===zf}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="__type__",g3="__max__",Cc={mapValue:{}},dw="__vector__",Wf="value";function ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bm(t)?4:v3(t)?9007199254740991:_3(t)?10:11:Ce(28295,{value:t})}function Gn(t,e){if(t===e)return!0;const r=ds(t);if(r!==ds(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hu(t).isEqual(hu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=fs(i.timestampValue),o=fs(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return hs(i.bytesValue).isEqual(hs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return St(i.geoPointValue.latitude)===St(s.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return St(i.integerValue)===St(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=St(i.doubleValue),o=St(s.doubleValue);return a===o?jf(a)===jf(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return wo(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(lv(a)!==lv(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Gn(a[l],o[l])))return!1;return!0}(t,e);default:return Ce(52216,{left:t})}}function pu(t,e){return(t.values||[]).find(r=>Gn(r,e))!==void 0}function So(t,e){if(t===e)return 0;const r=ds(t),n=ds(e);if(r!==n)return be(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=St(s.integerValue||s.doubleValue),l=St(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return cv(t.timestampValue,e.timestampValue);case 4:return cv(hu(t),hu(e));case 5:return fp(t.stringValue,e.stringValue);case 6:return function(s,a){const o=hs(s),l=hs(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const f=be(o[c],l[c]);if(f!==0)return f}return be(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=be(St(s.latitude),St(a.latitude));return o!==0?o:be(St(s.longitude),St(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return fv(t.arrayValue,e.arrayValue);case 10:return function(s,a){var d,m,y,g;const o=s.fields||{},l=a.fields||{},c=(d=o[Wf])==null?void 0:d.arrayValue,f=(m=l[Wf])==null?void 0:m.arrayValue,h=be(((y=c==null?void 0:c.values)==null?void 0:y.length)||0,((g=f==null?void 0:f.values)==null?void 0:g.length)||0);return h!==0?h:fv(c,f)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Cc.mapValue&&a===Cc.mapValue)return 0;if(s===Cc.mapValue)return 1;if(a===Cc.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const d=fp(l[h],f[h]);if(d!==0)return d;const m=So(o[l[h]],c[f[h]]);if(m!==0)return m}return be(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Ce(23264,{he:r})}}function cv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const r=fs(t),n=fs(e),i=be(r.seconds,n.seconds);return i!==0?i:be(r.nanos,n.nanos)}function fv(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=So(r[i],n[i]);if(s)return s}return be(r.length,n.length)}function Ao(t){return hp(t)}function hp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=fs(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return hs(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return we.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=hp(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${hp(r.fields[a])}`;return i+"}"}(t.mapValue):Ce(61005,{value:t})}function tf(t){switch(ds(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(t);return e?16+tf(e):16;case 5:return 2*t.stringValue.length;case 6:return hs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+tf(s),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return ws(n.fields,(s,a)=>{i+=s.length+tf(a)}),i}(t.mapValue);default:throw Ce(13486,{value:t})}}function hv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dp(t){return!!t&&"integerValue"in t}function jm(t){return!!t&&"arrayValue"in t}function dv(t){return!!t&&"nullValue"in t}function pv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rf(t){return!!t&&"mapValue"in t}function _3(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[hw])==null?void 0:n.stringValue)===dw}function Ll(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ws(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Ll(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ll(t.arrayValue.values[r]);return e}return{...t}}function v3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===g3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.value=e}static empty(){return new Rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!rf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(r)}setAll(e){let r=er.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=Ll(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());rf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];rf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ws(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Rr(Ll(this.value))}}function pw(t){const e=[];return ws(t.fields,(r,n)=>{const i=new er([r]);if(rf(n)){const s=pw(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new dr(e,0,ke.min(),ke.min(),ke.min(),Rr.empty(),0)}static newFoundDocument(e,r,n,i){return new dr(e,1,r,ke.min(),n,i,0)}static newNoDocument(e,r){return new dr(e,2,r,ke.min(),ke.min(),Rr.empty(),0)}static newUnknownDocument(e,r){return new dr(e,3,r,ke.min(),ke.min(),Rr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,r){this.position=e,this.inclusive=r}}function mv(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=we.comparator(we.fromName(a.referenceValue),r.key):n=So(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function gv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Gn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,r="asc"){this.field=e,this.dir=r}}function y3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{}class Pt extends mw{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new E3(e,r,n):r==="array-contains"?new S3(e,n):r==="in"?new A3(e,n):r==="not-in"?new I3(e,n):r==="array-contains-any"?new C3(e,n):new Pt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new T3(e,n):new w3(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(So(r,this.value)):r!==null&&ds(this.value)===ds(r)&&this.matchesComparison(So(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cn extends mw{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Cn(e,r)}matches(e){return gw(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gw(t){return t.op==="and"}function _w(t){return x3(t)&&gw(t)}function x3(t){for(const e of t.filters)if(e instanceof Cn)return!1;return!0}function pp(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+Ao(t.value);if(_w(t))return t.filters.map(e=>pp(e)).join(",");{const e=t.filters.map(r=>pp(r)).join(",");return`${t.op}(${e})`}}function vw(t,e){return t instanceof Pt?function(n,i){return i instanceof Pt&&n.op===i.op&&n.field.isEqual(i.field)&&Gn(n.value,i.value)}(t,e):t instanceof Cn?function(n,i){return i instanceof Cn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&vw(a,i.filters[o]),!0):!1}(t,e):void Ce(19439)}function yw(t){return t instanceof Pt?function(r){return`${r.field.canonicalString()} ${r.op} ${Ao(r.value)}`}(t):t instanceof Cn?function(r){return r.op.toString()+" {"+r.getFilters().map(yw).join(" ,")+"}"}(t):"Filter"}class E3 extends Pt{constructor(e,r,n){super(e,r,n),this.key=we.fromName(n.referenceValue)}matches(e){const r=we.comparator(e.key,this.key);return this.matchesComparison(r)}}class T3 extends Pt{constructor(e,r){super(e,"in",r),this.keys=xw("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class w3 extends Pt{constructor(e,r){super(e,"not-in",r),this.keys=xw("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function xw(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>we.fromName(n.referenceValue))}class S3 extends Pt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return jm(r)&&pu(r.arrayValue,this.value)}}class A3 extends Pt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&pu(this.value.arrayValue,r)}}class I3 extends Pt{constructor(e,r){super(e,"not-in",r)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!pu(this.value.arrayValue,r)}}class C3 extends Pt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!jm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>pu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function _v(t,e=null,r=[],n=[],i=null,s=null,a=null){return new R3(t,e,r,n,i,s,a)}function zm(t){const e=Ne(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>pp(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Vh(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Ao(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Ao(n)).join(",")),e.Te=r}return e.Te}function Wm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!y3(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!vw(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gv(t.startAt,e.startAt)&&gv(t.endAt,e.endAt)}function mp(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function P3(t,e,r,n,i,s,a,o){return new Uo(t,e,r,n,i,s,a,o)}function Hm(t){return new Uo(t)}function vv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ew(t){return t.collectionGroup!==null}function Ml(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Bt(er.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new mu(s,n))}),r.has(er.keyField().canonicalString())||e.Ie.push(new mu(er.keyField(),n))}return e.Ie}function zn(t){const e=Ne(t);return e.Ee||(e.Ee=k3(e,Ml(t))),e.Ee}function k3(t,e){if(t.limitType==="F")return _v(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new mu(i.field,s)});const r=t.endAt?new Hf(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Hf(t.startAt.position,t.startAt.inclusive):null;return _v(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function gp(t,e){const r=t.filters.concat([e]);return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function _p(t,e,r){return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Uh(t,e){return Wm(zn(t),zn(e))&&t.limitType===e.limitType}function Tw(t){return`${zm(zn(t))}|lt:${t.limitType}`}function Oa(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>yw(i)).join(", ")}]`),Vh(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Ao(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Ao(i)).join(",")),`Target(${n})`}(zn(t))}; limitType=${t.limitType})`}function Bh(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):we.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Ml(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const c=mv(a,o,l);return a.inclusive?c<=0:c<0}(n.startAt,Ml(n),i)||n.endAt&&!function(a,o,l){const c=mv(a,o,l);return a.inclusive?c>=0:c>0}(n.endAt,Ml(n),i))}(t,e)}function N3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ww(t){return(e,r)=>{let n=!1;for(const i of Ml(t)){const s=D3(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function D3(t,e,r){const n=t.field.isKeyField()?we.comparator(e.key,r.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?So(l,c):Ce(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return aw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=new yt(we.comparator);function mi(){return O3}const Sw=new yt(we.comparator);function xl(...t){let e=Sw;for(const r of t)e=e.insert(r.key,r);return e}function Aw(t){let e=Sw;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function zs(){return Vl()}function Iw(){return Vl()}function Vl(){return new ca(t=>t.toString(),(t,e)=>t.isEqual(e))}const F3=new yt(we.comparator),L3=new Bt(we.comparator);function Ue(...t){let e=L3;for(const r of t)e=e.add(r);return e}const M3=new Bt(be);function V3(){return M3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(e)?"-0":e}}function Cw(t){return{integerValue:""+t}}function b3(t,e){return f3(e)?Cw(e):$m(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this._=void 0}}function U3(t,e,r){return t instanceof $f?function(i,s){const a={fields:{[uw]:{stringValue:lw},[fw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Bm(s)&&(s=bh(s)),s&&(a.fields[cw]=s),{mapValue:a}}(r,e):t instanceof gu?Pw(t,e):t instanceof _u?kw(t,e):function(i,s){const a=Rw(i,s),o=yv(a)+yv(i.Ae);return dp(a)&&dp(i.Ae)?Cw(o):$m(i.serializer,o)}(t,e)}function B3(t,e,r){return t instanceof gu?Pw(t,e):t instanceof _u?kw(t,e):r}function Rw(t,e){return t instanceof Gf?function(n){return dp(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class $f extends jh{}class gu extends jh{constructor(e){super(),this.elements=e}}function Pw(t,e){const r=Nw(e);for(const n of t.elements)r.some(i=>Gn(i,n))||r.push(n);return{arrayValue:{values:r}}}class _u extends jh{constructor(e){super(),this.elements=e}}function kw(t,e){let r=Nw(e);for(const n of t.elements)r=r.filter(i=>!Gn(i,n));return{arrayValue:{values:r}}}class Gf extends jh{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function yv(t){return St(t.integerValue||t.doubleValue)}function Nw(t){return jm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function j3(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof gu&&i instanceof gu||n instanceof _u&&i instanceof _u?wo(n.elements,i.elements,Gn):n instanceof Gf&&i instanceof Gf?Gn(n.Ae,i.Ae):n instanceof $f&&i instanceof $f}(t.transform,e.transform)}class z3{constructor(e,r){this.version=e,this.transformResults=r}}class wn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zh{}function Dw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gm(t.key,wn.none()):new Vu(t.key,t.data,wn.none());{const r=t.data,n=Rr.empty();let i=new Bt(er.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Ss(t.key,n,new Wr(i.toArray()),wn.none())}}function W3(t,e,r){t instanceof Vu?function(i,s,a){const o=i.value.clone(),l=Ev(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Ss?function(i,s,a){if(!nf(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=Ev(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(Ow(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function bl(t,e,r,n){return t instanceof Vu?function(s,a,o,l){if(!nf(s.precondition,a))return o;const c=s.value.clone(),f=Tv(s.fieldTransforms,l,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof Ss?function(s,a,o,l){if(!nf(s.precondition,a))return o;const c=Tv(s.fieldTransforms,l,a),f=a.data;return f.setAll(Ow(s)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(s,a,o){return nf(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function H3(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=Rw(n.transform,i||null);s!=null&&(r===null&&(r=Rr.empty()),r.set(n.field,s))}return r||null}function xv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&wo(n,i,(s,a)=>j3(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends zh{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ss extends zh{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ow(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function Ev(t,e,r){const n=new Map;$e(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,B3(a,o,r[i]))}return n}function Tv(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,U3(s,a,e))}return n}class Gm extends zh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $3 extends zh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&W3(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=bl(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=bl(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=Iw();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=Dw(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ke.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ue())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(r,n)=>xv(r,n))&&wo(this.baseMutations,e.baseMutations,(r,n)=>xv(r,n))}}class Km{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){$e(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return F3}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new Km(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Be;function X3(t){switch(t){case ee.OK:return Ce(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function Fw(t){if(t===void 0)return pi("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Ct.OK:return ee.OK;case Ct.CANCELLED:return ee.CANCELLED;case Ct.UNKNOWN:return ee.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ee.INTERNAL;case Ct.UNAVAILABLE:return ee.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ee.NOT_FOUND;case Ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ct.ABORTED:return ee.ABORTED;case Ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ct.DATA_LOSS:return ee.DATA_LOSS;default:return Ce(39323,{code:t})}}(Be=Ct||(Ct={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new ss([4294967295,4294967295],0);function wv(t){const e=Y3().encode(t),r=new XT;return r.update(e),new Uint8Array(r.digest())}function Sv(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ss([r,n],0),new ss([i,s],0)]}class qm{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new El(`Invalid padding: ${r}`);if(n<0)throw new El(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new El(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=ss.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(ss.fromNumber(n)));return i.compare(Q3)===1&&(i=new ss([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=wv(e),[n,i]=Sv(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);if(!this.we(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new qm(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const r=wv(e),[n,i]=Sv(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);this.Se(a)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Wh(ke.min(),i,new yt(be),mi(),Ue())}}class bu{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new bu(n,r,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class Lw{constructor(e,r){this.targetId=e,this.Ce=r}}class Mw{constructor(e,r,n=ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class Av{constructor(){this.ve=0,this.Fe=Iv(),this.Me=ar.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),r=Ue(),n=Ue();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ce(38017,{changeType:s})}}),new bu(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=Iv()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J3{constructor(e){this.Ge=e,this.ze=new Map,this.je=mi(),this.Je=Rc(),this.He=Rc(),this.Ye=new yt(be)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const s=i.target;if(mp(s))if(n===0){const a=new we(s.path);this.et(r,a,dr.newNoDocument(a,ke.min()))}else $e(n===1,20013,{expectedCount:n});else{const a=this._t(r);if(a!==n){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,c)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=hs(n).toUint8Array()}catch(l){if(l instanceof ow)return To("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new qm(a,i,s)}catch(l){return To(l instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(r,s,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&mp(o.target)){const l=new we(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,dr.newNoDocument(l,e))}s.Be&&(r.set(a,s.ke()),s.qe())}});let n=Ue();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new Wh(e,r,this.Ye,this.je,n);return this.je=mi(),this.Je=Rc(),this.He=Rc(),this.Ye=new yt(be),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new Av,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Bt(be),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Bt(be),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||_e("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Av),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Rc(){return new yt(we.comparator)}function Iv(){return new yt(we.comparator)}const Z3={asc:"ASCENDING",desc:"DESCENDING"},eN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tN={and:"AND",or:"OR"};class rN{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function vp(t,e){return t.useProto3Json||Vh(e)?e:{value:e}}function Kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nN(t,e){return Kf(t,e.toTimestamp())}function Wn(t){return $e(!!t,49232),ke.fromTimestamp(function(r){const n=fs(r);return new ct(n.seconds,n.nanos)}(t))}function Xm(t,e){return yp(t,e).canonicalString()}function yp(t,e){const r=function(i){return new at(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function bw(t){const e=at.fromString(t);return $e(Ww(e),10190,{key:e.toString()}),e}function xp(t,e){return Xm(t.databaseId,e.path)}function Y0(t,e){const r=bw(e);if(r.get(1)!==t.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new we(Bw(r))}function Uw(t,e){return Xm(t.databaseId,e)}function iN(t){const e=bw(t);return e.length===4?at.emptyPath():Bw(e)}function Ep(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bw(t){return $e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Cv(t,e,r){return{name:xp(t,e),fields:r.value.mapValue.fields}}function sN(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ce(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?($e(f===void 0||typeof f=="string",58123),ar.fromBase64String(f||"")):($e(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ar.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const f=c.code===void 0?ee.UNKNOWN:Fw(c.code);return new me(f,c.message||"")}(a);r=new Mw(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Y0(t,n.document.name),s=Wn(n.document.updateTime),a=n.document.createTime?Wn(n.document.createTime):ke.min(),o=new Rr({mapValue:{fields:n.document.fields}}),l=dr.newFoundDocument(i,s,a,o),c=n.targetIds||[],f=n.removedTargetIds||[];r=new sf(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Y0(t,n.document),s=n.readTime?Wn(n.readTime):ke.min(),a=dr.newNoDocument(i,s),o=n.removedTargetIds||[];r=new sf([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Y0(t,n.document),s=n.removedTargetIds||[];r=new sf([],s,i,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new q3(i,s),o=n.targetId;r=new Lw(o,a)}}return r}function aN(t,e){let r;if(e instanceof Vu)r={update:Cv(t,e.key,e.value)};else if(e instanceof Gm)r={delete:xp(t,e.key)};else if(e instanceof Ss)r={update:Cv(t,e.key,e.data),updateMask:mN(e.fieldMask)};else{if(!(e instanceof $3))return Ce(16599,{Vt:e.type});r={verify:xp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof $f)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof gu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof _u)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Gf)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Ce(20930,{transform:a.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:nN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce(27497)}(t,e.precondition)),r}function oN(t,e){return t&&t.length>0?($e(e!==void 0,14353),t.map(r=>function(i,s){let a=i.updateTime?Wn(i.updateTime):Wn(s);return a.isEqual(ke.min())&&(a=Wn(s)),new z3(a,i.transformResults||[])}(r,e))):[]}function lN(t,e){return{documents:[Uw(t,e.path)]}}function uN(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Uw(t,i);const s=function(c){if(c.length!==0)return zw(Cn.create(c,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(f=>function(d){return{field:Fa(d.field),direction:hN(d.dir)}}(f))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=vp(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:r,parent:i}}function cN(t){let e=iN(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){$e(n===1,65062);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];r.where&&(s=function(h){const d=jw(h);return d instanceof Cn&&_w(d)?d.getFilters():[d]}(r.where));let a=[];r.orderBy&&(a=function(h){return h.map(d=>function(y){return new mu(La(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(r.orderBy));let o=null;r.limit&&(o=function(h){let d;return d=typeof h=="object"?h.value:h,Vh(d)?null:d}(r.limit));let l=null;r.startAt&&(l=function(h){const d=!!h.before,m=h.values||[];return new Hf(m,d)}(r.startAt));let c=null;return r.endAt&&(c=function(h){const d=!h.before,m=h.values||[];return new Hf(m,d)}(r.endAt)),P3(e,i,a,s,o,"F",l,c)}function fN(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function jw(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=La(r.unaryFilter.field);return Pt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=La(r.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=La(r.unaryFilter.field);return Pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=La(r.unaryFilter.field);return Pt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(t):t.fieldFilter!==void 0?function(r){return Pt.create(La(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Cn.create(r.compositeFilter.filters.map(n=>jw(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(r.compositeFilter.op))}(t):Ce(30097,{filter:t})}function hN(t){return Z3[t]}function dN(t){return eN[t]}function pN(t){return tN[t]}function Fa(t){return{fieldPath:t.canonicalString()}}function La(t){return er.fromServerFormat(t.fieldPath)}function zw(t){return t instanceof Pt?function(r){if(r.op==="=="){if(pv(r.value))return{unaryFilter:{field:Fa(r.field),op:"IS_NAN"}};if(dv(r.value))return{unaryFilter:{field:Fa(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(pv(r.value))return{unaryFilter:{field:Fa(r.field),op:"IS_NOT_NAN"}};if(dv(r.value))return{unaryFilter:{field:Fa(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(r.field),op:dN(r.op),value:r.value}}}(t):t instanceof Cn?function(r){const n=r.getFilters().map(i=>zw(i));return n.length===1?n[0]:{compositeFilter:{op:pN(r.op),filters:n}}}(t):Ce(54877,{filter:t})}function mN(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ww(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,r,n,i,s=ke.min(),a=ke.min(),o=ar.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.yt=e}}function _N(t){const e=cN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.Cn=new yN}addToCollectionParentIndex(e,r){return this.Cn.add(r),te.resolve()}getCollectionParents(e,r){return te.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return te.resolve()}deleteFieldIndex(e,r){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,r){return te.resolve()}getDocumentsMatchingTarget(e,r){return te.resolve(null)}getIndexType(e,r){return te.resolve(0)}getFieldIndexes(e,r){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,r){return te.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,r){return te.resolve(cs.min())}updateCollectionGroup(e,r,n){return te.resolve()}updateIndexEntries(e,r){return te.resolve()}}class yN{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Bt(at.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Bt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hw=41943040;class Ir{static withCacheSize(e){return new Ir(e,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir.DEFAULT_COLLECTION_PERCENTILE=10,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ir.DEFAULT=new Ir(Hw,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ir.DISABLED=new Ir(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="LruGarbageCollector",xN=1048576;function kv([t,e],[r,n]){const i=be(t,r);return i===0?be(e,n):i}class EN{constructor(e){this.Ir=e,this.buffer=new Bt(kv),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();kv(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class TN{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(Pv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){bo(r)?_e(Pv,"Ignoring IndexedDB error during garbage collection: ",r):await Vo(r)}await this.Vr(3e5)})}}class wN{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return te.resolve(Mh.ce);const n=new EN(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Rv)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,s,a,o,l,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,a=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(n=h,o=Date.now(),this.removeTargets(e,n,r))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(c=Date.now(),Da()<=Ve.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-f}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function SN(t,e){return new wN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.changes=new ca(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?te.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&bl(n.mutation,i,Wr.empty(),ct.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ue()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ue()){const i=zs();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=xl();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=zs();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ue()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=mi();const a=Vl(),o=function(){return Vl()}();return r.forEach((l,c)=>{const f=n.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Ss)?s=s.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),bl(f.mutation,c,f.mutation.getFieldMask(),ct.now())):a.set(c.key,Wr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,f)=>a.set(c,f)),r.forEach((c,f)=>o.set(c,new IN(f,a.get(c)??null))),o))}recalculateAndSaveOverlays(e,r){const n=Vl();let i=new yt((a,o)=>a-o),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let f=n.get(l)||Wr.empty();f=o.applyToLocalView(c,f),n.set(l,f);const h=(i.get(o.batchId)||Ue()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,f=l.value,h=Iw();f.forEach(d=>{if(!s.has(d)){const m=Dw(r.get(d),n.get(d));m!==null&&h.set(d,m),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,h))}return te.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return we.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Ew(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):te.resolve(zs());let o=fu,l=s;return a.next(c=>te.forEach(c,(f,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),s.get(f)?te.resolve():this.remoteDocumentCache.getEntry(e,f).next(d=>{l=l.insert(f,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ue())).next(f=>({batchId:o,changes:Aw(f)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new we(r)).next(n=>{let i=xl();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=xl();return this.indexManager.getCollectionParents(e,s).next(o=>te.forEach(o,l=>{const c=function(h,d){return new Uo(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(f=>{f.forEach((h,d)=>{a=a.insert(h,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((l,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,dr.newInvalidDocument(f)))});let o=xl();return a.forEach((l,c)=>{const f=s.get(l);f!==void 0&&bl(f.mutation,c,Wr.empty(),ct.now()),Bh(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return te.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Wn(i.createTime)}}(r)),te.resolve()}getNamedQuery(e,r){return te.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:_N(i.bundledQuery),readTime:Wn(i.readTime)}}(r)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.overlays=new yt(we.comparator),this.qr=new Map}getOverlay(e,r){return te.resolve(this.overlays.get(r))}getOverlays(e,r){const n=zs();return te.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.St(e,r,s)}),te.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),te.resolve()}getOverlaysForCollection(e,r,n){const i=zs(),s=r.length+1,a=new we(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new yt((c,f)=>c-f);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let f=s.get(c.largestBatchId);f===null&&(f=zs(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const o=zs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>o.set(c,f)),!(o.size()>=i)););return te.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new K3(r,n));let s=this.qr.get(r);s===void 0&&(s=Ue(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.sessionToken=ar.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this.Qr=new Bt(Wt.$r),this.Ur=new Bt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Wt(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Wt(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new we(new at([])),n=new Wt(r,e),i=new Wt(r,e+1),s=[];return this.Ur.forEachInRange([n,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new we(new at([])),n=new Wt(r,e),i=new Wt(r,e+1);let s=Ue();return this.Ur.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new Wt(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Wt{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return we.comparator(e.key,r.key)||be(e.Yr,r.Yr)}static Kr(e,r){return be(e.Yr,r.Yr)||we.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Wt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new G3(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Wt(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return te.resolve(a)}lookupMutationBatch(e,r){return te.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Wt(r,0),i=new Wt(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Bt(be);return r.forEach(i=>{const s=new Wt(i,0),a=new Wt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{n=n.add(o.Yr)})}),te.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;we.isDocumentKey(s)||(s=s.child(""));const a=new Wt(new we(s),0);let o=new Bt(be);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)},a),te.resolve(this.ti(o))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){$e(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return te.forEach(r.mutations,i=>{const s=new Wt(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Wt(r,0),i=this.Zr.firstAfterOrEqual(n);return te.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.ri=e,this.docs=function(){return new yt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return te.resolve(n?n.document.mutableCopy():dr.newInvalidDocument(r))}getEntries(e,r){let n=mi();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():dr.newInvalidDocument(i))}),te.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=mi();const a=r.path,o=new we(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||o3(a3(f),n)<=0||(i.has(f.key)||Bh(r,f))&&(s=s.insert(f.key,f.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,r,n,i){Ce(9500)}ii(e,r){return te.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new ON(this)}getSize(e){return te.resolve(this.size)}}class ON extends AN{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),te.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.persistence=e,this.si=new ca(r=>zm(r),Wm),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Ym,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),te.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Io(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,te.resolve()}updateTargetData(e,r){return this.Pr(r),te.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return te.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),te.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),te.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return te.resolve(n)}containsKey(e,r){return te.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,r){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new kN,this.referenceDelegate=e(this),this.Pi=new FN(this),this.indexManager=new vN,this.remoteDocumentCache=function(i){return new DN(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new gN(r),this.Ii=new RN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new PN,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new NN(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){_e("MemoryPersistence","Starting transaction:",e);const i=new LN(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,r){return te.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class LN extends u3{constructor(e){super(),this.currentSequenceNumber=e}}class Qm{constructor(e){this.persistence=e,this.Ri=new Ym,this.Vi=null}static mi(e){return new Qm(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),te.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),te.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),te.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,n=>{const i=we.fromPath(n);return this.gi(e,i).next(s=>{s||r.removeEntry(i,ke.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return te.or([()=>te.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class qf{constructor(e,r){this.persistence=e,this.pi=new ca(n=>h3(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=SN(this,r)}static mi(e,r){return new qf(e,r)}Ei(){}di(e){return te.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return te.forEach(this.pi,(n,i)=>this.br(e,n,i).next(s=>s?te.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,r).next(o=>{o||(n++,s.removeEntry(a,ke.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=tf(e.data.value)),r}br(e,r,n){return te.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return te.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Ue(),i=Ue();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Jm(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return f4()?8:c3(_r())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.ys(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new MN;return this.Ss(e,r,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,r,a,o.size)})}).next(()=>s.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(Da()<=Ve.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Oa(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Da()<=Ve.DEBUG&&_e("QueryEngine","Query:",Oa(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Da()<=Ve.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Oa(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(r))):te.resolve())}ys(e,r){if(vv(r))return te.resolve(null);let n=zn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=_p(r,null,"F"),n=zn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Ue(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.Ds(r,o);return this.Cs(r,c,a,l.readTime)?this.ys(e,_p(r,null,"F")):this.vs(e,c,r,l)}))})))}ws(e,r,n,i){return vv(r)||i.isEqual(ke.min())?te.resolve(null):this.ps.getDocuments(e,n).next(s=>{const a=this.Ds(r,s);return this.Cs(r,a,n,i)?te.resolve(null):(Da()<=Ve.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oa(r)),this.vs(e,a,r,s3(i,fu)).next(o=>o))})}Ds(e,r){let n=new Bt(ww(e));return r.forEach((i,s)=>{Bh(e,s)&&(n=n.add(s))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,r,n){return Da()<=Ve.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Oa(r)),this.ps.getDocumentsMatchingQuery(e,r,cs.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="LocalStore",bN=3e8;class UN{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new yt(be),this.xs=new ca(s=>zm(s),Wm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function BN(t,e,r,n){return new UN(t,e,r,n)}async function Gw(t,e){const r=Ne(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=Ue();for(const c of i){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of s){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:o}))})})}function jN(t,e){const r=Ne(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,f){const h=c.batch,d=h.keys();let m=te.resolve();return d.forEach(y=>{m=m.next(()=>f.getEntry(l,y)).next(g=>{const S=c.docVersions.get(y);$e(S!==null,48541),g.version.compareTo(S)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),f.addEntry(g)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Ue();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function Kw(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function zN(t,e){const r=Ne(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach((f,h)=>{const d=i.get(h);if(!d)return;o.push(r.Pi.removeMatchingKeys(s,f.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(s,f.addedDocuments,h)));let m=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(ar.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,n)),i=i.insert(h,m),function(g,S,A){return g.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=bN?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(d,m,f)&&o.push(r.Pi.updateTargetData(s,m))});let l=mi(),c=Ue();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,f))}),o.push(WN(s,a,e.documentUpdates).next(f=>{l=f.ks,c=f.qs})),!n.isEqual(ke.min())){const f=r.Pi.getLastRemoteSnapshotVersion(s).next(h=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(f)}return te.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(r.Ms=i,s))}function WN(t,e,r){let n=Ue(),i=Ue();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=mi();return r.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ke.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):_e(Zm,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:a,qs:i}})}function HN(t,e){const r=Ne(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Um),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function $N(t,e){const r=Ne(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(s=>s?(i=s,te.resolve(i)):r.Pi.allocateTargetId(n).next(a=>(i=new $i(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function Tp(t,e,r){const n=Ne(t),i=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!bo(a))throw a;_e(Zm,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function Nv(t,e,r){const n=Ne(t);let i=ke.min(),s=Ue();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,f){const h=Ne(l),d=h.xs.get(f);return d!==void 0?te.resolve(h.Ms.get(d)):h.Pi.getTargetData(c,f)}(n,a,zn(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(a,e,r?i:ke.min(),r?s:Ue())).next(o=>(GN(n,N3(e),o),{documents:o,Qs:s})))}function GN(t,e,r){let n=t.Os.get(e)||ke.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Os.set(e,n)}class Dv{constructor(){this.activeTargetIds=V3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KN{constructor(){this.Mo=new Dv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Dv,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="ConnectivityMonitor";class Fv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(Ov,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(Ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function wp(){return Pc===null?Pc=function(){return 268435456+Math.round(2147483648*Math.random())}():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="RestConnection",XN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===zf?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,s){const a=wp(),o=this.zo(e,r.toUriEncodedString());_e(Q0,`Sending RPC '${e}' ${a}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(o),f=Oo(c);return this.Jo(e,o,l,n,f).then(h=>(_e(Q0,`Received RPC '${e}' ${a}: `,h),h),h=>{throw To(Q0,`RPC '${e}' ${a} failed with error: `,h,"url: ",o,"request:",n),h})}Ho(e,r,n,i,s,a){return this.Go(e,r,n,i,s)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}zo(e,r){const n=XN[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="WebChannelConnection";class JN extends YN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,s){const a=wp();return new Promise((o,l)=>{const c=new YT;c.setWithCredentials(!0),c.listenOnce(QT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ef.NO_ERROR:const h=c.getResponseJson();_e(cr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case ef.TIMEOUT:_e(cr,`RPC '${e}' ${a} timed out`),l(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ef.HTTP_ERROR:const d=c.getStatus();if(_e(cr,`RPC '${e}' ${a} failed with status:`,d,"response text:",c.getResponseText()),d>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const g=function(A){const E=A.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(E)>=0?E:ee.UNKNOWN}(y.status);l(new me(g,y.message))}else l(new me(ee.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new me(ee.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{_e(cr,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);_e(cr,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",f,n,15)})}T_(e,r,n){const i=wp(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ew(),o=ZT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const f=s.join("");_e(cr,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=a.createWebChannel(f,l);this.I_(h);let d=!1,m=!1;const y=new QN({Yo:S=>{m?_e(cr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(d||(_e(cr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),_e(cr,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Zo:()=>h.close()}),g=(S,A,E)=>{S.listen(A,w=>{try{E(w)}catch(V){setTimeout(()=>{throw V},0)}})};return g(h,yl.EventType.OPEN,()=>{m||(_e(cr,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),g(h,yl.EventType.CLOSE,()=>{m||(m=!0,_e(cr,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(h))}),g(h,yl.EventType.ERROR,S=>{m||(m=!0,To(cr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),y.a_(new me(ee.UNAVAILABLE,"The operation could not be completed")))}),g(h,yl.EventType.MESSAGE,S=>{var A;if(!m){const E=S.data[0];$e(!!E,16349);const w=E,V=(w==null?void 0:w.error)||((A=w[0])==null?void 0:A.error);if(V){_e(cr,`RPC '${e}' stream ${i} received error:`,V);const j=V.status;let W=function(T){const C=Ct[T];if(C!==void 0)return Fw(C)}(j),x=V.message;W===void 0&&(W=ee.INTERNAL,x="Unknown error status: "+j+" with message "+V.message),m=!0,y.a_(new me(W,x)),h.close()}else _e(cr,`RPC '${e}' stream ${i} received:`,E),y.u_(E)}}),g(o,JT.STAT_EVENT,S=>{S.stat===cp.PROXY?_e(cr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===cp.NOPROXY&&_e(cr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function J0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){return new rN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="PersistentStream";class Xw{constructor(e,r,n,i,s,a,o,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qw(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===ee.RESOURCE_EXHAUSTED?(pi(r.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new me(ee.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return _e(Lv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(_e(Lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZN extends Xw{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=sN(this.serializer,e),n=function(s){if(!("targetChange"in s))return ke.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ke.min():a.readTime?Wn(a.readTime):ke.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=Ep(this.serializer),r.addTarget=function(s,a){let o;const l=a.target;if(o=mp(l)?{documents:lN(s,l)}:{query:uN(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=Vw(s,a.resumeToken);const c=vp(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(ke.min())>0){o.readTime=Kf(s,a.snapshotVersion.toTimestamp());const c=vp(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=fN(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=Ep(this.serializer),r.removeTarget=e,this.q_(r)}}class eD extends Xw{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=oN(e.writeResults,e.commitTime),n=Wn(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=Ep(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>aN(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{}class rD extends tD{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,yp(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new me(ee.UNKNOWN,s.toString())})}Ho(e,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,yp(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(ee.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class nD{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pi(r),this.aa=!1):_e("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class iD{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{n.enqueueAndForget(async()=>{fa(this)&&(_e(ia,"Restarting streams for network reachability change."),await async function(l){const c=Ne(l);c.Ea.add(4),await Uu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await $h(c)}(this))})}),this.Ra=new nD(n,i)}}async function $h(t){if(fa(t))for(const e of t.da)await e(!0)}async function Uu(t){for(const e of t.da)await e(!1)}function Yw(t,e){const r=Ne(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),ng(r)?rg(r):Bo(r).O_()&&tg(r,e))}function eg(t,e){const r=Ne(t),n=Bo(r);r.Ia.delete(e),n.O_()&&Qw(r,e),r.Ia.size===0&&(n.O_()?n.L_():fa(r)&&r.Ra.set("Unknown"))}function tg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Bo(t).Y_(e)}function Qw(t,e){t.Va.Ue(e),Bo(t).Z_(e)}function rg(t){t.Va=new J3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bo(t).start(),t.Ra.ua()}function ng(t){return fa(t)&&!Bo(t).x_()&&t.Ia.size>0}function fa(t){return Ne(t).Ea.size===0}function Jw(t){t.Va=void 0}async function sD(t){t.Ra.set("Online")}async function aD(t){t.Ia.forEach((e,r)=>{tg(t,e)})}async function oD(t,e){Jw(t),ng(t)?(t.Ra.ha(e),rg(t)):t.Ra.set("Unknown")}async function lD(t,e,r){if(t.Ra.set("Online"),e instanceof Mw&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(n){_e(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Xf(t,n)}else if(e instanceof sf?t.Va.Ze(e):e instanceof Lw?t.Va.st(e):t.Va.tt(e),!r.isEqual(ke.min()))try{const n=await Kw(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.Ia.get(c);f&&s.Ia.set(c,f.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const f=s.Ia.get(l);if(!f)return;s.Ia.set(l,f.withResumeToken(ar.EMPTY_BYTE_STRING,f.snapshotVersion)),Qw(s,l);const h=new $i(f.target,l,c,f.sequenceNumber);tg(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){_e(ia,"Failed to raise snapshot:",n),await Xf(t,n)}}async function Xf(t,e,r){if(!bo(e))throw e;t.Ea.add(1),await Uu(t),t.Ra.set("Offline"),r||(r=()=>Kw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(ia,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await $h(t)})}function Zw(t,e){return e().catch(r=>Xf(t,r,e))}async function Gh(t){const e=Ne(t),r=ps(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Um;for(;uD(e);)try{const i=await HN(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,cD(e,i)}catch(i){await Xf(e,i)}e2(e)&&t2(e)}function uD(t){return fa(t)&&t.Ta.length<10}function cD(t,e){t.Ta.push(e);const r=ps(t);r.O_()&&r.X_&&r.ea(e.mutations)}function e2(t){return fa(t)&&!ps(t).x_()&&t.Ta.length>0}function t2(t){ps(t).start()}async function fD(t){ps(t).ra()}async function hD(t){const e=ps(t);for(const r of t.Ta)e.ea(r.mutations)}async function dD(t,e,r){const n=t.Ta.shift(),i=Km.from(n,e,r);await Zw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gh(t)}async function pD(t,e){e&&ps(t).X_&&await async function(n,i){if(function(a){return X3(a)&&a!==ee.ABORTED}(i.code)){const s=n.Ta.shift();ps(n).B_(),await Zw(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Gh(n)}}(t,e),e2(t)&&t2(t)}async function Mv(t,e){const r=Ne(t);r.asyncQueue.verifyOperationInProgress(),_e(ia,"RemoteStore received new credentials");const n=fa(r);r.Ea.add(3),await Uu(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await $h(r)}async function mD(t,e){const r=Ne(t);e?(r.Ea.delete(2),await $h(r)):e||(r.Ea.add(2),await Uu(r),r.Ra.set("Unknown"))}function Bo(t){return t.ma||(t.ma=function(r,n,i){const s=Ne(r);return s.sa(),new ZN(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:sD.bind(null,t),t_:aD.bind(null,t),r_:oD.bind(null,t),H_:lD.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ng(t)?rg(t):t.Ra.set("Unknown")):(await t.ma.stop(),Jw(t))})),t.ma}function ps(t){return t.fa||(t.fa=function(r,n,i){const s=Ne(r);return s.sa(),new eD(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:fD.bind(null,t),r_:pD.bind(null,t),ta:hD.bind(null,t),na:dD.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Gh(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(ia,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new ig(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(t,e){if(pi("AsyncQueue",`${e}: ${t}`),bo(t))return new me(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||we.comparator(r.key,n.key):(r,n)=>we.comparator(r.key,n.key),this.keyedMap=xl(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new ao;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.ga=new yt(we.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class Co{constructor(e,r,n,i,s,a,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new Co(e,r,ao.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class _D{constructor(){this.queries=bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Ne(r),s=i.queries;i.queries=bv(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new me(ee.ABORTED,"Firestore shutting down"))}}function bv(){return new ca(t=>Tw(t),Uh)}async function vD(t,e){const r=Ne(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new gD,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=sg(a,`Initialization of query '${Oa(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&ag(r)}async function yD(t,e){const r=Ne(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function xD(t,e){const r=Ne(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(n=!0);a.wa=i}}n&&ag(r)}function ED(t,e,r){const n=Ne(t),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(e)}function ag(t){t.Ca.forEach(e=>{e.next()})}var Sp,Uv;(Uv=Sp||(Sp={})).Ma="default",Uv.Cache="cache";class TD{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Co(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.key=e}}class n2{constructor(e){this.key=e}}class wD{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=ww(e),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new Vv,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const d=i.get(f),m=Bh(this.query,h)?h:null,y=!!d&&this.mutatedKeys.has(d.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;d&&m?d.data.isEqual(m.data)?y!==g&&(n.track({type:3,doc:m}),S=!0):this.su(d,m)||(n.track({type:2,doc:m}),S=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(o=!0)):!d&&m?(n.track({type:0,doc:m}),S=!0):d&&!m&&(n.track({type:1,doc:d}),S=!0,(l||c)&&(o=!0)),S&&(m?(a=a.add(m),s=g?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{tu:a,iu:n,Cs:o,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,h)=>function(m,y){const g=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:S})}};return g(m)-g(y)}(f.type,h.type)||this.eu(f.doc,h.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new Co(this.query,e.tu,s,a,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new n2(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new r2(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Ue();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class SD{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class AD{constructor(e){this.key=e,this.hu=!1}}class ID{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new ca(o=>Tw(o),Uh),this.Iu=new Map,this.Eu=new Set,this.du=new yt(we.comparator),this.Au=new Map,this.Ru=new Ym,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CD(t,e,r=!0){const n=u2(t);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await i2(n,e,r,!0),i}async function RD(t,e){const r=u2(t);await i2(r,e,!0,!1)}async function i2(t,e,r,n){const i=await $N(t.localStore,zn(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await PD(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&Yw(t.remoteStore,i),o}async function PD(t,e,r,n,i){t.pu=(h,d,m)=>async function(g,S,A,E){let w=S.view.ru(A);w.Cs&&(w=await Nv(g.localStore,S.query,!1).then(({documents:x})=>S.view.ru(x,w)));const V=E&&E.targetChanges.get(S.targetId),j=E&&E.targetMismatches.get(S.targetId)!=null,W=S.view.applyChanges(w,g.isPrimaryClient,V,j);return jv(g,S.targetId,W.au),W.snapshot}(t,h,d,m);const s=await Nv(t.localStore,e,!0),a=new wD(e,s.Qs),o=a.ru(s.documents),l=bu.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);jv(t,r,c.au);const f=new SD(e,r,a);return t.Tu.set(e,f),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),c.snapshot}async function kD(t,e,r){const n=Ne(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter(a=>!Uh(a,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Tp(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&eg(n.remoteStore,i.targetId),Ap(n,i.targetId)}).catch(Vo)):(Ap(n,i.targetId),await Tp(n.localStore,i.targetId,!0))}async function ND(t,e){const r=Ne(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),eg(r.remoteStore,n.targetId))}async function DD(t,e,r){const n=UD(t);try{const i=await function(a,o){const l=Ne(a),c=ct.now(),f=o.reduce((m,y)=>m.add(y.key),Ue());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=mi(),g=Ue();return l.Ns.getEntries(m,f).next(S=>{y=S,y.forEach((A,E)=>{E.isValidDocument()||(g=g.add(A))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(S=>{h=S;const A=[];for(const E of o){const w=H3(E,h.get(E.key).overlayedDocument);w!=null&&A.push(new Ss(E.key,w,pw(w.value.mapValue),wn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,A,o)}).next(S=>{d=S;const A=S.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(m,S.batchId,A)})}).then(()=>({batchId:d.batchId,changes:Aw(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new yt(be)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c}(n,i.batchId,r),await Bu(n,i.changes),await Gh(n.remoteStore)}catch(i){const s=sg(i,"Failed to persist write");r.reject(s)}}async function s2(t,e){const r=Ne(t);try{const n=await zN(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Au.get(s);a&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?$e(a.hu,14607):i.removedDocuments.size>0&&($e(a.hu,42227),a.hu=!1))}),await Bu(r,n,e)}catch(n){await Vo(n)}}function Bv(t,e,r){const n=Ne(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Ne(a);l.onlineState=o;let c=!1;l.queries.forEach((f,h)=>{for(const d of h.Sa)d.va(o)&&(c=!0)}),c&&ag(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function OD(t,e,r){const n=Ne(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),s=i&&i.key;if(s){let a=new yt(we.comparator);a=a.insert(s,dr.newNoDocument(s,ke.min()));const o=Ue().add(s),l=new Wh(ke.min(),new Map,new yt(be),a,o);await s2(n,l),n.du=n.du.remove(s),n.Au.delete(e),lg(n)}else await Tp(n.localStore,e,!1).then(()=>Ap(n,e,r)).catch(Vo)}async function FD(t,e){const r=Ne(t),n=e.batch.batchId;try{const i=await jN(r.localStore,e);o2(r,n,null),a2(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Bu(r,i)}catch(i){await Vo(i)}}async function LD(t,e,r){const n=Ne(t);try{const i=await function(a,o){const l=Ne(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,o).next(h=>($e(h!==null,37113),f=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(n.localStore,e);o2(n,e,r),a2(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Bu(n,i)}catch(i){await Vo(i)}}function a2(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function o2(t,e,r){const n=Ne(t);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function Ap(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||l2(t,n)})}function l2(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(eg(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),lg(t))}function jv(t,e,r){for(const n of r)n instanceof r2?(t.Ru.addReference(n.key,e),MD(t,n)):n instanceof n2?(_e(og,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||l2(t,n.key)):Ce(19791,{wu:n})}function MD(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(_e(og,"New document in limbo: "+r),t.Eu.add(n),lg(t))}function lg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new we(at.fromString(e)),n=t.fu.next();t.Au.set(n,new AD(r)),t.du=t.du.insert(r,n),Yw(t.remoteStore,new $i(zn(Hm(r.path)),n,"TargetPurposeLimboResolution",Mh.ce))}}async function Bu(t,e,r){const n=Ne(t),i=[],s=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{a.push(n.pu(l,e,r).then(c=>{var f;if((c||r)&&n.isPrimaryClient){const h=c?!c.fromCache:(f=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:f.current;n.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Jm.As(l.targetId,c);s.push(h)}}))}),await Promise.all(a),n.Pu.H_(i),await async function(l,c){const f=Ne(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>te.forEach(c,d=>te.forEach(d.Es,m=>f.persistence.referenceDelegate.addReference(h,d.targetId,m)).next(()=>te.forEach(d.ds,m=>f.persistence.referenceDelegate.removeReference(h,d.targetId,m)))))}catch(h){if(!bo(h))throw h;_e(Zm,"Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const m=f.Ms.get(d),y=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(y);f.Ms=f.Ms.insert(d,g)}}}(n.localStore,s))}async function VD(t,e){const r=Ne(t);if(!r.currentUser.isEqual(e)){_e(og,"User change. New user:",e.toKey());const n=await Gw(r.localStore,e);r.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new me(ee.CANCELLED,a))})}),s.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Bu(r,n.Ls)}}function bD(t,e){const r=Ne(t),n=r.Au.get(e);if(n&&n.hu)return Ue().add(n.key);{let i=Ue();const s=r.Iu.get(e);if(!s)return i;for(const a of s){const o=r.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function u2(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OD.bind(null,e),e.Pu.H_=xD.bind(null,e.eventManager),e.Pu.yu=ED.bind(null,e.eventManager),e}function UD(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LD.bind(null,e),e}class Yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return BN(this.persistence,new VN,e.initialUser,this.serializer)}Cu(e){return new $w(Qm.mi,this.serializer)}Du(e){return new KN}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yf.provider={build:()=>new Yf};class BD extends Yf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){$e(this.persistence.referenceDelegate instanceof qf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new TN(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Ir.withCacheSize(this.cacheSizeBytes):Ir.DEFAULT;return new $w(n=>qf.mi(n,r),this.serializer)}}class Ip{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Bv(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=VD.bind(null,this.syncEngine),await mD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _D}()}createDatastore(e){const r=Hh(e.databaseInfo.databaseId),n=function(s){return new JN(s)}(e.databaseInfo);return function(s,a,o,l){return new rD(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new iD(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>Bv(this.syncEngine,r,0),function(){return Fv.v()?new Fv:new qN}())}createSyncEngine(e,r){return function(i,s,a,o,l,c,f){const h=new ID(i,s,a,o,l,c);return f&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Ne(i);_e(ia,"RemoteStore shutting down."),s.Ea.add(5),await Uu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}Ip.provider={build:()=>new Ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class zD{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=fr.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{_e(ms,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(_e(ms,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=sg(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Z0(t,e){t.asyncQueue.verifyOperationInProgress(),_e(ms,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await Gw(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zv(t,e){t.asyncQueue.verifyOperationInProgress();const r=await WD(t);_e(ms,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Mv(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>Mv(e.remoteStore,i)),t._onlineComponents=e}async function WD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(ms,"Using user provided OfflineComponentProvider");try{await Z0(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;To("Error using user provided cache. Falling back to memory cache: "+r),await Z0(t,new Yf)}}else _e(ms,"Using default OfflineComponentProvider"),await Z0(t,new BD(void 0));return t._offlineComponents}async function c2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(ms,"Using user provided OnlineComponentProvider"),await zv(t,t._uninitializedComponentsProvider._online)):(_e(ms,"Using default OnlineComponentProvider"),await zv(t,new Ip))),t._onlineComponents}function HD(t){return c2(t).then(e=>e.syncEngine)}async function Wv(t){const e=await c2(t),r=e.eventManager;return r.onListen=CD.bind(null,e.syncEngine),r.onUnlisten=kD.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=RD.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=ND.bind(null,e.syncEngine),r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="firestore.googleapis.com",$v=!0;class Gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h2,this.ssl=$v}else this.host=e.host,this.ssl=e.ssl??$v;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xN)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f2(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new qk;switch(n.type){case"firstParty":return new Jk(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=Hv.get(r);n&&(_e("ComponentProvider","Removing Datastore"),Hv.delete(r),n.terminate())}(this),Promise.resolve()}}function $D(t,e,r,n={}){var c;t=as(t,Kh);const i=Oo(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(aT(`https://${o}`),oT("Firestore",!0)),s.host!==h2&&s.host!==o&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:n};if(!Zs(l,a)&&(t._setSettings(l),n.mockUserToken)){let f,h;if(typeof n.mockUserToken=="string")f=n.mockUserToken,h=fr.MOCK_USER;else{f=r4(n.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new fr(d)}t._authCredentials=new Xk(new rw(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ha(this.firestore,e,this._query)}}class Nt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Mu(r,Nt._jsonSchema))return new Nt(e,n||null,new we(at.fromString(r.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:kt("string",Nt._jsonSchemaVersion),referencePath:kt("string")};class os extends ha{constructor(e,r,n){super(e,r,Hm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new we(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function Qf(t,e,...r){if(t=jt(t),nw("collection","path",e),t instanceof Kh){const n=at.fromString(e,...r);return iv(n),new os(t,null,n)}{if(!(t instanceof Nt||t instanceof os))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(at.fromString(e,...r));return iv(n),new os(t.firestore,null,n)}}function af(t,e,...r){if(t=jt(t),arguments.length===1&&(e=bm.newId()),nw("doc","path",e),t instanceof Kh){const n=at.fromString(e,...r);return nv(n),new Nt(t,null,new we(n))}{if(!(t instanceof Nt||t instanceof os))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(at.fromString(e,...r));return nv(n),new Nt(t.firestore,t instanceof os?t.converter:null,new we(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="AsyncQueue";class qv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qw(this,"async_queue_retry"),this._c=()=>{const n=J0();n&&_e(Kv,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=J0();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=J0();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new $s;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bo(e))throw e;_e(Kv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,pi("INTERNAL UNHANDLED ERROR: ",Xv(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=ig.createAndSchedule(this,e,r,n,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Ce(47125,{Pc:Xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function Xv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ro extends Kh{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new qv,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qv(e),this._firestoreClient=void 0,await e}}}function GD(t,e){const r=typeof t=="object"?t:fT(),n=typeof t=="string"?t:zf,i=Rm(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=e4("firestore");s&&$D(i,...s)}return i}function d2(t){if(t._terminated)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KD(t),t._firestoreClient}function KD(t){var n,i,s;const e=t._freezeSettings(),r=function(o,l,c,f){return new m3(o,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f2(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new zD(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tn(ar.fromBase64String(e))}catch(r){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new tn(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,tn._jsonSchema))return tn.fromBase64String(e.bytes)}}tn._jsonSchemaVersion="firestore/bytes/1.0",tn._jsonSchema={type:kt("string",tn._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hn._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,Hn._jsonSchema))return new Hn(e.latitude,e.longitude)}}Hn._jsonSchemaVersion="firestore/geoPoint/1.0",Hn._jsonSchema={type:kt("string",Hn._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,$n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new $n(e.vectorValues);throw new me(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$n._jsonSchemaVersion="firestore/vectorValue/1.0",$n._jsonSchema={type:kt("string",$n._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^__.*__$/;class XD{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,r,this.fieldTransforms):new Vu(e,this.data,r,this.fieldTransforms)}}class p2{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Ss(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function m2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class cg{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(m2(this.Ac)&&qD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YD{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Hh(e)}Cc(e,r,n,i=!1){return new cg({Ac:e,methodName:r,Dc:n,path:er.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fg(t){const e=t._freezeSettings(),r=Hh(t._databaseId);return new YD(t._databaseId,!!e.ignoreUndefinedProperties,r)}function QD(t,e,r,n,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,r,i);hg("Data must be an object, but it was:",a,n);const o=g2(n,a);let l,c;if(s.merge)l=new Wr(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const d=Cp(e,h,r);if(!a.contains(d))throw new me(ee.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);v2(f,d)||f.push(d)}l=new Wr(f),c=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=a.fieldTransforms;return new XD(new Rr(o),l,c)}class Xh extends ug{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function JD(t,e,r,n){const i=t.Cc(1,e,r);hg("Data must be an object, but it was:",i,n);const s=[],a=Rr.empty();ws(n,(l,c)=>{const f=dg(e,l,r);c=jt(c);const h=i.yc(f);if(c instanceof Xh)s.push(f);else{const d=ju(c,h);d!=null&&(s.push(f),a.set(f,d))}});const o=new Wr(s);return new p2(a,o,i.fieldTransforms)}function ZD(t,e,r,n,i,s){const a=t.Cc(1,e,r),o=[Cp(e,n,r)],l=[i];if(s.length%2!=0)throw new me(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(Cp(e,s[d])),l.push(s[d+1]);const c=[],f=Rr.empty();for(let d=o.length-1;d>=0;--d)if(!v2(c,o[d])){const m=o[d];let y=l[d];y=jt(y);const g=a.yc(m);if(y instanceof Xh)c.push(m);else{const S=ju(y,g);S!=null&&(c.push(m),f.set(m,S))}}const h=new Wr(c);return new p2(f,h,a.fieldTransforms)}function eO(t,e,r,n=!1){return ju(r,t.Cc(n?4:3,e))}function ju(t,e){if(_2(t=jt(t)))return hg("Unsupported field value:",e,t),g2(t,e);if(t instanceof ug)return function(n,i){if(!m2(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let l=ju(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=jt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return b3(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=ct.fromDate(n);return{timestampValue:Kf(i.serializer,s)}}if(n instanceof ct){const s=new ct(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Kf(i.serializer,s)}}if(n instanceof Hn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof tn)return{bytesValue:Vw(i.serializer,n._byteString)};if(n instanceof Nt){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xm(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof $n)return function(a,o){return{mapValue:{fields:{[hw]:{stringValue:dw},[Wf]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return $m(o.serializer,c)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${Lh(n)}`)}(t,e)}function g2(t,e){const r={};return aw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(t,(n,i)=>{const s=ju(i,e.mc(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function _2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof Hn||t instanceof tn||t instanceof Nt||t instanceof ug||t instanceof $n)}function hg(t,e,r){if(!_2(r)||!iw(r)){const n=Lh(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function Cp(t,e,r){if((e=jt(e))instanceof qh)return e._internalPath;if(typeof e=="string")return dg(t,e);throw Jf("Field path arguments must be of type string or ",t,!1,void 0,r)}const tO=new RegExp("[~\\*/\\[\\]]");function dg(t,e,r){if(e.search(tO)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new qh(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Jf(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new me(ee.INVALID_ARGUMENT,o+t+l)}function v2(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class rO extends y2{data(){return super.data()}}function pg(t,e){return typeof e=="string"?dg(t,e):e instanceof qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class x2 extends mg{}function Qv(t,e,...r){let n=[];e instanceof mg&&n.push(e),n=n.concat(r),function(s){const a=s.filter(l=>l instanceof _g).length,o=s.filter(l=>l instanceof gg).length;if(a>1||a>0&&o>0)throw new me(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class gg extends x2{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new gg(e,r,n)}_apply(e){const r=this._parse(e);return E2(e._query,r),new ha(e.firestore,e.converter,gp(e._query,r))}_parse(e){const r=fg(e.firestore);return function(s,a,o,l,c,f,h){let d;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new me(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){ey(h,f);const y=[];for(const g of h)y.push(Zv(l,s,g));d={arrayValue:{values:y}}}else d=Zv(l,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||ey(h,f),d=eO(o,a,h,f==="in"||f==="not-in");return Pt.create(c,f,d)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class _g extends mg{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new _g(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Cn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)E2(a,l),a=gp(a,l)}(e._query,r),new ha(e.firestore,e.converter,gp(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vg extends x2{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new vg(e,r)}_apply(e){const r=function(i,s,a){if(i.startAt!==null)throw new me(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new me(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mu(s,a)}(e._query,this._field,this._direction);return new ha(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Uo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Jv(t,e="asc"){const r=e,n=pg("orderBy",t);return vg._create(n,r)}function Zv(t,e,r){if(typeof(r=jt(r))=="string"){if(r==="")throw new me(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ew(e)&&r.indexOf("/")!==-1)throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(at.fromString(r));if(!we.isDocumentKey(n))throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return hv(t,new we(n))}if(r instanceof Nt)return hv(t,r._key);throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(r)}.`)}function ey(t,e){if(!Array.isArray(t)||t.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E2(t,e){const r=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new me(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class iO{convertValue(e,r="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ws(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)==null?void 0:n[Wf].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>St(a.doubleValue));return new $n(r)}convertGeoPoint(e){return new Hn(St(e.latitude),St(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=bh(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const r=fs(e);return new ct(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=at.fromString(e);$e(Ww(n),9688,{name:e});const i=new du(n.get(1),n.get(3)),s=new we(n.popFirst(5));return i.isEqual(r)||pi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class Tl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends y2{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(pg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Gs._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:kt("string",Gs._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class of extends Gs{data(e={}){return super.data(e)}}class oo{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Tl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new of(this._firestore,this._userDataWriter,n.key,n,new Tl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new of(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Tl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new of(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Tl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:aO(o.type),doc:l,oldIndex:c,newIndex:f}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:kt("string",oo._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class T2 extends iO{constructor(e){super(),this.firestore=e}convertBytes(e){return new tn(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,r)}}function oO(t,e,r,...n){t=as(t,Nt);const i=as(t.firestore,Ro),s=fg(i);let a;return a=typeof(e=jt(e))=="string"||e instanceof qh?ZD(s,"updateDoc",t._key,e,r,n):JD(s,"updateDoc",t._key,e),yg(i,[a.toMutation(t._key,wn.exists(!0))])}function ty(t){return yg(as(t.firestore,Ro),[new Gm(t._key,wn.none())])}function w2(t,e){const r=as(t.firestore,Ro),n=af(t),i=sO(t.converter,e);return yg(r,[QD(fg(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,wn.exists(!1))]).then(()=>n)}function Zf(t,...e){var l,c,f;t=jt(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||Yv(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(Yv(e[n])){const h=e[n];e[n]=(l=h.next)==null?void 0:l.bind(h),e[n+1]=(c=h.error)==null?void 0:c.bind(h),e[n+2]=(f=h.complete)==null?void 0:f.bind(h)}let s,a,o;if(t instanceof Nt)a=as(t.firestore,Ro),o=Hm(t._key.path),s={next:h=>{e[n]&&e[n](lO(a,t,h))},error:e[n+1],complete:e[n+2]};else{const h=as(t,ha);a=as(h.firestore,Ro),o=h._query;const d=new T2(a);s={next:m=>{e[n]&&e[n](new oo(a,d,h,m))},error:e[n+1],complete:e[n+2]},nO(t._query)}return function(d,m,y,g){const S=new jD(g),A=new TD(m,S,y);return d.asyncQueue.enqueueAndForget(async()=>vD(await Wv(d),A)),()=>{S.Nu(),d.asyncQueue.enqueueAndForget(async()=>yD(await Wv(d),A))}}(d2(a),o,i,s)}function yg(t,e){return function(n,i){const s=new $s;return n.asyncQueue.enqueueAndForget(async()=>DD(await HD(n),i,s)),s.promise}(d2(t),e)}function lO(t,e,r){const n=r.docs.get(e._key),i=new T2(t);return new Gs(t,i,e._key,n,new Tl(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Mo=i})(Fo),Eo(new ea("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Ro(new Yk(n.getProvider("auth-internal")),new Zk(a,n.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(c.options.projectId,f)}(a,i),a);return s={useFetchStreams:r,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),is(Z_,ev,e),is(Z_,ev,"esm2020")})();const uO={apiKey:"AIzaSyAZG8Dl2OHJHIrjHoiid892gh9WDl0JuW8",authDomain:"app-reservas-7e01f.firebaseapp.com",projectId:"app-reservas-7e01f",storageBucket:"app-reservas-7e01f.firebasestorage.app",messagingSenderId:"735619796411",appId:"1:735619796411:web:1e3a6f11db1d48532d889e"},S2=cT(uO),Vs=GD(S2),lo=Hk(S2);function cO({onLogin:t}){const[e,r]=Ze.useState(""),[n,i]=Ze.useState(""),[s,a]=Ze.useState(!1),[o,l]=Ze.useState(""),[c,f]=Ze.useState(""),h=async m=>{m.preventDefault(),l(""),f("");try{s?(await PP(lo,e,n),f("✅ Cuenta creada correctamente. Ya puedes iniciar sesión."),a(!1)):(await kP(lo,e,n),t(!0))}catch(y){l("❌ "+y.message)}},d=async()=>{if(!e){l("Por favor, ingresa tu correo primero.");return}try{await RP(lo,e),f("📩 Se ha enviado un correo para restablecer tu contraseña.")}catch{l("Error al enviar el correo de recuperación.")}};return de.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:de.jsxs("div",{className:"bg-white shadow-lg rounded-2xl p-8 w-full max-w-sm",children:[de.jsx("h2",{className:"text-2xl font-bold text-blue-700 mb-4 text-center",children:s?"Crear cuenta nueva":"Iniciar sesión"}),de.jsxs("form",{onSubmit:h,className:"space-y-3",children:[de.jsx("input",{type:"email",placeholder:"Correo electrónico",value:e,onChange:m=>r(m.target.value),className:"border border-gray-300 rounded-lg p-2 w-full focus:ring focus:ring-blue-300 outline-none"}),de.jsx("input",{type:"password",placeholder:"Contraseña",value:n,onChange:m=>i(m.target.value),className:"border border-gray-300 rounded-lg p-2 w-full focus:ring focus:ring-blue-300 outline-none"}),o&&de.jsx("p",{className:"text-red-500 text-sm",children:o}),c&&de.jsx("p",{className:"text-green-600 text-sm",children:c}),de.jsx("button",{type:"submit",className:"bg-blue-700 text-white w-full py-2 rounded-lg hover:bg-blue-800 transition",children:s?"Registrarme":"Entrar"})]}),!s&&de.jsx("button",{onClick:d,className:"text-blue-600 hover:underline mt-3 text-sm w-full text-center",children:"¿Olvidaste tu contraseña?"}),de.jsxs("p",{className:"text-sm text-gray-600 mt-4 text-center",children:[s?"¿Ya tienes cuenta?":"¿No tienes cuenta?"," ",de.jsx("button",{onClick:()=>{a(!s),l(""),f("")},className:"text-blue-700 hover:underline",children:s?"Inicia sesión":"Regístrate"})]})]})})}function fO(){const[t,e]=Ze.useState(""),[r,n]=Ze.useState(""),[i,s]=Ze.useState(""),[a,o]=Ze.useState(null),[l,c]=Ze.useState([]),[f,h]=Ze.useState([]),d=Qf(Vs,"reservas"),m=Qf(Vs,"bloqueos");Ze.useEffect(()=>{const w=bT(lo,V=>{o(V)});return()=>w()},[]),Ze.useEffect(()=>{const w=Zf(m,V=>{const j=V.docs.map(W=>({id:W.id,...W.data()}));c(j)});return()=>w()},[]),Ze.useEffect(()=>{const w=Zf(d,V=>{const j=V.docs.map(W=>({id:W.id,...W.data()}));h(j)});return()=>w()},[]);const y=(w,V)=>l.some(j=>j.fecha===w&&(j.hora==="todo"||j.hora===V)),g=(w,V,j)=>f.some(W=>W.email===w&&W.fecha===V&&W.hora===j),S=async w=>{if(w.preventDefault(),!a)return alert("Debes iniciar sesión.");if(!t||!r||!i)return alert("Por favor completa todos los campos.");if(y(r,i)){alert("🚫 No puedes reservar en una fecha u hora bloqueada.");return}if(g(a.email,r,i)){alert("⚠️ Ya tienes una reserva en esa fecha y hora.");return}await w2(d,{nombre:t,fecha:r,hora:i,email:a.email,creado:new Date}),e(""),n(""),s(""),alert("✅ Reserva creada exitosamente.")},E=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"].filter(w=>!y(r,w));return de.jsxs("div",{className:"bg-white shadow-md rounded-2xl p-6",children:[de.jsx("h2",{className:"text-2xl font-bold text-blue-700 mb-4 text-center",children:"📅 Reservar cita"}),de.jsxs("form",{onSubmit:S,className:"flex flex-col gap-4",children:[de.jsx("input",{type:"text",placeholder:"Tu nombre",value:t,onChange:w=>e(w.target.value),className:"border rounded-lg p-2"}),de.jsx("input",{type:"date",value:r,onChange:w=>n(w.target.value),className:"border rounded-lg p-2"}),de.jsxs("select",{value:i,onChange:w=>s(w.target.value),className:"border rounded-lg p-2",disabled:!r,children:[de.jsx("option",{value:"",children:"Selecciona una hora"}),E.length>0?E.map(w=>de.jsx("option",{value:w,children:w},w)):de.jsx("option",{disabled:!0,children:"🚫 No hay horarios disponibles"})]}),de.jsx("button",{type:"submit",className:"bg-blue-700 text-white px-4 py-2 rounded-lg hover:bg-blue-800 transition",children:"Reservar"})]})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var eh={};eh.version="0.18.5";var A2=1252,hO=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],I2=function(t){hO.indexOf(t)!=-1&&(A2=t)};function dO(){I2(1252)}var vu=function(t){I2(t)};function pO(){vu(1200),dO()}var kc=function(e){return String.fromCharCode(e)},ry=function(e){return String.fromCharCode(e)},th,Gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function yu(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),s=r>>2,n=t.charCodeAt(c++),a=(r&3)<<4|n>>4,i=t.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=Gi.charAt(s)+Gi.charAt(a)+Gi.charAt(o)+Gi.charAt(l);return e}function gi(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=Gi.indexOf(t.charAt(c++)),a=Gi.indexOf(t.charAt(c++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=Gi.indexOf(t.charAt(c++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=Gi.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var He=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ti=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function sa(t){return He?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function ny(t){return He?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var vn=function(e){return He?Ti(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Yh(t){if(typeof ArrayBuffer>"u")return vn(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function zu(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function mO(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var tr=He?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ti(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function gO(t){for(var e=[],r=0,n=t.length+250,i=sa(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=sa(65535),n=65530)}return e.push(i.slice(0,r)),tr(e)}var Ul=/\u0000/g,Nc=/[\u0001-\u0006]/g;function uo(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function xn(t,e){var r=""+t;return r.length>=e?r:Tt("0",e-r.length)+r}function xg(t,e){var r=""+t;return r.length>=e?r:Tt(" ",e-r.length)+r}function rh(t,e){var r=""+t;return r.length>=e?r:r+Tt(" ",e-r.length)}function _O(t,e){var r=""+Math.round(t);return r.length>=e?r:Tt("0",e-r.length)+r}function vO(t,e){var r=""+t;return r.length>=e?r:Tt("0",e-r.length)+r}var iy=Math.pow(2,32);function Pa(t,e){if(t>iy||t<-iy)return _O(t,e);var r=Math.round(t);return vO(r,e)}function nh(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var sy=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ed=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function yO(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var wt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},ay={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},xO={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ih(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,c=0,f=0,h=Math.floor(i);c<e&&(h=Math.floor(i),o=h*a+s,f=h*c+l,!(i-h<5e-8));)i=1/(i-h),s=a,a=o,l=c,c=f;if(f>e&&(c>e?(f=l,o=s):(f=c,o=a)),!r)return[0,n*o,f];var d=Math.floor(n*o/f);return[d,n*o-d*f,f]}function Dc(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=CO(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var C2=new Date(1899,11,31,0,0,0),EO=C2.getTime(),TO=new Date(1900,2,1,0,0,0);function R2(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=TO&&(r+=24*60*60*1e3),(r-(EO+(t.getTimezoneOffset()-C2.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Eg(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function wO(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SO(t){var e=t<0?12:11,r=Eg(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function AO(t){var e=Eg(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function IO(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=SO(t):e===10?r=t.toFixed(10).substr(0,12):r=AO(t),Eg(wO(r.toUpperCase()))}function Rp(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):IO(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return gs(14,R2(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function CO(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function RO(t,e,r,n){var i="",s=0,a=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return ed[r.m-1][1];case 5:return ed[r.m-1][0];default:return ed[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return sy[r.q][0];default:return sy[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?xn(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=xn(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var f=c>0?xn(l,c):"";return f}function Ki(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var P2=/%/g;function PO(t,e,r){var n=e.replace(P2,""),i=e.length-n.length;return si(t,n,r*Math.pow(10,2*i))+Tt("%",i)}function kO(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return si(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function k2(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+k2(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,f){return l+c+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var N2=/# (\?+)( ?)\/( ?)(\d+)/;function NO(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?Tt(" ",t[1].length+1+t[4].length):xg(a,t[1].length)+t[2]+"/"+t[3]+xn(o,t[4].length))}function DO(t,e,r){return r+(e===0?"":""+e)+Tt(" ",t[1].length+2+t[4].length)}var D2=/^#*0*\.([0#]+)/,O2=/\).*[0#]/,F2=/\(###\) ###\\?-####/;function xr(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function oy(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function ly(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function OO(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function FO(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Yr(t,e,r){if(t.charCodeAt(0)===40&&!e.match(O2)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Yr("n",n,r):"("+Yr("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return kO(t,e,r);if(e.indexOf("%")!==-1)return PO(t,e,r);if(e.indexOf("E")!==-1)return k2(e,r);if(e.charCodeAt(0)===36)return"$"+Yr(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Pa(l,e.length);if(e.match(/^[#?]+$/))return i=Pa(r,0),i==="0"&&(i=""),i.length>e.length?i:xr(e.substr(0,e.length-i.length))+i;if(s=e.match(N2))return NO(s,l,c);if(e.match(/^#+0+$/))return c+Pa(l,e.length-e.indexOf("0"));if(s=e.match(D2))return i=oy(r,s[1].length).replace(/^([^\.]+)$/,"$1."+xr(s[1])).replace(/\.$/,"."+xr(s[1])).replace(/\.(\d*)$/,function(y,g){return"."+g+Tt("0",xr(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+oy(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Ki(Pa(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Yr(t,e,-r):Ki(""+(Math.floor(r)+OO(r,s[1].length)))+"."+xn(ly(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Yr(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=uo(Yr(t,e.replace(/[\\-]/g,""),r)),a=0,uo(uo(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<i.length?i.charAt(a++):y==="0"?"0":""}));if(e.match(F2))return i=Yr(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=ih(l,Math.pow(10,a)-1,!1),i=""+c,f=si("n",s[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=rh(o[2],a),f.length<s[4].length&&(f=xr(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=ih(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?xg(o[1],a)+s[2]+"/"+s[3]+rh(o[2],a):Tt(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Pa(r,0),e.length<=i.length?i:xr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=e.indexOf(".")-a,d=e.length-i.length-h;return xr(e.substr(0,h)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=ly(r,s[1].length),r<0?"-"+Yr(t,e,-r):Ki(FO(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?xn(0,3-y.length):"")+y})+"."+xn(a,s[1].length);switch(e){case"###,##0.00":return Yr(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Ki(Pa(l,0));return m!=="0"?c+m:"";case"###,###.00":return Yr(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Yr(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function LO(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return si(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function MO(t,e,r){var n=e.replace(P2,""),i=e.length-n.length;return si(t,n,r*Math.pow(10,2*i))+Tt("%",i)}function L2(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+L2(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,f){return l+c+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function On(t,e,r){if(t.charCodeAt(0)===40&&!e.match(O2)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?On("n",n,r):"("+On("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return LO(t,e,r);if(e.indexOf("%")!==-1)return MO(t,e,r);if(e.indexOf("E")!==-1)return L2(e,r);if(e.charCodeAt(0)===36)return"$"+On(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+xn(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:xr(e.substr(0,e.length-i.length))+i;if(s=e.match(N2))return DO(s,l,c);if(e.match(/^#+0+$/))return c+xn(l,e.length-e.indexOf("0"));if(s=e.match(D2))return i=(""+r).replace(/^([^\.]+)$/,"$1."+xr(s[1])).replace(/\.$/,"."+xr(s[1])),i=i.replace(/\.(\d*)$/,function(y,g){return"."+g+Tt("0",xr(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Ki(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+On(t,e,-r):Ki(""+r)+"."+Tt("0",s[1].length);if(s=e.match(/^#,#*,#0/))return On(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=uo(On(t,e.replace(/[\\-]/g,""),r)),a=0,uo(uo(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<i.length?i.charAt(a++):y==="0"?"0":""}));if(e.match(F2))return i=On(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=ih(l,Math.pow(10,a)-1,!1),i=""+c,f=si("n",s[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=rh(o[2],a),f.length<s[4].length&&(f=xr(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=ih(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?xg(o[1],a)+s[2]+"/"+s[3]+rh(o[2],a):Tt(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:xr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=e.indexOf(".")-a,d=e.length-i.length-h;return xr(e.substr(0,h)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+On(t,e,-r):Ki(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?xn(0,3-y.length):"")+y})+"."+xn(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Ki(""+l);return m!=="0"?c+m:"";default:if(e.match(/\.[0#?]*$/))return On(t,e.slice(0,e.lastIndexOf(".")),r)+xr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function si(t,e,r){return(r|0)===r?On(t,e,r):Yr(t,e,r)}function VO(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var M2=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function V2(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":nh(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(M2))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function bO(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",c,f,h,d="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!nh(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(h=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(h);i[i.length]={t:"t",v:s},++a;break;case"\\":var m=t.charAt(++a),y=m==="("||m===")"?m:"t";i[i.length]={t:y,v:m},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=Dc(e,r,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Dc(e,r),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"上":var g={t:o,v:o};if(c==null&&(c=Dc(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",d="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",a+=5,d="h"):t.substr(a,5).toUpperCase()==="上午/下午"?(c!=null&&(g.v=c.H>=12?"下午":"上午"),g.t="T",a+=5,d="h"):(g.t="t",++a),c==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(M2)){if(c==null&&(c=Dc(e,r),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",V2(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var S=0,A=0,E;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=d,l="h",S<1&&(S=1);break;case"s":(E=i[a].v.match(/\.0+$/))&&(A=Math.max(A,E[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&i[a].v.match(/[Hh]/)&&(S=1),S<2&&i[a].v.match(/[Mm]/)&&(S=2),S<3&&i[a].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",V;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=RO(i[a].t.charCodeAt(0),i[a].v,c,A),i[a].t="t";break;case"n":case"?":for(V=a+1;i[V]!=null&&((o=i[V].t)==="?"||o==="D"||(o===" "||o==="t")&&i[V+1]!=null&&(i[V+1].t==="?"||i[V+1].t==="t"&&i[V+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[V].v==="/"||i[V].v===" "&&i[V+1]!=null&&i[V+1].t=="?"));)i[a].v+=i[V].v,i[V]={v:"",t:";"},++V;w+=i[a].v,a=V-1;break;case"G":i[a].t="t",i[a].v=Rp(e,r);break}var j="",W,x;if(w.length>0){w.charCodeAt(0)==40?(W=e<0&&w.charCodeAt(0)===45?-e:e,x=si("n",w,W)):(W=e<0&&n>1?-e:e,x=si("n",w,W),W<0&&i[0]&&i[0].t=="t"&&(x=x.substr(1),i[0].v="-"+i[0].v)),V=x.length-1;var v=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){v=a;break}var T=i.length;if(v===i.length&&x.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(V>=i[a].v.length-1?(V-=i[a].v.length,i[a].v=x.substr(V+1,i[a].v.length)):V<0?i[a].v="":(i[a].v=x.substr(0,V+1),V=-1),i[a].t="t",T=a);V>=0&&T<i.length&&(i[T].v=x.substr(0,V+1)+i[T].v)}else if(v!==i.length&&x.indexOf("E")===-1){for(V=x.indexOf(".")-1,a=v;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(f=i[a].v.indexOf(".")>-1&&a===v?i[a].v.indexOf(".")-1:i[a].v.length-1,j=i[a].v.substr(f+1);f>=0;--f)V>=0&&(i[a].v.charAt(f)==="0"||i[a].v.charAt(f)==="#")&&(j=x.charAt(V--)+j);i[a].v=j,i[a].t="t",T=a}for(V>=0&&T<i.length&&(i[T].v=x.substr(0,V+1)+i[T].v),V=x.indexOf(".")+1,a=v;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==v)){for(f=i[a].v.indexOf(".")>-1&&a===v?i[a].v.indexOf(".")+1:0,j=i[a].v.substr(0,f);f<i[a].v.length;++f)V<x.length&&(j+=x.charAt(V++));i[a].v=j,i[a].t="t",T=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(W=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=si(i[a].t,i[a].v,W),i[a].t="t");var C="";for(a=0;a!==i.length;++a)i[a]!=null&&(C+=i[a].v);return C}var uy=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function cy(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function UO(t,e){var r=VO(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(uy),o=r[1].match(uy);return cy(e,a)?[n,r[0]]:cy(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function gs(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:wt)[t],n==null&&(n=r.table&&r.table[ay[t]]||wt[ay[t]]),n==null&&(n=xO[t]||"General");break}if(nh(n,0))return Rp(e,r);e instanceof Date&&(e=R2(e,r.date1904));var i=UO(n,e);if(nh(i[1]))return Rp(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return bO(i[1],e,r,i[0])}function b2(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(wt[r]==null){e<0&&(e=r);continue}if(wt[r]==t){e=r;break}}e<0&&(e=391)}return wt[e]=t,e}function Qh(t){for(var e=0;e!=392;++e)t[e]!==void 0&&b2(t[e],e)}function Jh(){wt=yO()}var U2=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function BO(t){var e=typeof t=="number"?wt[t]:t;return e=e.replace(U2,"(\\d+)"),new RegExp("^"+e+"$")}function jO(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(U2)||[]).forEach(function(h,d){var m=parseInt(r[d+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":a=m;break;case"s":l=m;break;case"m":a>=0?o=m:i=m;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var f=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&s==-1?f:c+"T"+f}var zO=function(){var t={};t.version="1.2.0";function e(){for(var x=0,v=new Array(256),T=0;T!=256;++T)x=T,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,v[T]=x;return typeof Int32Array<"u"?new Int32Array(v):v}var r=e();function n(x){var v=0,T=0,C=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)P[C]=x[C];for(C=0;C!=256;++C)for(T=x[C],v=256+C;v<4096;v+=256)T=P[v]=T>>>8^x[T&255];var L=[];for(C=1;C!=16;++C)L[C-1]=typeof Int32Array<"u"?P.subarray(C*256,C*256+256):P.slice(C*256,C*256+256);return L}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],f=i[5],h=i[6],d=i[7],m=i[8],y=i[9],g=i[10],S=i[11],A=i[12],E=i[13],w=i[14];function V(x,v){for(var T=v^-1,C=0,P=x.length;C<P;)T=T>>>8^r[(T^x.charCodeAt(C++))&255];return~T}function j(x,v){for(var T=v^-1,C=x.length-15,P=0;P<C;)T=w[x[P++]^T&255]^E[x[P++]^T>>8&255]^A[x[P++]^T>>16&255]^S[x[P++]^T>>>24]^g[x[P++]]^y[x[P++]]^m[x[P++]]^d[x[P++]]^h[x[P++]]^f[x[P++]]^c[x[P++]]^l[x[P++]]^o[x[P++]]^a[x[P++]]^s[x[P++]]^r[x[P++]];for(C+=15;P<C;)T=T>>>8^r[(T^x[P++])&255];return~T}function W(x,v){for(var T=v^-1,C=0,P=x.length,L=0,N=0;C<P;)L=x.charCodeAt(C++),L<128?T=T>>>8^r[(T^L)&255]:L<2048?(T=T>>>8^r[(T^(192|L>>6&31))&255],T=T>>>8^r[(T^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,N=x.charCodeAt(C++)&1023,T=T>>>8^r[(T^(240|L>>8&7))&255],T=T>>>8^r[(T^(128|L>>2&63))&255],T=T>>>8^r[(T^(128|N>>6&15|(L&3)<<4))&255],T=T>>>8^r[(T^(128|N&63))&255]):(T=T>>>8^r[(T^(224|L>>12&15))&255],T=T>>>8^r[(T^(128|L>>6&63))&255],T=T>>>8^r[(T^(128|L&63))&255]);return~T}return t.table=r,t.bstr=V,t.buf=j,t.str=W,t}(),Je=function(){var e={};e.version="1.2.1";function r(I,O){for(var k=I.split("/"),D=O.split("/"),F=0,M=0,G=Math.min(k.length,D.length);F<G;++F){if(M=k[F].length-D[F].length)return M;if(k[F]!=D[F])return k[F]<D[F]?-1:1}return k.length-D.length}function n(I){if(I.charAt(I.length-1)=="/")return I.slice(0,-1).indexOf("/")===-1?I:n(I.slice(0,-1));var O=I.lastIndexOf("/");return O===-1?I:I.slice(0,O+1)}function i(I){if(I.charAt(I.length-1)=="/")return i(I.slice(0,-1));var O=I.lastIndexOf("/");return O===-1?I:I.slice(O+1)}function s(I,O){typeof O=="string"&&(O=new Date(O));var k=O.getHours();k=k<<6|O.getMinutes(),k=k<<5|O.getSeconds()>>>1,I.write_shift(2,k);var D=O.getFullYear()-1980;D=D<<4|O.getMonth()+1,D=D<<5|O.getDate(),I.write_shift(2,D)}function a(I){var O=I.read_shift(2)&65535,k=I.read_shift(2)&65535,D=new Date,F=k&31;k>>>=5;var M=k&15;k>>>=4,D.setMilliseconds(0),D.setFullYear(k+1980),D.setMonth(M-1),D.setDate(F);var G=O&31;O>>>=5;var J=O&63;return O>>>=6,D.setHours(O),D.setMinutes(J),D.setSeconds(G<<1),D}function o(I){Ur(I,0);for(var O={},k=0;I.l<=I.length-4;){var D=I.read_shift(2),F=I.read_shift(2),M=I.l+F,G={};switch(D){case 21589:k=I.read_shift(1),k&1&&(G.mtime=I.read_shift(4)),F>5&&(k&2&&(G.atime=I.read_shift(4)),k&4&&(G.ctime=I.read_shift(4))),G.mtime&&(G.mt=new Date(G.mtime*1e3));break}I.l=M,O[D]=G}return O}var l;function c(){return l||(l={})}function f(I,O){if(I[0]==80&&I[1]==75)return Si(I,O);if((I[0]|32)==109&&(I[1]|32)==105)return o0(I,O);if(I.length<512)throw new Error("CFB file size "+I.length+" < 512");var k=3,D=512,F=0,M=0,G=0,J=0,H=0,K=[],q=I.slice(0,512);Ur(q,0);var ne=h(q);switch(k=ne[0],k){case 3:D=512;break;case 4:D=4096;break;case 0:if(ne[1]==0)return Si(I,O);default:throw new Error("Major Version: Expected 3 or 4 saw "+k)}D!==512&&(q=I.slice(0,D),Ur(q,28));var le=I.slice(0,D);d(q,k);var pe=q.read_shift(4,"i");if(k===3&&pe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+pe);q.l+=4,G=q.read_shift(4,"i"),q.l+=4,q.chk("00100000","Mini Stream Cutoff Size: "),J=q.read_shift(4,"i"),F=q.read_shift(4,"i"),H=q.read_shift(4,"i"),M=q.read_shift(4,"i");for(var ie=-1,he=0;he<109&&(ie=q.read_shift(4,"i"),!(ie<0));++he)K[he]=ie;var Pe=m(I,D);S(H,M,Pe,D,K);var it=E(Pe,G,K,D);it[G].name="!Directory",F>0&&J!==N&&(it[J].name="!MiniFAT"),it[K[0]].name="!FAT",it.fat_addrs=K,it.ssz=D;var st={},Lt=[],Xn=[],Yn=[];w(G,it,Pe,Lt,F,st,Xn,J),y(Xn,Yn,Lt),Lt.shift();var Ii={FileIndex:Xn,FullPaths:Yn};return O&&O.raw&&(Ii.raw={header:le,sectors:Pe}),Ii}function h(I){if(I[I.l]==80&&I[I.l+1]==75)return[0,0];I.chk(Re,"Header Signature: "),I.l+=16;var O=I.read_shift(2,"u");return[I.read_shift(2,"u"),O]}function d(I,O){var k=9;switch(I.l+=2,k=I.read_shift(2)){case 9:if(O!=3)throw new Error("Sector Shift: Expected 9 saw "+k);break;case 12:if(O!=4)throw new Error("Sector Shift: Expected 12 saw "+k);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+k)}I.chk("0600","Mini Sector Shift: "),I.chk("000000000000","Reserved: ")}function m(I,O){for(var k=Math.ceil(I.length/O)-1,D=[],F=1;F<k;++F)D[F-1]=I.slice(F*O,(F+1)*O);return D[k-1]=I.slice(k*O),D}function y(I,O,k){for(var D=0,F=0,M=0,G=0,J=0,H=k.length,K=[],q=[];D<H;++D)K[D]=q[D]=D,O[D]=k[D];for(;J<q.length;++J)D=q[J],F=I[D].L,M=I[D].R,G=I[D].C,K[D]===D&&(F!==-1&&K[F]!==F&&(K[D]=K[F]),M!==-1&&K[M]!==M&&(K[D]=K[M])),G!==-1&&(K[G]=D),F!==-1&&D!=K[D]&&(K[F]=K[D],q.lastIndexOf(F)<J&&q.push(F)),M!==-1&&D!=K[D]&&(K[M]=K[D],q.lastIndexOf(M)<J&&q.push(M));for(D=1;D<H;++D)K[D]===D&&(M!==-1&&K[M]!==M?K[D]=K[M]:F!==-1&&K[F]!==F&&(K[D]=K[F]));for(D=1;D<H;++D)if(I[D].type!==0){if(J=D,J!=K[J])do J=K[J],O[D]=O[J]+"/"+O[D];while(J!==0&&K[J]!==-1&&J!=K[J]);K[D]=-1}for(O[0]+="/",D=1;D<H;++D)I[D].type!==2&&(O[D]+="/")}function g(I,O,k){for(var D=I.start,F=I.size,M=[],G=D;k&&F>0&&G>=0;)M.push(O.slice(G*L,G*L+L)),F-=L,G=bs(k,G*4);return M.length===0?Q(0):tr(M).slice(0,I.size)}function S(I,O,k,D,F){var M=N;if(I===N){if(O!==0)throw new Error("DIFAT chain shorter than expected")}else if(I!==-1){var G=k[I],J=(D>>>2)-1;if(!G)return;for(var H=0;H<J&&(M=bs(G,H*4))!==N;++H)F.push(M);S(bs(G,D-4),O-1,k,D,F)}}function A(I,O,k,D,F){var M=[],G=[];F||(F=[]);var J=D-1,H=0,K=0;for(H=O;H>=0;){F[H]=!0,M[M.length]=H,G.push(I[H]);var q=k[Math.floor(H*4/D)];if(K=H*4&J,D<4+K)throw new Error("FAT boundary crossed: "+H+" 4 "+D);if(!I[q])break;H=bs(I[q],K)}return{nodes:M,data:vy([G])}}function E(I,O,k,D){var F=I.length,M=[],G=[],J=[],H=[],K=D-1,q=0,ne=0,le=0,pe=0;for(q=0;q<F;++q)if(J=[],le=q+O,le>=F&&(le-=F),!G[le]){H=[];var ie=[];for(ne=le;ne>=0;){ie[ne]=!0,G[ne]=!0,J[J.length]=ne,H.push(I[ne]);var he=k[Math.floor(ne*4/D)];if(pe=ne*4&K,D<4+pe)throw new Error("FAT boundary crossed: "+ne+" 4 "+D);if(!I[he]||(ne=bs(I[he],pe),ie[ne]))break}M[le]={nodes:J,data:vy([H])}}return M}function w(I,O,k,D,F,M,G,J){for(var H=0,K=D.length?2:0,q=O[I].data,ne=0,le=0,pe;ne<q.length;ne+=128){var ie=q.slice(ne,ne+128);Ur(ie,64),le=ie.read_shift(2),pe=Ig(ie,0,le-K),D.push(pe);var he={name:pe,type:ie.read_shift(1),color:ie.read_shift(1),L:ie.read_shift(4,"i"),R:ie.read_shift(4,"i"),C:ie.read_shift(4,"i"),clsid:ie.read_shift(16),state:ie.read_shift(4,"i"),start:0,size:0},Pe=ie.read_shift(2)+ie.read_shift(2)+ie.read_shift(2)+ie.read_shift(2);Pe!==0&&(he.ct=V(ie,ie.l-8));var it=ie.read_shift(2)+ie.read_shift(2)+ie.read_shift(2)+ie.read_shift(2);it!==0&&(he.mt=V(ie,ie.l-8)),he.start=ie.read_shift(4,"i"),he.size=ie.read_shift(4,"i"),he.size<0&&he.start<0&&(he.size=he.type=0,he.start=N,he.name=""),he.type===5?(H=he.start,F>0&&H!==N&&(O[H].name="!StreamData")):he.size>=4096?(he.storage="fat",O[he.start]===void 0&&(O[he.start]=A(k,he.start,O.fat_addrs,O.ssz)),O[he.start].name=he.name,he.content=O[he.start].data.slice(0,he.size)):(he.storage="minifat",he.size<0?he.size=0:H!==N&&he.start!==N&&O[H]&&(he.content=g(he,O[H].data,(O[J]||{}).data))),he.content&&Ur(he.content,0),M[pe]=he,G.push(he)}}function V(I,O){return new Date((jr(I,O+4)/1e7*Math.pow(2,32)+jr(I,O)/1e7-11644473600)*1e3)}function j(I,O){return c(),f(l.readFileSync(I),O)}function W(I,O){var k=O&&O.type;switch(k||He&&Buffer.isBuffer(I)&&(k="buffer"),k||"base64"){case"file":return j(I,O);case"base64":return f(vn(gi(I)),O);case"binary":return f(vn(I),O)}return f(I,O)}function x(I,O){var k=O||{},D=k.root||"Root Entry";if(I.FullPaths||(I.FullPaths=[]),I.FileIndex||(I.FileIndex=[]),I.FullPaths.length!==I.FileIndex.length)throw new Error("inconsistent CFB structure");I.FullPaths.length===0&&(I.FullPaths[0]=D+"/",I.FileIndex[0]={name:D,type:5}),k.CLSID&&(I.FileIndex[0].clsid=k.CLSID),v(I)}function v(I){var O="Sh33tJ5";if(!Je.find(I,"/"+O)){var k=Q(4);k[0]=55,k[1]=k[3]=50,k[2]=54,I.FileIndex.push({name:O,type:2,content:k,size:4,L:69,R:69,C:69}),I.FullPaths.push(I.FullPaths[0]+O),T(I)}}function T(I,O){x(I);for(var k=!1,D=!1,F=I.FullPaths.length-1;F>=0;--F){var M=I.FileIndex[F];switch(M.type){case 0:D?k=!0:(I.FileIndex.pop(),I.FullPaths.pop());break;case 1:case 2:case 5:D=!0,isNaN(M.R*M.L*M.C)&&(k=!0),M.R>-1&&M.L>-1&&M.R==M.L&&(k=!0);break;default:k=!0;break}}if(!(!k&&!O)){var G=new Date(1987,1,19),J=0,H=Object.create?Object.create(null):{},K=[];for(F=0;F<I.FullPaths.length;++F)H[I.FullPaths[F]]=!0,I.FileIndex[F].type!==0&&K.push([I.FullPaths[F],I.FileIndex[F]]);for(F=0;F<K.length;++F){var q=n(K[F][0]);D=H[q],D||(K.push([q,{name:i(q).replace("/",""),type:1,clsid:pt,ct:G,mt:G,content:null}]),H[q]=!0)}for(K.sort(function(pe,ie){return r(pe[0],ie[0])}),I.FullPaths=[],I.FileIndex=[],F=0;F<K.length;++F)I.FullPaths[F]=K[F][0],I.FileIndex[F]=K[F][1];for(F=0;F<K.length;++F){var ne=I.FileIndex[F],le=I.FullPaths[F];if(ne.name=i(le).replace("/",""),ne.L=ne.R=ne.C=-(ne.color=1),ne.size=ne.content?ne.content.length:0,ne.start=0,ne.clsid=ne.clsid||pt,F===0)ne.C=K.length>1?1:-1,ne.size=0,ne.type=5;else if(le.slice(-1)=="/"){for(J=F+1;J<K.length&&n(I.FullPaths[J])!=le;++J);for(ne.C=J>=K.length?-1:J,J=F+1;J<K.length&&n(I.FullPaths[J])!=n(le);++J);ne.R=J>=K.length?-1:J,ne.type=1}else n(I.FullPaths[F+1]||"")==n(le)&&(ne.R=F+1),ne.type=2}}}function C(I,O){var k=O||{};if(k.fileType=="mad")return l0(I,k);switch(T(I),k.fileType){case"zip":return Xt(I,k)}var D=function(pe){for(var ie=0,he=0,Pe=0;Pe<pe.FileIndex.length;++Pe){var it=pe.FileIndex[Pe];if(it.content){var st=it.content.length;st>0&&(st<4096?ie+=st+63>>6:he+=st+511>>9)}}for(var Lt=pe.FullPaths.length+3>>2,Xn=ie+7>>3,Yn=ie+127>>7,Ii=Xn+he+Lt+Yn,Pn=Ii+127>>7,Aa=Pn<=109?0:Math.ceil((Pn-109)/127);Ii+Pn+Aa+127>>7>Pn;)Aa=++Pn<=109?0:Math.ceil((Pn-109)/127);var fn=[1,Aa,Pn,Yn,Lt,he,ie,0];return pe.FileIndex[0].size=ie<<6,fn[7]=(pe.FileIndex[0].start=fn[0]+fn[1]+fn[2]+fn[3]+fn[4]+fn[5])+(fn[6]+7>>3),fn}(I),F=Q(D[7]<<9),M=0,G=0;{for(M=0;M<8;++M)F.write_shift(1,Ae[M]);for(M=0;M<8;++M)F.write_shift(2,0);for(F.write_shift(2,62),F.write_shift(2,3),F.write_shift(2,65534),F.write_shift(2,9),F.write_shift(2,6),M=0;M<3;++M)F.write_shift(2,0);for(F.write_shift(4,0),F.write_shift(4,D[2]),F.write_shift(4,D[0]+D[1]+D[2]+D[3]-1),F.write_shift(4,0),F.write_shift(4,4096),F.write_shift(4,D[3]?D[0]+D[1]+D[2]-1:N),F.write_shift(4,D[3]),F.write_shift(-4,D[1]?D[0]-1:N),F.write_shift(4,D[1]),M=0;M<109;++M)F.write_shift(-4,M<D[2]?D[1]+M:-1)}if(D[1])for(G=0;G<D[1];++G){for(;M<236+G*127;++M)F.write_shift(-4,M<D[2]?D[1]+M:-1);F.write_shift(-4,G===D[1]-1?N:G+1)}var J=function(pe){for(G+=pe;M<G-1;++M)F.write_shift(-4,M+1);pe&&(++M,F.write_shift(-4,N))};for(G=M=0,G+=D[1];M<G;++M)F.write_shift(-4,et.DIFSECT);for(G+=D[2];M<G;++M)F.write_shift(-4,et.FATSECT);J(D[3]),J(D[4]);for(var H=0,K=0,q=I.FileIndex[0];H<I.FileIndex.length;++H)q=I.FileIndex[H],q.content&&(K=q.content.length,!(K<4096)&&(q.start=G,J(K+511>>9)));for(J(D[6]+7>>3);F.l&511;)F.write_shift(-4,et.ENDOFCHAIN);for(G=M=0,H=0;H<I.FileIndex.length;++H)q=I.FileIndex[H],q.content&&(K=q.content.length,!(!K||K>=4096)&&(q.start=G,J(K+63>>6)));for(;F.l&511;)F.write_shift(-4,et.ENDOFCHAIN);for(M=0;M<D[4]<<2;++M){var ne=I.FullPaths[M];if(!ne||ne.length===0){for(H=0;H<17;++H)F.write_shift(4,0);for(H=0;H<3;++H)F.write_shift(4,-1);for(H=0;H<12;++H)F.write_shift(4,0);continue}q=I.FileIndex[M],M===0&&(q.start=q.size?q.start-1:N);var le=M===0&&k.root||q.name;if(K=2*(le.length+1),F.write_shift(64,le,"utf16le"),F.write_shift(2,K),F.write_shift(1,q.type),F.write_shift(1,q.color),F.write_shift(-4,q.L),F.write_shift(-4,q.R),F.write_shift(-4,q.C),q.clsid)F.write_shift(16,q.clsid,"hex");else for(H=0;H<4;++H)F.write_shift(4,0);F.write_shift(4,q.state||0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,q.start),F.write_shift(4,q.size),F.write_shift(4,0)}for(M=1;M<I.FileIndex.length;++M)if(q=I.FileIndex[M],q.size>=4096)if(F.l=q.start+1<<9,He&&Buffer.isBuffer(q.content))q.content.copy(F,F.l,0,q.size),F.l+=q.size+511&-512;else{for(H=0;H<q.size;++H)F.write_shift(1,q.content[H]);for(;H&511;++H)F.write_shift(1,0)}for(M=1;M<I.FileIndex.length;++M)if(q=I.FileIndex[M],q.size>0&&q.size<4096)if(He&&Buffer.isBuffer(q.content))q.content.copy(F,F.l,0,q.size),F.l+=q.size+63&-64;else{for(H=0;H<q.size;++H)F.write_shift(1,q.content[H]);for(;H&63;++H)F.write_shift(1,0)}if(He)F.l=F.length;else for(;F.l<F.length;)F.write_shift(1,0);return F}function P(I,O){var k=I.FullPaths.map(function(H){return H.toUpperCase()}),D=k.map(function(H){var K=H.split("/");return K[K.length-(H.slice(-1)=="/"?2:1)]}),F=!1;O.charCodeAt(0)===47?(F=!0,O=k[0].slice(0,-1)+O):F=O.indexOf("/")!==-1;var M=O.toUpperCase(),G=F===!0?k.indexOf(M):D.indexOf(M);if(G!==-1)return I.FileIndex[G];var J=!M.match(Nc);for(M=M.replace(Ul,""),J&&(M=M.replace(Nc,"!")),G=0;G<k.length;++G)if((J?k[G].replace(Nc,"!"):k[G]).replace(Ul,"")==M||(J?D[G].replace(Nc,"!"):D[G]).replace(Ul,"")==M)return I.FileIndex[G];return null}var L=64,N=-2,Re="d0cf11e0a1b11ae1",Ae=[208,207,17,224,161,177,26,225],pt="00000000000000000000000000000000",et={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:Re,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:pt,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ue(I,O,k){c();var D=C(I,k);l.writeFileSync(O,D)}function xe(I){for(var O=new Array(I.length),k=0;k<I.length;++k)O[k]=String.fromCharCode(I[k]);return O.join("")}function Se(I,O){var k=C(I,O);switch(O&&O.type||"buffer"){case"file":return c(),l.writeFileSync(O.filename,k),k;case"binary":return typeof k=="string"?k:xe(k);case"base64":return yu(typeof k=="string"?k:xe(k));case"buffer":if(He)return Buffer.isBuffer(k)?k:Ti(k);case"array":return typeof k=="string"?vn(k):k}return k}var Fe;function b(I){try{var O=I.InflateRaw,k=new O;if(k._processChunk(new Uint8Array([3,0]),k._finishFlushFlag),k.bytesRead)Fe=I;else throw new Error("zlib does not expose bytesRead")}catch(D){console.error("cannot use native zlib: "+(D.message||D))}}function X(I,O){if(!Fe)return Is(I,O);var k=Fe.InflateRaw,D=new k,F=D._processChunk(I.slice(I.l),D._finishFlushFlag);return I.l+=D.bytesRead,F}function B(I){return Fe?Fe.deflateRawSync(I):Xu(I)}var U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Te(I){var O=(I<<1|I<<11)&139536|(I<<5|I<<15)&558144;return(O>>16|O>>8|O)&255}for(var Ee=typeof Uint8Array<"u",fe=Ee?new Uint8Array(256):[],Ge=0;Ge<256;++Ge)fe[Ge]=Te(Ge);function Me(I,O){var k=fe[I&255];return O<=8?k>>>8-O:(k=k<<8|fe[I>>8&255],O<=16?k>>>16-O:(k=k<<8|fe[I>>16&255],k>>>24-O))}function Ft(I,O){var k=O&7,D=O>>>3;return(I[D]|(k<=6?0:I[D+1]<<8))>>>k&3}function je(I,O){var k=O&7,D=O>>>3;return(I[D]|(k<=5?0:I[D+1]<<8))>>>k&7}function ln(I,O){var k=O&7,D=O>>>3;return(I[D]|(k<=4?0:I[D+1]<<8))>>>k&15}function rt(I,O){var k=O&7,D=O>>>3;return(I[D]|(k<=3?0:I[D+1]<<8))>>>k&31}function ve(I,O){var k=O&7,D=O>>>3;return(I[D]|(k<=1?0:I[D+1]<<8))>>>k&127}function vr(I,O,k){var D=O&7,F=O>>>3,M=(1<<k)-1,G=I[F]>>>D;return k<8-D||(G|=I[F+1]<<8-D,k<16-D)||(G|=I[F+2]<<16-D,k<24-D)||(G|=I[F+3]<<24-D),G&M}function nt(I,O,k){var D=O&7,F=O>>>3;return D<=5?I[F]|=(k&7)<<D:(I[F]|=k<<D&255,I[F+1]=(k&7)>>8-D),O+3}function mt(I,O,k){var D=O&7,F=O>>>3;return k=(k&1)<<D,I[F]|=k,O+1}function un(I,O,k){var D=O&7,F=O>>>3;return k<<=D,I[F]|=k&255,k>>>=8,I[F+1]=k,O+8}function qu(I,O,k){var D=O&7,F=O>>>3;return k<<=D,I[F]|=k&255,k>>>=8,I[F+1]=k&255,I[F+2]=k>>>8,O+16}function va(I,O){var k=I.length,D=2*k>O?2*k:O+5,F=0;if(k>=O)return I;if(He){var M=ny(D);if(I.copy)I.copy(M);else for(;F<I.length;++F)M[F]=I[F];return M}else if(Ee){var G=new Uint8Array(D);if(G.set)G.set(I);else for(;F<k;++F)G[F]=I[F];return G}return I.length=D,I}function Xr(I){for(var O=new Array(I),k=0;k<I;++k)O[k]=0;return O}function Rn(I,O,k){var D=1,F=0,M=0,G=0,J=0,H=I.length,K=Ee?new Uint16Array(32):Xr(32);for(M=0;M<32;++M)K[M]=0;for(M=H;M<k;++M)I[M]=0;H=I.length;var q=Ee?new Uint16Array(H):Xr(H);for(M=0;M<H;++M)K[F=I[M]]++,D<F&&(D=F),q[M]=0;for(K[0]=0,M=1;M<=D;++M)K[M+16]=J=J+K[M-1]<<1;for(M=0;M<H;++M)J=I[M],J!=0&&(q[M]=K[J+16]++);var ne=0;for(M=0;M<H;++M)if(ne=I[M],ne!=0)for(J=Me(q[M],D)>>D-ne,G=(1<<D+4-ne)-1;G>=0;--G)O[J|G<<ne]=ne&15|M<<4;return D}var ya=Ee?new Uint16Array(512):Xr(512),xa=Ee?new Uint16Array(32):Xr(32);if(!Ee){for(var cn=0;cn<512;++cn)ya[cn]=0;for(cn=0;cn<32;++cn)xa[cn]=0}(function(){for(var I=[],O=0;O<32;O++)I.push(5);Rn(I,xa,32);var k=[];for(O=0;O<=143;O++)k.push(8);for(;O<=255;O++)k.push(9);for(;O<=279;O++)k.push(7);for(;O<=287;O++)k.push(8);Rn(k,ya,288)})();var i0=function(){for(var O=Ee?new Uint8Array(32768):[],k=0,D=0;k<ge.length-1;++k)for(;D<ge[k+1];++D)O[D]=k;for(;D<32768;++D)O[D]=29;var F=Ee?new Uint8Array(259):[];for(k=0,D=0;k<Z.length-1;++k)for(;D<Z[k+1];++D)F[D]=k;function M(J,H){for(var K=0;K<J.length;){var q=Math.min(65535,J.length-K),ne=K+q==J.length;for(H.write_shift(1,+ne),H.write_shift(2,q),H.write_shift(2,~q&65535);q-- >0;)H[H.l++]=J[K++]}return H.l}function G(J,H){for(var K=0,q=0,ne=Ee?new Uint16Array(32768):[];q<J.length;){var le=Math.min(65535,J.length-q);if(le<10){for(K=nt(H,K,+(q+le==J.length)),K&7&&(K+=8-(K&7)),H.l=K/8|0,H.write_shift(2,le),H.write_shift(2,~le&65535);le-- >0;)H[H.l++]=J[q++];K=H.l*8;continue}K=nt(H,K,+(q+le==J.length)+2);for(var pe=0;le-- >0;){var ie=J[q];pe=(pe<<5^ie)&32767;var he=-1,Pe=0;if((he=ne[pe])&&(he|=q&-32768,he>q&&(he-=32768),he<q))for(;J[he+Pe]==J[q+Pe]&&Pe<250;)++Pe;if(Pe>2){ie=F[Pe],ie<=22?K=un(H,K,fe[ie+1]>>1)-1:(un(H,K,3),K+=5,un(H,K,fe[ie-23]>>5),K+=3);var it=ie<8?0:ie-4>>2;it>0&&(qu(H,K,Pe-Z[ie]),K+=it),ie=O[q-he],K=un(H,K,fe[ie]>>3),K-=3;var st=ie<4?0:ie-2>>1;st>0&&(qu(H,K,q-he-ge[ie]),K+=st);for(var Lt=0;Lt<Pe;++Lt)ne[pe]=q&32767,pe=(pe<<5^J[q])&32767,++q;le-=Pe-1}else ie<=143?ie=ie+48:K=mt(H,K,1),K=un(H,K,fe[ie]),ne[pe]=q&32767,++q}K=un(H,K,0)-1}return H.l=(K+7)/8|0,H.l}return function(H,K){return H.length<8?M(H,K):G(H,K)}}();function Xu(I){var O=Q(50+Math.floor(I.length*1.1)),k=i0(I,O);return O.slice(0,k)}var $o=Ee?new Uint16Array(32768):Xr(32768),Go=Ee?new Uint16Array(32768):Xr(32768),wi=Ee?new Uint16Array(128):Xr(128),Ea=1,Ta=1;function qn(I,O){var k=rt(I,O)+257;O+=5;var D=rt(I,O)+1;O+=5;var F=ln(I,O)+4;O+=4;for(var M=0,G=Ee?new Uint8Array(19):Xr(19),J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],H=1,K=Ee?new Uint8Array(8):Xr(8),q=Ee?new Uint8Array(8):Xr(8),ne=G.length,le=0;le<F;++le)G[U[le]]=M=je(I,O),H<M&&(H=M),K[M]++,O+=3;var pe=0;for(K[0]=0,le=1;le<=H;++le)q[le]=pe=pe+K[le-1]<<1;for(le=0;le<ne;++le)(pe=G[le])!=0&&(J[le]=q[pe]++);var ie=0;for(le=0;le<ne;++le)if(ie=G[le],ie!=0){pe=fe[J[le]]>>8-ie;for(var he=(1<<7-ie)-1;he>=0;--he)wi[pe|he<<ie]=ie&7|le<<3}var Pe=[];for(H=1;Pe.length<k+D;)switch(pe=wi[ve(I,O)],O+=pe&7,pe>>>=3){case 16:for(M=3+Ft(I,O),O+=2,pe=Pe[Pe.length-1];M-- >0;)Pe.push(pe);break;case 17:for(M=3+je(I,O),O+=3;M-- >0;)Pe.push(0);break;case 18:for(M=11+ve(I,O),O+=7;M-- >0;)Pe.push(0);break;default:Pe.push(pe),H<pe&&(H=pe);break}var it=Pe.slice(0,k),st=Pe.slice(k);for(le=k;le<286;++le)it[le]=0;for(le=D;le<30;++le)st[le]=0;return Ea=Rn(it,$o,286),Ta=Rn(st,Go,30),O}function Yu(I,O){if(I[0]==3&&!(I[1]&3))return[sa(O),2];for(var k=0,D=0,F=ny(O||1<<18),M=0,G=F.length>>>0,J=0,H=0;!(D&1);){if(D=je(I,k),k+=3,D>>>1)D>>1==1?(J=9,H=5):(k=qn(I,k),J=Ea,H=Ta);else{k&7&&(k+=8-(k&7));var K=I[k>>>3]|I[(k>>>3)+1]<<8;if(k+=32,K>0)for(!O&&G<M+K&&(F=va(F,M+K),G=F.length);K-- >0;)F[M++]=I[k>>>3],k+=8;continue}for(;;){!O&&G<M+32767&&(F=va(F,M+32767),G=F.length);var q=vr(I,k,J),ne=D>>>1==1?ya[q]:$o[q];if(k+=ne&15,ne>>>=4,!(ne>>>8&255))F[M++]=ne;else{if(ne==256)break;ne-=257;var le=ne<8?0:ne-4>>2;le>5&&(le=0);var pe=M+Z[ne];le>0&&(pe+=vr(I,k,le),k+=le),q=vr(I,k,H),ne=D>>>1==1?xa[q]:Go[q],k+=ne&15,ne>>>=4;var ie=ne<4?0:ne-2>>1,he=ge[ne];for(ie>0&&(he+=vr(I,k,ie),k+=ie),!O&&G<pe&&(F=va(F,pe+100),G=F.length);M<pe;)F[M]=F[M-he],++M}}}return O?[F,k+7>>>3]:[F.slice(0,M),k+7>>>3]}function Is(I,O){var k=I.slice(I.l||0),D=Yu(k,O);return I.l+=D[1],D[0]}function Ko(I,O){if(I)typeof console<"u"&&console.error(O);else throw new Error(O)}function Si(I,O){var k=I;Ur(k,0);var D=[],F=[],M={FileIndex:D,FullPaths:F};x(M,{root:O.root});for(var G=k.length-4;(k[G]!=80||k[G+1]!=75||k[G+2]!=5||k[G+3]!=6)&&G>=0;)--G;k.l=G+4,k.l+=4;var J=k.read_shift(2);k.l+=6;var H=k.read_shift(4);for(k.l=H,G=0;G<J;++G){k.l+=20;var K=k.read_shift(4),q=k.read_shift(4),ne=k.read_shift(2),le=k.read_shift(2),pe=k.read_shift(2);k.l+=8;var ie=k.read_shift(4),he=o(k.slice(k.l+ne,k.l+ne+le));k.l+=ne+le+pe;var Pe=k.l;k.l=ie+4,Qu(k,K,q,M,he),k.l=Pe}return M}function Qu(I,O,k,D,F){I.l+=2;var M=I.read_shift(2),G=I.read_shift(2),J=a(I);if(M&8257)throw new Error("Unsupported ZIP encryption");for(var H=I.read_shift(4),K=I.read_shift(4),q=I.read_shift(4),ne=I.read_shift(2),le=I.read_shift(2),pe="",ie=0;ie<ne;++ie)pe+=String.fromCharCode(I[I.l++]);if(le){var he=o(I.slice(I.l,I.l+le));(he[21589]||{}).mt&&(J=he[21589].mt),((F||{})[21589]||{}).mt&&(J=F[21589].mt)}I.l+=le;var Pe=I.slice(I.l,I.l+K);switch(G){case 8:Pe=X(I,q);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+G)}var it=!1;M&8&&(H=I.read_shift(4),H==134695760&&(H=I.read_shift(4),it=!0),K=I.read_shift(4),q=I.read_shift(4)),K!=O&&Ko(it,"Bad compressed size: "+O+" != "+K),q!=k&&Ko(it,"Bad uncompressed size: "+k+" != "+q),Sa(D,pe,Pe,{unsafe:!0,mt:J})}function Xt(I,O){var k=O||{},D=[],F=[],M=Q(1),G=k.compression?8:0,J=0,H=0,K=0,q=0,ne=0,le=I.FullPaths[0],pe=le,ie=I.FileIndex[0],he=[],Pe=0;for(H=1;H<I.FullPaths.length;++H)if(pe=I.FullPaths[H].slice(le.length),ie=I.FileIndex[H],!(!ie.size||!ie.content||pe=="Sh33tJ5")){var it=q,st=Q(pe.length);for(K=0;K<pe.length;++K)st.write_shift(1,pe.charCodeAt(K)&127);st=st.slice(0,st.l),he[ne]=zO.buf(ie.content,0);var Lt=ie.content;G==8&&(Lt=B(Lt)),M=Q(30),M.write_shift(4,67324752),M.write_shift(2,20),M.write_shift(2,J),M.write_shift(2,G),ie.mt?s(M,ie.mt):M.write_shift(4,0),M.write_shift(-4,he[ne]),M.write_shift(4,Lt.length),M.write_shift(4,ie.content.length),M.write_shift(2,st.length),M.write_shift(2,0),q+=M.length,D.push(M),q+=st.length,D.push(st),q+=Lt.length,D.push(Lt),M=Q(46),M.write_shift(4,33639248),M.write_shift(2,0),M.write_shift(2,20),M.write_shift(2,J),M.write_shift(2,G),M.write_shift(4,0),M.write_shift(-4,he[ne]),M.write_shift(4,Lt.length),M.write_shift(4,ie.content.length),M.write_shift(2,st.length),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(4,0),M.write_shift(4,it),Pe+=M.l,F.push(M),Pe+=st.length,F.push(st),++ne}return M=Q(22),M.write_shift(4,101010256),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,ne),M.write_shift(2,ne),M.write_shift(4,Pe),M.write_shift(4,q),M.write_shift(2,0),tr([tr(D),tr(F),M])}var Cs={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Rs(I,O){if(I.ctype)return I.ctype;var k=I.name||"",D=k.match(/\.([^\.]+)$/);return D&&Cs[D[1]]||O&&(D=(k=O).match(/[\.\\]([^\.\\])+$/),D&&Cs[D[1]])?Cs[D[1]]:"application/octet-stream"}function Ps(I){for(var O=yu(I),k=[],D=0;D<O.length;D+=76)k.push(O.slice(D,D+76));return k.join(`\r
`)+`\r
`}function s0(I){var O=I.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(K){var q=K.charCodeAt(0).toString(16).toUpperCase();return"="+(q.length==1?"0"+q:q)});O=O.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),O.charAt(0)==`
`&&(O="=0D"+O.slice(1)),O=O.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var k=[],D=O.split(`\r
`),F=0;F<D.length;++F){var M=D[F];if(M.length==0){k.push("");continue}for(var G=0;G<M.length;){var J=76,H=M.slice(G,G+J);H.charAt(J-1)=="="?J--:H.charAt(J-2)=="="?J-=2:H.charAt(J-3)=="="&&(J-=3),H=M.slice(G,G+J),G+=J,G<M.length&&(H+="="),k.push(H)}}return k.join(`\r
`)}function a0(I){for(var O=[],k=0;k<I.length;++k){for(var D=I[k];k<=I.length&&D.charAt(D.length-1)=="=";)D=D.slice(0,D.length-1)+I[++k];O.push(D)}for(var F=0;F<O.length;++F)O[F]=O[F].replace(/[=][0-9A-Fa-f]{2}/g,function(M){return String.fromCharCode(parseInt(M.slice(1),16))});return vn(O.join(`\r
`))}function Ai(I,O,k){for(var D="",F="",M="",G,J=0;J<10;++J){var H=O[J];if(!H||H.match(/^\s*$/))break;var K=H.match(/^(.*?):\s*([^\s].*)$/);if(K)switch(K[1].toLowerCase()){case"content-location":D=K[2].trim();break;case"content-type":M=K[2].trim();break;case"content-transfer-encoding":F=K[2].trim();break}}switch(++J,F.toLowerCase()){case"base64":G=vn(gi(O.slice(J).join("")));break;case"quoted-printable":G=a0(O.slice(J));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+F)}var q=Sa(I,D.slice(k.length),G,{unsafe:!0});M&&(q.ctype=M)}function o0(I,O){if(xe(I.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var k=O&&O.root||"",D=(He&&Buffer.isBuffer(I)?I.toString("binary"):xe(I)).split(`\r
`),F=0,M="";for(F=0;F<D.length;++F)if(M=D[F],!!/^Content-Location:/i.test(M)&&(M=M.slice(M.indexOf("file")),k||(k=M.slice(0,M.lastIndexOf("/")+1)),M.slice(0,k.length)!=k))for(;k.length>0&&(k=k.slice(0,k.length-1),k=k.slice(0,k.lastIndexOf("/")+1),M.slice(0,k.length)!=k););var G=(D[1]||"").match(/boundary="(.*?)"/);if(!G)throw new Error("MAD cannot find boundary");var J="--"+(G[1]||""),H=[],K=[],q={FileIndex:H,FullPaths:K};x(q);var ne,le=0;for(F=0;F<D.length;++F){var pe=D[F];pe!==J&&pe!==J+"--"||(le++&&Ai(q,D.slice(ne,F),k),ne=F)}return q}function l0(I,O){var k=O||{},D=k.boundary||"SheetJS";D="------="+D;for(var F=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+D.slice(2)+'"',"","",""],M=I.FullPaths[0],G=M,J=I.FileIndex[0],H=1;H<I.FullPaths.length;++H)if(G=I.FullPaths[H].slice(M.length),J=I.FileIndex[H],!(!J.size||!J.content||G=="Sh33tJ5")){G=G.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Pe){return"_x"+Pe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Pe){return"_u"+Pe.charCodeAt(0).toString(16)+"_"});for(var K=J.content,q=He&&Buffer.isBuffer(K)?K.toString("binary"):xe(K),ne=0,le=Math.min(1024,q.length),pe=0,ie=0;ie<=le;++ie)(pe=q.charCodeAt(ie))>=32&&pe<128&&++ne;var he=ne>=le*4/5;F.push(D),F.push("Content-Location: "+(k.root||"file:///C:/SheetJS/")+G),F.push("Content-Transfer-Encoding: "+(he?"quoted-printable":"base64")),F.push("Content-Type: "+Rs(J,G)),F.push(""),F.push(he?s0(q):Ps(q))}return F.push(D+`--\r
`),F.join(`\r
`)}function wa(I){var O={};return x(O,I),O}function Sa(I,O,k,D){var F=D&&D.unsafe;F||x(I);var M=!F&&Je.find(I,O);if(!M){var G=I.FullPaths[0];O.slice(0,G.length)==G?G=O:(G.slice(-1)!="/"&&(G+="/"),G=(G+O).replace("//","/")),M={name:i(O),type:2},I.FileIndex.push(M),I.FullPaths.push(G),F||Je.utils.cfb_gc(I)}return M.content=k,M.size=k?k.length:0,D&&(D.CLSID&&(M.clsid=D.CLSID),D.mt&&(M.mt=D.mt),D.ct&&(M.ct=D.ct)),M}function Ju(I,O){x(I);var k=Je.find(I,O);if(k){for(var D=0;D<I.FileIndex.length;++D)if(I.FileIndex[D]==k)return I.FileIndex.splice(D,1),I.FullPaths.splice(D,1),!0}return!1}function qo(I,O,k){x(I);var D=Je.find(I,O);if(D){for(var F=0;F<I.FileIndex.length;++F)if(I.FileIndex[F]==D)return I.FileIndex[F].name=i(k),I.FullPaths[F]=k,!0}return!1}function ks(I){T(I,!0)}return e.find=P,e.read=W,e.parse=f,e.write=Se,e.writeFile=ue,e.utils={cfb_new:wa,cfb_add:Sa,cfb_del:Ju,cfb_mov:qo,cfb_gc:ks,ReadShift:jl,CheckField:nS,prep_blob:Ur,bconcat:tr,use_zlib:b,_deflateRaw:Xu,_inflateRaw:Is,consts:et},e}();function WO(t){return typeof t=="string"?Yh(t):Array.isArray(t)?mO(t):t}function Wu(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Yh(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Eu(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([WO(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=zu(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function or(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function fy(t,e){for(var r=[],n=or(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function Tg(t){for(var e=[],r=or(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Zh(t){for(var e=[],r=or(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function HO(t){for(var e=[],r=or(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var sh=new Date(1899,11,30,0,0,0);function Fr(t,e){var r=t.getTime(),n=sh.getTime()+(t.getTimezoneOffset()-sh.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var B2=new Date,$O=sh.getTime()+(B2.getTimezoneOffset()-sh.getTimezoneOffset())*6e4,hy=B2.getTimezoneOffset();function j2(t){var e=new Date;return e.setTime(t*24*60*60*1e3+$O),e.getTimezoneOffset()!==hy&&e.setTime(e.getTime()+(e.getTimezoneOffset()-hy)*6e4),e}var dy=new Date("2017-02-19T19:06:09.000Z"),z2=isNaN(dy.getFullYear())?new Date("2/19/17"):dy,GO=z2.getFullYear()==2017;function wr(t,e){var r=new Date(t);if(GO)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(z2.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function e0(t,e){if(He&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Lr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Lr(t[r]));return e}function Tt(t,e){for(var r="";r.length<e;)r+=t;return r}function ai(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var KO=["january","february","march","april","may","june","july","august","september","october","november","december"];function xu(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&KO.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Oe(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return He?n=Ti(r):n=gO(r),Je.utils.cfb_add(t,e,n)}Je.utils.cfb_add(t,e,r)}else t.file(e,r)}function wg(){return Je.utils.cfb_new()}var Ot=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,qO={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Sg=Tg(qO),Ag=/[&<>'"]/g,XO=/[\u0000-\u0008\u000b-\u001f]/g;function Xe(t){var e=t+"";return e.replace(Ag,function(r){return Sg[r]}).replace(XO,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function py(t){return Xe(t).replace(/ /g,"_x0020_")}var W2=/[\u0000-\u001f]/g;function YO(t){var e=t+"";return e.replace(Ag,function(r){return Sg[r]}).replace(/\n/g,"<br/>").replace(W2,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function QO(t){var e=t+"";return e.replace(Ag,function(r){return Sg[r]}).replace(W2,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function JO(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function ZO(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function td(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function my(t){var e=sa(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function gy(t){return Ti(t,"binary").toString("utf8")}var Oc="foo bar bazâð£",Bl=He&&(gy(Oc)==td(Oc)&&gy||my(Oc)==td(Oc)&&my)||td,Eu=He?function(t){return Ti(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},eF=function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),H2=/(^\s|\s$|\n)/;function rr(t,e){return"<"+t+(e.match(H2)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Tu(t){return or(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function ae(t,e,r){return"<"+t+(r!=null?Tu(r):"")+(e!=null?(e.match(H2)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Pp(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function tF(t,e){switch(typeof t){case"string":var r=ae("vt:lpwstr",Xe(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ae((t|0)==t?"vt:i4":"vt:r8",Xe(String(t)));case"boolean":return ae("vt:bool",t?"true":"false")}if(t instanceof Date)return ae("vt:filetime",Pp(t));throw new Error("Unable to serialize "+t)}var $t={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},jo=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Br={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function rF(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function nF(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var _y=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},vy=He?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ti(e)})):_y(t)}:_y,yy=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(wl(t,i)));return n.join("").replace(Ul,"")},Ig=He?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Ul,""):yy(t,e,r)}:yy,xy=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},$2=He?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):xy(t,e,r)}:xy,Ey=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Ma(t,i)));return n.join("")},Hu=He?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):Ey(e,r,n)}:Ey,G2=function(t,e){var r=jr(t,e);return r>0?Hu(t,e+4,e+4+r-1):""},K2=G2,q2=function(t,e){var r=jr(t,e);return r>0?Hu(t,e+4,e+4+r-1):""},X2=q2,Y2=function(t,e){var r=2*jr(t,e);return r>0?Hu(t,e+4,e+4+r-1):""},Q2=Y2,J2=function(e,r){var n=jr(e,r);return n>0?Ig(e,r+4,r+4+n):""},Z2=J2,eS=function(t,e){var r=jr(t,e);return r>0?Hu(t,e+4,e+4+r):""},tS=eS,rS=function(t,e){return rF(t,e)},ah=rS,Cg=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};He&&(K2=function(e,r){if(!Buffer.isBuffer(e))return G2(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},X2=function(e,r){if(!Buffer.isBuffer(e))return q2(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},Q2=function(e,r){if(!Buffer.isBuffer(e))return Y2(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},Z2=function(e,r){if(!Buffer.isBuffer(e))return J2(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},tS=function(e,r){if(!Buffer.isBuffer(e))return eS(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},ah=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):rS(e,r)},Cg=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Ma=function(t,e){return t[e]},wl=function(t,e){return t[e+1]*256+t[e]},iF=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},jr=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},bs=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},sF=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function jl(t,e){var r="",n,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,He&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(wl(this,c)),c+=2;t*=2;break;case"utf8":r=Hu(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Ig(this,this.l,this.l+t);break;case"wstr":return jl.call(this,t,"dbcs");case"lpstr-ansi":r=K2(this,this.l),t=4+jr(this,this.l);break;case"lpstr-cp":r=X2(this,this.l),t=4+jr(this,this.l);break;case"lpwstr":r=Q2(this,this.l),t=4+2*jr(this,this.l);break;case"lpp4":t=4+jr(this,this.l),r=Z2(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+jr(this,this.l),r=tS(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=Ma(this,this.l+t++))!==0;)s.push(kc(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=wl(this,this.l+t))!==0;)s.push(kc(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Ma(this,c),this.l=c+1,o=jl.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(kc(wl(this,c))),c+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Ma(this,c),this.l=c+1,o=jl.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(kc(Ma(this,c))),c+=1}r=s.join("");break;default:switch(t){case 1:return n=Ma(this,this.l),this.l++,n;case 2:return n=(e==="i"?iF:wl)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?bs:sF)(this,this.l),this.l+=4,n):(i=jr(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=ah(this,this.l):i=ah([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=$2(this,this.l,t);break}}return this.l+=t,r}var aF=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},oF=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},lF=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function uF(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)lF(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,aF(this,e,this.l);break;case 8:if(n=8,r==="f"){nF(this,e,this.l);break}case 16:break;case-4:n=4,oF(this,e,this.l);break}return this.l+=n,this}function nS(t,e){var r=$2(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ur(t,e){t.l=e,t.read_shift=jl,t.chk=nS,t.write_shift=uF}function Kn(t,e){t.l+=e}function Q(t){var e=sa(t);return Ur(e,0),e}function Or(){var t=[],e=He?256:2048,r=function(c){var f=Q(c);return Ur(f,0),f},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,e)))},a=function(){return i(),tr(t)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function re(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=r9[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&Cg(r)&&t.push(r)}}function zl(t,e,r){var n=Lr(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Ty(t,e,r){var n=Lr(t);return n.s=zl(n.s,e.s,r),n.e=zl(n.e,e.s,r),n}function Wl(t,e){if(t.cRel&&t.c<0)for(t=Lr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Lr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Qe(t);return!t.cRel&&t.cRel!=null&&(r=hF(r)),!t.rRel&&t.rRel!=null&&(r=cF(r)),r}function rd(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+pr(t.s.c)+":"+(t.e.cRel?"":"$")+pr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ir(t.s.r)+":"+(t.e.rRel?"":"$")+ir(t.e.r):Wl(t.s,e.biff)+":"+Wl(t.e,e.biff)}function Rg(t){return parseInt(fF(t),10)-1}function ir(t){return""+(t+1)}function cF(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function fF(t){return t.replace(/\$(\d+)$/,"$1")}function Pg(t){for(var e=dF(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function pr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function hF(t){return t.replace(/^([A-Z])/,"$$$1")}function dF(t){return t.replace(/^\$([A-Z])/,"$1")}function pF(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Gt(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Qe(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Gr(t){var e=t.indexOf(":");return e==-1?{s:Gt(t),e:Gt(t)}:{s:Gt(t.slice(0,e)),e:Gt(t.slice(e+1))}}function Dt(t,e){return typeof e>"u"||typeof e=="number"?Dt(t.s,t.e):(typeof t!="string"&&(t=Qe(t)),typeof e!="string"&&(e=Qe(e)),t==e?t:t+":"+e)}function ht(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function wy(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=gs(t.z,r?Fr(e):e)}catch{}try{return t.w=gs((t.XF||{}).numFmtId||(r?14:0),r?Fr(e):e)}catch{return""+e}}function _i(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?$u[t.v]||t.v:e==null?wy(t,t.v):wy(t,e))}function da(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function iS(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Gt(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var f=ht(s["!ref"]);c.s.c=f.s.c,c.s.r=f.s.r,c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),a==-1&&(c.e.r=a=f.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[h].length;++d)if(!(typeof e[h][d]>"u")){var m={v:e[h][d]},y=a+h,g=o+d;if(c.s.r>y&&(c.s.r=y),c.s.c>g&&(c.s.c=g),c.e.r<y&&(c.e.r=y),c.e.c<g&&(c.e.c=g),e[h][d]&&typeof e[h][d]=="object"&&!Array.isArray(e[h][d])&&!(e[h][d]instanceof Date))m=e[h][d];else if(Array.isArray(m.v)&&(m.f=e[h][d][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||wt[14],n.cellDates?(m.t="d",m.w=gs(m.z,Fr(m.v))):(m.t="n",m.v=Fr(m.v),m.w=gs(m.z,m.v))):m.t="s";if(i)s[y]||(s[y]=[]),s[y][g]&&s[y][g].z&&(m.z=s[y][g].z),s[y][g]=m;else{var S=Qe({c:g,r:y});s[S]&&s[S].z&&(m.z=s[S].z),s[S]=m}}}return c.s.c<1e7&&(s["!ref"]=Dt(c)),s}function zo(t,e){return iS(null,t,e)}function mF(t){return t.read_shift(4,"i")}function Sn(t,e){return e||(e=Q(4)),e.write_shift(4,t),e}function mr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Kt(t,e){var r=!1;return e==null&&(r=!0,e=Q(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function gF(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function _F(t,e){return e||(e=Q(4)),e.write_shift(2,0),e.write_shift(2,0),e}function kg(t,e){var r=t.l,n=t.read_shift(1),i=mr(t),s=[],a={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(gF(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function vF(t,e){var r=!1;return e==null&&(r=!0,e=Q(15+4*t.t.length)),e.write_shift(1,0),Kt(t.t,e),r?e.slice(0,e.l):e}var yF=kg;function xF(t,e){var r=!1;return e==null&&(r=!0,e=Q(23+4*t.t.length)),e.write_shift(1,1),Kt(t.t,e),e.write_shift(4,1),_F({},e),r?e.slice(0,e.l):e}function on(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function pa(t,e){return e==null&&(e=Q(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function ma(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function ga(t,e){return e==null&&(e=Q(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var EF=mr,sS=Kt;function Ng(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function oh(t,e){var r=!1;return e==null&&(r=!0,e=Q(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var TF=mr,kp=Ng,Dg=oh;function aS(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?ah([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):bs(e,0)>>2;return r?i/100:i}function oS(t,e){e==null&&(e=Q(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function lS(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function wF(t,e){return e||(e=Q(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var _a=lS,Wo=wF;function Ho(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function aa(t,e){return(e||Q(8)).write_shift(8,t,"f")}function SF(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var c=OF[i];c&&(e.rgb=Fy(c));break;case 2:e.rgb=Fy([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function lh(t,e){if(e||(e=Q(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function AF(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function IF(t,e){e||(e=Q(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var uS=2,Vr=3,Fc=11,uh=19,Lc=64,CF=65,RF=71,PF=4108,kF=4126,Jt=80,Sy={1:{n:"CodePage",t:uS},2:{n:"Category",t:Jt},3:{n:"PresentationFormat",t:Jt},4:{n:"ByteCount",t:Vr},5:{n:"LineCount",t:Vr},6:{n:"ParagraphCount",t:Vr},7:{n:"SlideCount",t:Vr},8:{n:"NoteCount",t:Vr},9:{n:"HiddenCount",t:Vr},10:{n:"MultimediaClipCount",t:Vr},11:{n:"ScaleCrop",t:Fc},12:{n:"HeadingPairs",t:PF},13:{n:"TitlesOfParts",t:kF},14:{n:"Manager",t:Jt},15:{n:"Company",t:Jt},16:{n:"LinksUpToDate",t:Fc},17:{n:"CharacterCount",t:Vr},19:{n:"SharedDoc",t:Fc},22:{n:"HyperlinksChanged",t:Fc},23:{n:"AppVersion",t:Vr,p:"version"},24:{n:"DigSig",t:CF},26:{n:"ContentType",t:Jt},27:{n:"ContentStatus",t:Jt},28:{n:"Language",t:Jt},29:{n:"Version",t:Jt},255:{},2147483648:{n:"Locale",t:uh},2147483651:{n:"Behavior",t:uh},1919054434:{}},Ay={1:{n:"CodePage",t:uS},2:{n:"Title",t:Jt},3:{n:"Subject",t:Jt},4:{n:"Author",t:Jt},5:{n:"Keywords",t:Jt},6:{n:"Comments",t:Jt},7:{n:"Template",t:Jt},8:{n:"LastAuthor",t:Jt},9:{n:"RevNumber",t:Jt},10:{n:"EditTime",t:Lc},11:{n:"LastPrinted",t:Lc},12:{n:"CreatedDate",t:Lc},13:{n:"ModifiedDate",t:Lc},14:{n:"PageCount",t:Vr},15:{n:"WordCount",t:Vr},16:{n:"CharCount",t:Vr},17:{n:"Thumbnail",t:RF},18:{n:"Application",t:Jt},19:{n:"DocSecurity",t:Vr},255:{},2147483648:{n:"Locale",t:uh},2147483651:{n:"Behavior",t:uh},1919054434:{}};function NF(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var DF=NF([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),OF=Lr(DF),$u={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},FF={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Mc={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function cS(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function fS(t,e){var r=HO(FF),n=[],i;n[n.length]=Ot,n[n.length]=ae("Types",null,{xmlns:$t.CT,"xmlns:xsd":$t.xsd,"xmlns:xsi":$t.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ae("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=ae("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Mc[l][e.bookType]||Mc[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){n[n.length]=ae("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Mc[l][e.bookType]||Mc[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=ae("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var We={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function hS(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function co(t){var e=[Ot,ae("Relationships",null,{xmlns:$t.RELS})];return or(t["!id"]).forEach(function(r){e[e.length]=ae("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function qe(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[We.HLINK,We.XPATH,We.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function LF(t){var e=[Ot];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Iy(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function MF(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function VF(t){var e=[Ot];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(Iy(t[r][0],t[r][1])),e.push(MF("",t[r][0]));return e.push(Iy("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function dS(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+eh.version+"</meta:generator></office:meta></office:document-meta>"}var Ks=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function nd(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Xe(e),n[n.length]=r?ae(t,e,r):rr(t,e))}function pS(t,e){var r=e||{},n=[Ot,ae("cp:coreProperties",null,{"xmlns:cp":$t.CORE_PROPS,"xmlns:dc":$t.dc,"xmlns:dcterms":$t.dcterms,"xmlns:dcmitype":$t.dcmitype,"xmlns:xsi":$t.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&nd("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Pp(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&nd("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Pp(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=Ks.length;++s){var a=Ks[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&nd(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var fo=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],mS=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function gS(t){var e=[],r=ae;return t||(t={}),t.Application="SheetJS",e[e.length]=Ot,e[e.length]=ae("Properties",null,{xmlns:$t.EXT_PROPS,"xmlns:vt":$t.vt}),fo.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Xe(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Xe(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function _S(t){var e=[Ot,ae("Properties",null,{xmlns:$t.CUST_PROPS,"xmlns:vt":$t.vt})];if(!t)return e.join("");var r=1;return or(t).forEach(function(i){++r,e[e.length]=ae("property",tF(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Xe(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Cy={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function bF(t,e){var r=[];return or(Cy).map(function(n){for(var i=0;i<Ks.length;++i)if(Ks[i][1]==n)return Ks[i];for(i=0;i<fo.length;++i)if(fo[i][1]==n)return fo[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(rr(Cy[n[1]]||n[1],i))}}),ae("DocumentProperties",r.join(""),{xmlns:Br.o})}function UF(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&or(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<Ks.length;++a)if(s==Ks[a][1])return;for(a=0;a<fo.length;++a)if(s==fo[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(ae(py(s),o,{"dt:dt":l}))}}),e&&or(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(ae(py(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Br.o+'">'+i.join("")+"</"+n+">"}function BF(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=Q(8);return a.write_shift(4,n),a.write_shift(4,i),a}function Ry(t,e){var r=Q(4),n=Q(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Q(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=BF(e);break;case 31:case 80:for(n=Q(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return tr([r,n])}var vS=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function jF(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Py(t,e,r){var n=Q(8),i=[],s=[],a=8,o=0,l=Q(8),c=Q(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=Q(8),c.write_shift(4,0),i.unshift(c);var f=[Q(4)];for(f[0].write_shift(4,t.length),o=0;o<t.length;++o){var h=t[o][0];for(l=Q(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);f.push(l)}l=tr(f),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(vS.indexOf(t[o][0])>-1||mS.indexOf(t[o][0])>-1)&&t[o][1]!=null){var d=t[o][1],m=0;if(e){m=+e[t[o][0]];var y=r[m];if(y.p=="version"&&typeof d=="string"){var g=d.split(".");d=(+g[0]<<16)+(+g[1]||0)}l=Ry(y.t,d)}else{var S=jF(d);S==-1&&(S=31,d=String(d)),l=Ry(S,d)}s.push(l),c=Q(8),c.write_shift(4,e?m:2+o),i.push(c),a+=8+l.length}var A=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,A),A+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),tr([n].concat(i).concat(s))}function ky(t,e,r,n,i,s){var a=Q(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Je.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=Py(t,r,n);if(o.push(l),i){var c=Py(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return tr(o)}function zF(t,e){e||(e=Q(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function WF(t,e){return t.read_shift(e)===1}function Er(t,e){return e||(e=Q(2)),e.write_shift(2,+!!t),e}function yS(t){return t.read_shift(2,"u")}function Qr(t,e){return e||(e=Q(2)),e.write_shift(2,t),e}function xS(t,e,r){return r||(r=Q(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function ES(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function HF(t){var e=t.t||"",r=Q(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Q(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return tr(i)}function $F(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function GF(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):$F(t,n,r)}function KF(t,e,r){if(r.biff>5)return GF(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function TS(t,e,r){return r||(r=Q(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function Ny(t,e){e||(e=Q(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function qF(t){var e=Q(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),Ny(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&Ny(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function oa(t,e,r,n){return n||(n=Q(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function XF(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function YF(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function wS(t,e){return e||(e=Q(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function Og(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Q(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function QF(t,e){var r=!e||e.biff==8,n=Q(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function JF(t,e){var r=!e||e.biff>=8?2:1,n=Q(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function ZF(t,e){var r=Q(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=HF(t[i]);var s=tr([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function e6(){var t=Q(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function t6(t){var e=Q(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function r6(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=Q(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function n6(t,e,r,n){var i=Q(10);return oa(t,e,n,i),i.write_shift(4,r),i}function i6(t,e,r,n,i){var s=!i||i.biff==8,a=Q(8+ +s+(1+s)*r.length);return oa(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function s6(t,e,r,n){var i=r&&r.biff==5;n||(n=Q(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function a6(t,e){var r=e.biff==8||!e.biff?4:2,n=Q(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function Dy(t,e,r,n){var i=r&&r.biff==5;n||(n=Q(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function o6(t){var e=Q(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function l6(t,e,r,n,i,s){var a=Q(8);return oa(t,e,n,a),xS(r,s,a),a}function u6(t,e,r,n){var i=Q(14);return oa(t,e,n,i),aa(r,i),i}function c6(t,e,r){if(r.biff<8)return f6(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(XF(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function f6(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=ES(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function h6(t){var e=Q(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)wS(t[r],e);return e}function d6(t){var e=Q(24),r=Gt(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return tr([e,qF(t[1])])}function p6(t){var e=t[1].Tooltip,r=Q(10+2*(e.length+1));r.write_shift(2,2048);var n=Gt(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function m6(t){return t||(t=Q(4)),t.write_shift(2,1),t.write_shift(2,1),t}function g6(t,e,r){if(!r.cellStyles)return Kn(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function _6(t,e){var r=Q(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function v6(t){for(var e=Q(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function y6(t,e,r){var n=Q(15);return Ku(n,t,e),n.write_shift(8,r,"f"),n}function x6(t,e,r){var n=Q(9);return Ku(n,t,e),n.write_shift(2,r),n}var E6=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Tg({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],f=sa(1);switch(l.type){case"base64":f=vn(gi(o));break;case"binary":f=vn(o);break;case"buffer":case"array":f=o;break}Ur(f,0);var h=f.read_shift(1),d=!!(h&136),m=!1,y=!1;switch(h){case 2:break;case 3:break;case 48:m=!0,d=!0;break;case 49:m=!0,d=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var g=0,S=521;h==2&&(g=f.read_shift(2)),f.l+=3,h!=2&&(g=f.read_shift(4)),g>1048576&&(g=1e6),h!=2&&(S=f.read_shift(2));var A=f.read_shift(2),E=l.codepage||1252;h!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(E=t[f[f.l]]),f.l+=1,f.l+=2),y&&(f.l+=36);for(var w=[],V={},j=Math.min(f.length,h==2?521:S-10-(m?264:0)),W=y?32:11;f.l<j&&f[f.l]!=13;)switch(V={},V.name=th.utils.decode(E,f.slice(f.l,f.l+W)).replace(/[\u0000\r\n].*$/g,""),f.l+=W,V.type=String.fromCharCode(f.read_shift(1)),h!=2&&!y&&(V.offset=f.read_shift(4)),V.len=f.read_shift(1),h==2&&(V.offset=f.read_shift(2)),V.dec=f.read_shift(1),V.name.length&&w.push(V),h!=2&&(f.l+=y?13:14),V.type){case"B":(!m||V.len!=8)&&l.WTF&&console.log("Skipping "+V.name+":"+V.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+V.name+":"+V.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+V.type)}if(f[f.l]!==13&&(f.l=S-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=S;var x=0,v=0;for(c[0]=[],v=0;v!=w.length;++v)c[0][v]=w[v].name;for(;g-- >0;){if(f[f.l]===42){f.l+=A;continue}for(++f.l,c[++x]=[],v=0,v=0;v!=w.length;++v){var T=f.slice(f.l,f.l+w[v].len);f.l+=w[v].len,Ur(T,0);var C=th.utils.decode(E,T);switch(w[v].type){case"C":C.trim().length&&(c[x][v]=C.replace(/\s+$/,""));break;case"D":C.length===8?c[x][v]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):c[x][v]=C;break;case"F":c[x][v]=parseFloat(C.trim());break;case"+":case"I":c[x][v]=y?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":c[x][v]=!0;break;case"N":case"F":c[x][v]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));c[x][v]="##MEMO##"+(y?parseInt(C.trim(),10):T.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(c[x][v]=+C||0);break;case"@":c[x][v]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":c[x][v]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":c[x][v]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[x][v]=-T.read_shift(-8,"f");break;case"B":if(m&&w[v].len==8){c[x][v]=T.read_shift(8,"f");break}case"G":case"P":T.l+=w[v].len;break;case"0":if(w[v].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[v].type)}}}if(h!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var f=zo(r(o,c),c);return f["!cols"]=c.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete c.DBF,f}function i(o,l){try{return da(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&vu(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var f=Or(),h=ph(o,{header:1,raw:!0,cellDates:!0}),d=h[0],m=h.slice(1),y=o["!cols"]||[],g=0,S=0,A=0,E=1;for(g=0;g<d.length;++g){if(((y[g]||{}).DBF||{}).name){d[g]=y[g].DBF.name,++A;continue}if(d[g]!=null){if(++A,typeof d[g]=="number"&&(d[g]=d[g].toString(10)),typeof d[g]!="string")throw new Error("DBF Invalid column name "+d[g]+" |"+typeof d[g]+"|");if(d.indexOf(d[g])!==g){for(S=0;S<1024;++S)if(d.indexOf(d[g]+"_"+S)==-1){d[g]+="_"+S;break}}}}var w=ht(o["!ref"]),V=[],j=[],W=[];for(g=0;g<=w.e.c-w.s.c;++g){var x="",v="",T=0,C=[];for(S=0;S<m.length;++S)m[S][g]!=null&&C.push(m[S][g]);if(C.length==0||d[g]==null){V[g]="?";continue}for(S=0;S<C.length;++S){switch(typeof C[S]){case"number":v="B";break;case"string":v="C";break;case"boolean":v="L";break;case"object":v=C[S]instanceof Date?"D":"C";break;default:v="C"}T=Math.max(T,String(C[S]).length),x=x&&x!=v?"C":v}T>250&&(T=250),v=((y[g]||{}).DBF||{}).type,v=="C"&&y[g].DBF.len>T&&(T=y[g].DBF.len),x=="B"&&v=="N"&&(x="N",W[g]=y[g].DBF.dec,T=y[g].DBF.len),j[g]=x=="C"||v=="N"?T:s[x]||0,E+=j[g],V[g]=x}var P=f.next(32);for(P.write_shift(4,318902576),P.write_shift(4,m.length),P.write_shift(2,296+32*A),P.write_shift(2,E),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+e[A2]||3)<<8),g=0,S=0;g<d.length;++g)if(d[g]!=null){var L=f.next(32),N=(d[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,N,"sbcs"),L.write_shift(1,V[g]=="?"?"C":V[g],"sbcs"),L.write_shift(4,S),L.write_shift(1,j[g]||s[V[g]]||0),L.write_shift(1,W[g]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),S+=j[g]||s[V[g]]||0}var Re=f.next(264);for(Re.write_shift(4,13),g=0;g<65;++g)Re.write_shift(4,0);for(g=0;g<m.length;++g){var Ae=f.next(E);for(Ae.write_shift(1,0),S=0;S<d.length;++S)if(d[S]!=null)switch(V[S]){case"L":Ae.write_shift(1,m[g][S]==null?63:m[g][S]?84:70);break;case"B":Ae.write_shift(8,m[g][S]||0,"f");break;case"N":var pt="0";for(typeof m[g][S]=="number"&&(pt=m[g][S].toFixed(W[S]||0)),A=0;A<j[S]-pt.length;++A)Ae.write_shift(1,32);Ae.write_shift(1,pt,"sbcs");break;case"D":m[g][S]?(Ae.write_shift(4,("0000"+m[g][S].getFullYear()).slice(-4),"sbcs"),Ae.write_shift(2,("00"+(m[g][S].getMonth()+1)).slice(-2),"sbcs"),Ae.write_shift(2,("00"+m[g][S].getDate()).slice(-2),"sbcs")):Ae.write_shift(8,"00000000","sbcs");break;case"C":var et=String(m[g][S]!=null?m[g][S]:"").slice(0,j[S]);for(Ae.write_shift(1,et,"sbcs"),A=0;A<j[S]-et.length;++A)Ae.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),T6=function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+or(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,m){var y=t[m];return typeof y=="number"?ry(y):y},n=function(d,m,y){var g=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return g==59?d:ry(g)};t["|"]=254;function i(d,m){switch(m.type){case"base64":return s(gi(d),m);case"binary":return s(d,m);case"buffer":return s(He&&Buffer.isBuffer(d)?d.toString("binary"):zu(d),m);case"array":return s(e0(d),m)}throw new Error("Unrecognized type "+m.type)}function s(d,m){var y=d.split(/[\n\r]+/),g=-1,S=-1,A=0,E=0,w=[],V=[],j=null,W={},x=[],v=[],T=[],C=0,P;for(+m.codepage>=0&&vu(+m.codepage);A!==y.length;++A){C=0;var L=y[A].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),N=L.replace(/;;/g,"\0").split(";").map(function(U){return U.replace(/\u0000/g,";")}),Re=N[0],Ae;if(L.length>0)switch(Re){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&V.push(L.slice(3).replace(/;;/g,";"));break;case"C":var pt=!1,et=!1,ue=!1,xe=!1,Se=-1,Fe=-1;for(E=1;E<N.length;++E)switch(N[E].charAt(0)){case"A":break;case"X":S=parseInt(N[E].slice(1))-1,et=!0;break;case"Y":for(g=parseInt(N[E].slice(1))-1,et||(S=0),P=w.length;P<=g;++P)w[P]=[];break;case"K":Ae=N[E].slice(1),Ae.charAt(0)==='"'?Ae=Ae.slice(1,Ae.length-1):Ae==="TRUE"?Ae=!0:Ae==="FALSE"?Ae=!1:isNaN(ai(Ae))?isNaN(xu(Ae).getDate())||(Ae=wr(Ae)):(Ae=ai(Ae),j!==null&&V2(j)&&(Ae=j2(Ae))),pt=!0;break;case"E":xe=!0;var b=xL(N[E].slice(1),{r:g,c:S});w[g][S]=[w[g][S],b];break;case"S":ue=!0,w[g][S]=[w[g][S],"S5S"];break;case"G":break;case"R":Se=parseInt(N[E].slice(1))-1;break;case"C":Fe=parseInt(N[E].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+L)}if(pt&&(w[g][S]&&w[g][S].length==2?w[g][S][0]=Ae:w[g][S]=Ae,j=null),ue){if(xe)throw new Error("SYLK shared formula cannot have own formula");var X=Se>-1&&w[Se][Fe];if(!X||!X[1])throw new Error("SYLK shared formula cannot find base");w[g][S][1]=EL(X[1],{r:g-Se,c:S-Fe})}break;case"F":var B=0;for(E=1;E<N.length;++E)switch(N[E].charAt(0)){case"X":S=parseInt(N[E].slice(1))-1,++B;break;case"Y":for(g=parseInt(N[E].slice(1))-1,P=w.length;P<=g;++P)w[P]=[];break;case"M":C=parseInt(N[E].slice(1))/20;break;case"F":break;case"G":break;case"P":j=V[parseInt(N[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=N[E].slice(1).split(" "),P=parseInt(T[0],10);P<=parseInt(T[1],10);++P)C=parseInt(T[2],10),v[P-1]=C===0?{hidden:!0}:{wch:C},Fg(v[P-1]);break;case"C":S=parseInt(N[E].slice(1))-1,v[S]||(v[S]={});break;case"R":g=parseInt(N[E].slice(1))-1,x[g]||(x[g]={}),C>0?(x[g].hpt=C,x[g].hpx=RS(C)):C===0&&(x[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+L)}B<1&&(j=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+L)}}return x.length>0&&(W["!rows"]=x),v.length>0&&(W["!cols"]=v),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,W]}function a(d,m){var y=i(d,m),g=y[0],S=y[1],A=zo(g,m);return or(S).forEach(function(E){A[E]=S[E]}),A}function o(d,m){return da(a(d,m),m)}function l(d,m,y,g){var S="C;Y"+(y+1)+";X"+(g+1)+";K";switch(d.t){case"n":S+=d.v||0,d.f&&!d.F&&(S+=";E"+Mg(d.f,{r:y,c:g}));break;case"b":S+=d.v?"TRUE":"FALSE";break;case"e":S+=d.w||d.v;break;case"d":S+='"'+(d.w||d.v)+'"';break;case"s":S+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function c(d,m){m.forEach(function(y,g){var S="F;W"+(g+1)+" "+(g+1)+" ";y.hidden?S+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=ch(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=fh(y.wpx)),typeof y.wch=="number"&&(S+=Math.round(y.wch))),S.charAt(S.length-1)!=" "&&d.push(S)})}function f(d,m){m.forEach(function(y,g){var S="F;";y.hidden?S+="M0;":y.hpt?S+="M"+20*y.hpt+";":y.hpx&&(S+="M"+20*hh(y.hpx)+";"),S.length>2&&d.push(S+"R"+(g+1))})}function h(d,m){var y=["ID;PWXL;N;E"],g=[],S=ht(d["!ref"]),A,E=Array.isArray(d),w=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),d["!cols"]&&c(y,d["!cols"]),d["!rows"]&&f(y,d["!rows"]),y.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var V=S.s.r;V<=S.e.r;++V)for(var j=S.s.c;j<=S.e.c;++j){var W=Qe({r:V,c:j});A=E?(d[V]||[])[j]:d[W],!(!A||A.v==null&&(!A.f||A.F))&&g.push(l(A,d,V,j))}return y.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:a,from_sheet:h}}(),w6=function(){function t(s,a){switch(a.type){case"base64":return e(gi(s),a);case"binary":return e(s,a);case"buffer":return e(He&&Buffer.isBuffer(s)?s.toString("binary"):zu(s),a);case"array":return e(e0(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,f=0,h=[];f!==o.length;++f){if(o[f].trim()==="BOT"){h[++l]=[],c=0;continue}if(!(l<0)){var d=o[f].trim().split(","),m=d[0],y=d[1];++f;for(var g=o[f]||"";(g.match(/["]/g)||[]).length&1&&f<o.length-1;)g+=`
`+o[++f];switch(g=g.trim(),+m){case-1:if(g==="BOT"){h[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?h[l][c]=!0:g==="FALSE"?h[l][c]=!1:isNaN(ai(y))?isNaN(xu(y).getDate())?h[l][c]=y:h[l][c]=wr(y):h[l][c]=ai(y),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),h[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(h=h.slice(0,a.sheetRows)),h}function r(s,a){return zo(t(s,a),a)}function n(s,a){return da(r(s,a),a)}var i=function(){var s=function(l,c,f,h,d){l.push(c),l.push(f+","+h),l.push('"'+d.replace(/"/g,'""')+'"')},a=function(l,c,f,h){l.push(c+","+f),l.push(c==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var c=[],f=ht(l["!ref"]),h,d=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,f.e.r-f.s.r+1,""),s(c,"TUPLES",0,f.e.c-f.s.c+1,""),s(c,"DATA",0,0,"");for(var m=f.s.r;m<=f.e.r;++m){a(c,-1,0,"BOT");for(var y=f.s.c;y<=f.e.c;++y){var g=Qe({r:m,c:y});if(h=d?(l[m]||[])[y]:l[g],!h){a(c,1,0,"");continue}switch(h.t){case"n":var S=h.w;!S&&h.v!=null&&(S=h.v),S==null?h.f&&!h.F?a(c,1,0,"="+h.f):a(c,1,0,""):a(c,0,S,"V");break;case"b":a(c,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=gs(h.z||wt[14],Fr(wr(h.v)))),a(c,0,h.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var A=`\r
`,E=c.join(A);return E}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),SS=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,d){for(var m=h.split(`
`),y=-1,g=-1,S=0,A=[];S!==m.length;++S){var E=m[S].trim().split(":");if(E[0]==="cell"){var w=Gt(E[1]);if(A.length<=w.r)for(y=A.length;y<=w.r;++y)A[y]||(A[y]=[]);switch(y=w.r,g=w.c,E[2]){case"t":A[y][g]=t(E[3]);break;case"v":A[y][g]=+E[3];break;case"vtf":var V=E[E.length-1];case"vtc":switch(E[3]){case"nl":A[y][g]=!!+E[4];break;default:A[y][g]=+E[4];break}E[2]=="vtf"&&(A[y][g]=[A[y][g],V])}}}return d&&d.sheetRows&&(A=A.slice(0,d.sheetRows)),A}function n(h,d){return zo(r(h,d),d)}function i(h,d){return da(n(h,d),d)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(h){if(!h||!h["!ref"])return"";for(var d=[],m=[],y,g="",S=Gr(h["!ref"]),A=Array.isArray(h),E=S.s.r;E<=S.e.r;++E)for(var w=S.s.c;w<=S.e.c;++w)if(g=Qe({r:E,c:w}),y=A?(h[E]||[])[w]:h[g],!(!y||y.v==null||y.t==="z")){switch(m=["cell",g,"t"],y.t){case"s":case"str":m.push(e(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=e(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var V=Fr(wr(y.v));m[2]="vtc",m[3]="nd",m[4]=""+V,m[5]=y.w||gs(y.z||wt[14],V);break;case"e":continue}d.push(m.join(":"))}return d.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function f(h){return[s,a,o,a,c(h),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:f}}(),S6=function(){function t(f,h,d,m,y){y.raw?h[d][m]=f:f===""||(f==="TRUE"?h[d][m]=!0:f==="FALSE"?h[d][m]=!1:isNaN(ai(f))?isNaN(xu(f).getDate())?h[d][m]=f:h[d][m]=wr(f):h[d][m]=ai(f))}function e(f,h){var d=h||{},m=[];if(!f||f.length===0)return m;for(var y=f.split(/[\r\n]/),g=y.length-1;g>=0&&y[g].length===0;)--g;for(var S=10,A=0,E=0;E<=g;++E)A=y[E].indexOf(" "),A==-1?A=y[E].length:A++,S=Math.max(S,A);for(E=0;E<=g;++E){m[E]=[];var w=0;for(t(y[E].slice(0,S).trim(),m,E,w,d),w=1;w<=(y[E].length-S)/10+1;++w)t(y[E].slice(S+(w-1)*10,S+w*10).trim(),m,E,w,d)}return d.sheetRows&&(m=m.slice(0,d.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(f){for(var h={},d=!1,m=0,y=0;m<f.length;++m)(y=f.charCodeAt(m))==34?d=!d:!d&&y in r&&(h[y]=(h[y]||0)+1);y=[];for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&y.push([h[m],m]);if(!y.length){h=n;for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&y.push([h[m],m])}return y.sort(function(g,S){return g[0]-S[0]||n[g[1]]-n[S[1]]}),r[y.pop()[1]]||44}function s(f,h){var d=h||{},m="",y=d.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(m=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(m=f.charAt(4),f=f.slice(6)):m=i(f.slice(0,1024)):d&&d.FS?m=d.FS:m=i(f.slice(0,1024));var S=0,A=0,E=0,w=0,V=0,j=m.charCodeAt(0),W=!1,x=0,v=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var T=d.dateNF!=null?BO(d.dateNF):null;function C(){var P=f.slice(w,V),L={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)L.t="z";else if(d.raw)L.t="s",L.v=P;else if(P.trim().length===0)L.t="s",L.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(L.t="s",L.v=P.slice(2,-1).replace(/""/g,'"')):TL(P)?(L.t="n",L.f=P.slice(1)):(L.t="s",L.v=P);else if(P=="TRUE")L.t="b",L.v=!0;else if(P=="FALSE")L.t="b",L.v=!1;else if(!isNaN(E=ai(P)))L.t="n",d.cellText!==!1&&(L.w=P),L.v=E;else if(!isNaN(xu(P).getDate())||T&&P.match(T)){L.z=d.dateNF||wt[14];var N=0;T&&P.match(T)&&(P=jO(P,d.dateNF,P.match(T)||[]),N=1),d.cellDates?(L.t="d",L.v=wr(P,N)):(L.t="n",L.v=Fr(wr(P,N))),d.cellText!==!1&&(L.w=gs(L.z,L.v instanceof Date?Fr(L.v):L.v)),d.cellNF||delete L.z}else L.t="s",L.v=P;if(L.t=="z"||(d.dense?(y[S]||(y[S]=[]),y[S][A]=L):y[Qe({c:A,r:S})]=L),w=V+1,v=f.charCodeAt(w),g.e.c<A&&(g.e.c=A),g.e.r<S&&(g.e.r=S),x==j)++A;else if(A=0,++S,d.sheetRows&&d.sheetRows<=S)return!0}e:for(;V<f.length;++V)switch(x=f.charCodeAt(V)){case 34:v===34&&(W=!W);break;case j:case 10:case 13:if(!W&&C())break e;break}return V-w>0&&C(),y["!ref"]=Dt(g),y}function a(f,h){return!(h&&h.PRN)||h.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?s(f,h):zo(e(f,h),h)}function o(f,h){var d="",m=h.type=="string"?[0,0,0,0]:M9(f,h);switch(h.type){case"base64":d=gi(f);break;case"binary":d=f;break;case"buffer":h.codepage==65001?d=f.toString("utf8"):h.codepage&&typeof th<"u"||(d=He&&Buffer.isBuffer(f)?f.toString("binary"):zu(f));break;case"array":d=e0(f);break;case"string":d=f;break;default:throw new Error("Unrecognized type "+h.type)}return m[0]==239&&m[1]==187&&m[2]==191?d=Bl(d.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?d=Bl(d):h.type=="binary"&&typeof th<"u",d.slice(0,19)=="socialcalc:version:"?SS.to_sheet(h.type=="string"?d:Bl(d),h):a(d,h)}function l(f,h){return da(o(f,h),h)}function c(f){for(var h=[],d=ht(f["!ref"]),m,y=Array.isArray(f),g=d.s.r;g<=d.e.r;++g){for(var S=[],A=d.s.c;A<=d.e.c;++A){var E=Qe({r:g,c:A});if(m=y?(f[g]||[])[A]:f[E],!m||m.v==null){S.push("          ");continue}for(var w=(m.w||(_i(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";S.push(w+(A===0?" ":""))}h.push(S.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}(),Oy=function(){function t(b,X,B){if(b){Ur(b,b.l||0);for(var U=B.Enum||Se;b.l<b.length;){var Z=b.read_shift(2),ge=U[Z]||U[65535],Te=b.read_shift(2),Ee=b.l+Te,fe=ge.f&&ge.f(b,Te,B);if(b.l=Ee,X(fe,ge,Z))return}}}function e(b,X){switch(X.type){case"base64":return r(vn(gi(b)),X);case"binary":return r(vn(b),X);case"buffer":case"array":return r(b,X)}throw"Unsupported type "+X.type}function r(b,X){if(!b)return b;var B=X||{},U=B.dense?[]:{},Z="Sheet1",ge="",Te=0,Ee={},fe=[],Ge=[],Me={s:{r:0,c:0},e:{r:0,c:0}},Ft=B.sheetRows||0;if(b[2]==0&&(b[3]==8||b[3]==9)&&b.length>=16&&b[14]==5&&b[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(b[2]==2)B.Enum=Se,t(b,function(ve,vr,nt){switch(nt){case 0:B.vers=ve,ve>=4096&&(B.qpro=!0);break;case 6:Me=ve;break;case 204:ve&&(ge=ve);break;case 222:ge=ve;break;case 15:case 51:B.qpro||(ve[1].v=ve[1].v.slice(1));case 13:case 14:case 16:nt==14&&(ve[2]&112)==112&&(ve[2]&15)>1&&(ve[2]&15)<15&&(ve[1].z=B.dateNF||wt[14],B.cellDates&&(ve[1].t="d",ve[1].v=j2(ve[1].v))),B.qpro&&ve[3]>Te&&(U["!ref"]=Dt(Me),Ee[Z]=U,fe.push(Z),U=B.dense?[]:{},Me={s:{r:0,c:0},e:{r:0,c:0}},Te=ve[3],Z=ge||"Sheet"+(Te+1),ge="");var mt=B.dense?(U[ve[0].r]||[])[ve[0].c]:U[Qe(ve[0])];if(mt){mt.t=ve[1].t,mt.v=ve[1].v,ve[1].z!=null&&(mt.z=ve[1].z),ve[1].f!=null&&(mt.f=ve[1].f);break}B.dense?(U[ve[0].r]||(U[ve[0].r]=[]),U[ve[0].r][ve[0].c]=ve[1]):U[Qe(ve[0])]=ve[1];break}},B);else if(b[2]==26||b[2]==14)B.Enum=Fe,b[2]==14&&(B.qpro=!0,b.l=0),t(b,function(ve,vr,nt){switch(nt){case 204:Z=ve;break;case 22:ve[1].v=ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ve[3]>Te&&(U["!ref"]=Dt(Me),Ee[Z]=U,fe.push(Z),U=B.dense?[]:{},Me={s:{r:0,c:0},e:{r:0,c:0}},Te=ve[3],Z="Sheet"+(Te+1)),Ft>0&&ve[0].r>=Ft)break;B.dense?(U[ve[0].r]||(U[ve[0].r]=[]),U[ve[0].r][ve[0].c]=ve[1]):U[Qe(ve[0])]=ve[1],Me.e.c<ve[0].c&&(Me.e.c=ve[0].c),Me.e.r<ve[0].r&&(Me.e.r=ve[0].r);break;case 27:ve[14e3]&&(Ge[ve[14e3][0]]=ve[14e3][1]);break;case 1537:Ge[ve[0]]=ve[1],ve[0]==Te&&(Z=ve[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+b[2]);if(U["!ref"]=Dt(Me),Ee[ge||Z]=U,fe.push(ge||Z),!Ge.length)return{SheetNames:fe,Sheets:Ee};for(var je={},ln=[],rt=0;rt<Ge.length;++rt)Ee[fe[rt]]?(ln.push(Ge[rt]||fe[rt]),je[Ge[rt]]=Ee[Ge[rt]]||Ee[fe[rt]]):(ln.push(Ge[rt]),je[Ge[rt]]={"!ref":"A1"});return{SheetNames:ln,Sheets:je}}function n(b,X){var B=X||{};if(+B.codepage>=0&&vu(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var U=Or(),Z=ht(b["!ref"]),ge=Array.isArray(b),Te=[];oe(U,0,s(1030)),oe(U,6,l(Z));for(var Ee=Math.min(Z.e.r,8191),fe=Z.s.r;fe<=Ee;++fe)for(var Ge=ir(fe),Me=Z.s.c;Me<=Z.e.c;++Me){fe===Z.s.r&&(Te[Me]=pr(Me));var Ft=Te[Me]+Ge,je=ge?(b[fe]||[])[Me]:b[Ft];if(!(!je||je.t=="z"))if(je.t=="n")(je.v|0)==je.v&&je.v>=-32768&&je.v<=32767?oe(U,13,m(fe,Me,je.v)):oe(U,14,g(fe,Me,je.v));else{var ln=_i(je);oe(U,15,h(fe,Me,ln.slice(0,239)))}}return oe(U,1),U.end()}function i(b,X){var B=X||{};if(+B.codepage>=0&&vu(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var U=Or();oe(U,0,a(b));for(var Z=0,ge=0;Z<b.SheetNames.length;++Z)(b.Sheets[b.SheetNames[Z]]||{})["!ref"]&&oe(U,27,xe(b.SheetNames[Z],ge++));var Te=0;for(Z=0;Z<b.SheetNames.length;++Z){var Ee=b.Sheets[b.SheetNames[Z]];if(!(!Ee||!Ee["!ref"])){for(var fe=ht(Ee["!ref"]),Ge=Array.isArray(Ee),Me=[],Ft=Math.min(fe.e.r,8191),je=fe.s.r;je<=Ft;++je)for(var ln=ir(je),rt=fe.s.c;rt<=fe.e.c;++rt){je===fe.s.r&&(Me[rt]=pr(rt));var ve=Me[rt]+ln,vr=Ge?(Ee[je]||[])[rt]:Ee[ve];if(!(!vr||vr.t=="z"))if(vr.t=="n")oe(U,23,C(je,rt,Te,vr.v));else{var nt=_i(vr);oe(U,22,x(je,rt,Te,nt.slice(0,239)))}}++Te}}return oe(U,1),U.end()}function s(b){var X=Q(2);return X.write_shift(2,b),X}function a(b){var X=Q(26);X.write_shift(2,4096),X.write_shift(2,4),X.write_shift(4,0);for(var B=0,U=0,Z=0,ge=0;ge<b.SheetNames.length;++ge){var Te=b.SheetNames[ge],Ee=b.Sheets[Te];if(!(!Ee||!Ee["!ref"])){++Z;var fe=Gr(Ee["!ref"]);B<fe.e.r&&(B=fe.e.r),U<fe.e.c&&(U=fe.e.c)}}return B>8191&&(B=8191),X.write_shift(2,B),X.write_shift(1,Z),X.write_shift(1,U),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(1,1),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(4,0),X}function o(b,X,B){var U={s:{c:0,r:0},e:{c:0,r:0}};return X==8&&B.qpro?(U.s.c=b.read_shift(1),b.l++,U.s.r=b.read_shift(2),U.e.c=b.read_shift(1),b.l++,U.e.r=b.read_shift(2),U):(U.s.c=b.read_shift(2),U.s.r=b.read_shift(2),X==12&&B.qpro&&(b.l+=2),U.e.c=b.read_shift(2),U.e.r=b.read_shift(2),X==12&&B.qpro&&(b.l+=2),U.s.c==65535&&(U.s.c=U.e.c=U.s.r=U.e.r=0),U)}function l(b){var X=Q(8);return X.write_shift(2,b.s.c),X.write_shift(2,b.s.r),X.write_shift(2,b.e.c),X.write_shift(2,b.e.r),X}function c(b,X,B){var U=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(U[0].c=b.read_shift(1),U[3]=b.read_shift(1),U[0].r=b.read_shift(2),b.l+=2):(U[2]=b.read_shift(1),U[0].c=b.read_shift(2),U[0].r=b.read_shift(2)),U}function f(b,X,B){var U=b.l+X,Z=c(b,X,B);if(Z[1].t="s",B.vers==20768){b.l++;var ge=b.read_shift(1);return Z[1].v=b.read_shift(ge,"utf8"),Z}return B.qpro&&b.l++,Z[1].v=b.read_shift(U-b.l,"cstr"),Z}function h(b,X,B){var U=Q(7+B.length);U.write_shift(1,255),U.write_shift(2,X),U.write_shift(2,b),U.write_shift(1,39);for(var Z=0;Z<U.length;++Z){var ge=B.charCodeAt(Z);U.write_shift(1,ge>=128?95:ge)}return U.write_shift(1,0),U}function d(b,X,B){var U=c(b,X,B);return U[1].v=b.read_shift(2,"i"),U}function m(b,X,B){var U=Q(7);return U.write_shift(1,255),U.write_shift(2,X),U.write_shift(2,b),U.write_shift(2,B,"i"),U}function y(b,X,B){var U=c(b,X,B);return U[1].v=b.read_shift(8,"f"),U}function g(b,X,B){var U=Q(13);return U.write_shift(1,255),U.write_shift(2,X),U.write_shift(2,b),U.write_shift(8,B,"f"),U}function S(b,X,B){var U=b.l+X,Z=c(b,X,B);if(Z[1].v=b.read_shift(8,"f"),B.qpro)b.l=U;else{var ge=b.read_shift(2);V(b.slice(b.l,b.l+ge),Z),b.l+=ge}return Z}function A(b,X,B){var U=X&32768;return X&=-32769,X=(U?b:0)+(X>=8192?X-16384:X),(U?"":"$")+(B?pr(X):ir(X))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function V(b,X){Ur(b,0);for(var B=[],U=0,Z="",ge="",Te="",Ee="";b.l<b.length;){var fe=b[b.l++];switch(fe){case 0:B.push(b.read_shift(8,"f"));break;case 1:ge=A(X[0].c,b.read_shift(2),!0),Z=A(X[0].r,b.read_shift(2),!1),B.push(ge+Z);break;case 2:{var Ge=A(X[0].c,b.read_shift(2),!0),Me=A(X[0].r,b.read_shift(2),!1);ge=A(X[0].c,b.read_shift(2),!0),Z=A(X[0].r,b.read_shift(2),!1),B.push(Ge+Me+":"+ge+Z)}break;case 3:if(b.l<b.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(b.read_shift(2));break;case 6:{for(var Ft="";fe=b[b.l++];)Ft+=String.fromCharCode(fe);B.push('"'+Ft.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:Ee=B.pop(),Te=B.pop(),B.push(["AND","OR"][fe-20]+"("+Te+","+Ee+")");break;default:if(fe<32&&w[fe])Ee=B.pop(),Te=B.pop(),B.push(Te+w[fe]+Ee);else if(E[fe]){if(U=E[fe][1],U==69&&(U=b[b.l++]),U>B.length){console.error("WK1 bad formula parse 0x"+fe.toString(16)+":|"+B.join("|")+"|");return}var je=B.slice(-U);B.length-=U,B.push(E[fe][0]+"("+je.join(",")+")")}else return fe<=7?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=24?console.error("WK1 unsupported op "+fe.toString(16)):fe<=30?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=115?console.error("WK1 unsupported function opcode "+fe.toString(16)):console.error("WK1 unrecognized opcode "+fe.toString(16))}}B.length==1?X[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function j(b){var X=[{c:0,r:0},{t:"n",v:0},0];return X[0].r=b.read_shift(2),X[3]=b[b.l++],X[0].c=b[b.l++],X}function W(b,X){var B=j(b);return B[1].t="s",B[1].v=b.read_shift(X-4,"cstr"),B}function x(b,X,B,U){var Z=Q(6+U.length);Z.write_shift(2,b),Z.write_shift(1,B),Z.write_shift(1,X),Z.write_shift(1,39);for(var ge=0;ge<U.length;++ge){var Te=U.charCodeAt(ge);Z.write_shift(1,Te>=128?95:Te)}return Z.write_shift(1,0),Z}function v(b,X){var B=j(b);B[1].v=b.read_shift(2);var U=B[1].v>>1;if(B[1].v&1)switch(U&7){case 0:U=(U>>3)*5e3;break;case 1:U=(U>>3)*500;break;case 2:U=(U>>3)/20;break;case 3:U=(U>>3)/200;break;case 4:U=(U>>3)/2e3;break;case 5:U=(U>>3)/2e4;break;case 6:U=(U>>3)/16;break;case 7:U=(U>>3)/64;break}return B[1].v=U,B}function T(b,X){var B=j(b),U=b.read_shift(4),Z=b.read_shift(4),ge=b.read_shift(2);if(ge==65535)return U===0&&Z===3221225472?(B[1].t="e",B[1].v=15):U===0&&Z===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var Te=ge&32768;return ge=(ge&32767)-16446,B[1].v=(1-Te*2)*(Z*Math.pow(2,ge+32)+U*Math.pow(2,ge)),B}function C(b,X,B,U){var Z=Q(14);if(Z.write_shift(2,b),Z.write_shift(1,B),Z.write_shift(1,X),U==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var ge=0,Te=0,Ee=0,fe=0;return U<0&&(ge=1,U=-U),Te=Math.log2(U)|0,U/=Math.pow(2,Te-31),fe=U>>>0,fe&2147483648||(U/=2,++Te,fe=U>>>0),U-=fe,fe|=2147483648,fe>>>=0,U*=Math.pow(2,32),Ee=U>>>0,Z.write_shift(4,Ee),Z.write_shift(4,fe),Te+=16383+(ge?32768:0),Z.write_shift(2,Te),Z}function P(b,X){var B=T(b);return b.l+=X-14,B}function L(b,X){var B=j(b),U=b.read_shift(4);return B[1].v=U>>6,B}function N(b,X){var B=j(b),U=b.read_shift(8,"f");return B[1].v=U,B}function Re(b,X){var B=N(b);return b.l+=X-10,B}function Ae(b,X){return b[b.l+X-1]==0?b.read_shift(X,"cstr"):""}function pt(b,X){var B=b[b.l++];B>X-1&&(B=X-1);for(var U="";U.length<B;)U+=String.fromCharCode(b[b.l++]);return U}function et(b,X,B){if(!(!B.qpro||X<21)){var U=b.read_shift(1);b.l+=17,b.l+=1,b.l+=2;var Z=b.read_shift(X-21,"cstr");return[U,Z]}}function ue(b,X){for(var B={},U=b.l+X;b.l<U;){var Z=b.read_shift(2);if(Z==14e3){for(B[Z]=[0,""],B[Z][0]=b.read_shift(2);b[b.l];)B[Z][1]+=String.fromCharCode(b[b.l]),b.l++;b.l++}}return B}function xe(b,X){var B=Q(5+b.length);B.write_shift(2,14e3),B.write_shift(2,X);for(var U=0;U<b.length;++U){var Z=b.charCodeAt(U);B[B.l++]=Z>127?95:Z}return B[B.l++]=0,B}var Se={0:{n:"BOF",f:yS},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:y},15:{n:"LABEL",f},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ae},222:{n:"SHEETNAMELP",f:pt},65535:{n:""}},Fe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:W},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:v},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ue},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:Re},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:et},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),A6=/^\s|\s$|[\t\n\r]/;function AS(t,e){if(!e.bookSST)return"";var r=[Ot];r[r.length]=ae("sst",null,{xmlns:jo[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(A6)&&(s+=' xml:space="preserve"'),s+=">"+Xe(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function I6(t){return[t.read_shift(4),t.read_shift(4)]}function C6(t,e){return e||(e=Q(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var R6=vF;function P6(t){var e=Or();re(e,159,C6(t));for(var r=0;r<t.length;++r)re(e,19,R6(t[r]));return re(e,160),e.end()}function k6(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function IS(t){var e=0,r,n=k6(t),i=n.length+1,s,a,o,l,c;for(r=sa(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var N6=function(){function t(i,s){switch(s.type){case"base64":return e(gi(i),s);case"binary":return e(i,s);case"buffer":return e(He&&Buffer.isBuffer(i)?i.toString("binary"):zu(i),s);case"array":return e(e0(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,h){Array.isArray(o)&&(o[h]=[]);for(var d=/\\\w+\b/g,m=0,y,g=-1;y=d.exec(f);){switch(y[0]){case"\\cell":var S=f.slice(m,d.lastIndex-y[0].length);if(S[0]==" "&&(S=S.slice(1)),++g,S.length){var A={v:S,t:"s"};Array.isArray(o)?o[h][g]=A:o[Qe({r:h,c:g})]=A}break}m=d.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=Dt(c),o}function r(i,s){return da(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=ht(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var f=a.s.c;f<=a.e.c;++f)s.push("\\cellx"+(f+1));for(s.push("\\pard\\intbl"),f=a.s.c;f<=a.e.c;++f){var h=Qe({r:c,c:f});o=l?(i[c]||[])[f]:i[h],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(_i(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function Fy(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var D6=6,oi=D6;function ch(t){return Math.floor((t+Math.round(128/oi)/256)*oi)}function fh(t){return Math.floor((t-5)/oi*100+.5)/100}function Np(t){return Math.round((t*oi+5)/oi*256)/256}function Fg(t){t.width?(t.wpx=ch(t.width),t.wch=fh(t.wpx),t.MDW=oi):t.wpx?(t.wch=fh(t.wpx),t.width=Np(t.wch),t.MDW=oi):typeof t.wch=="number"&&(t.width=Np(t.wch),t.wpx=ch(t.width),t.MDW=oi),t.customWidth&&delete t.customWidth}var O6=96,CS=O6;function hh(t){return t*96/CS}function RS(t){return t*CS/96}function F6(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=ae("numFmt",null,{numFmtId:n,formatCode:Xe(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ae("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function L6(t){var e=[];return e[e.length]=ae("cellXfs",null),t.forEach(function(r){e[e.length]=ae("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ae("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function PS(t,e){var r=[Ot,ae("styleSheet",null,{xmlns:jo[0],"xmlns:vt":$t.vt})],n;return t.SSF&&(n=F6(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=L6(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function M6(t,e){var r=t.read_shift(2),n=mr(t);return[r,n]}function V6(t,e,r){r||(r=Q(6+4*e.length)),r.write_shift(2,t),Kt(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function b6(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=AF(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=SF(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=mr(t),n}function U6(t,e){e||(e=Q(25+4*32)),e.write_shift(2,t.sz*20),IF(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),lh(t.color,e);var n=0;return n=2,e.write_shift(1,n),Kt(t.name,e),e.length>e.l?e.slice(0,e.l):e}var B6=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],id,j6=Kn;function Ly(t,e){e||(e=Q(4*3+8*7+16*1)),id||(id=Tg(B6));var r=id[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(lh({auto:1},e),lh({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function z6(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function kS(t,e,r){r||(r=Q(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function hl(t,e){return e||(e=Q(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var W6=Kn;function H6(t,e){return e||(e=Q(51)),e.write_shift(1,0),hl(null,e),hl(null,e),hl(null,e),hl(null,e),hl(null,e),e.length>e.l?e.slice(0,e.l):e}function $6(t,e){return e||(e=Q(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),oh(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function G6(t,e,r){var n=Q(2052);return n.write_shift(4,t),oh(e,n),oh(r,n),n.length>n.l?n.slice(0,n.l):n}function K6(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(re(t,615,Sn(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&re(t,44,V6(i,e[i]))}),re(t,616))}}function q6(t){var e=1;re(t,611,Sn(e)),re(t,43,U6({sz:12,color:{theme:1},name:"Calibri",family:2})),re(t,612)}function X6(t){var e=2;re(t,603,Sn(e)),re(t,45,Ly({patternType:"none"})),re(t,45,Ly({patternType:"gray125"})),re(t,604)}function Y6(t){var e=1;re(t,613,Sn(e)),re(t,46,H6()),re(t,614)}function Q6(t){var e=1;re(t,626,Sn(e)),re(t,47,kS({numFmtId:0},65535)),re(t,627)}function J6(t,e){re(t,617,Sn(e.length)),e.forEach(function(r){re(t,47,kS(r,0))}),re(t,618)}function Z6(t){var e=1;re(t,619,Sn(e)),re(t,48,$6({xfId:0,name:"Normal"})),re(t,620)}function eL(t){var e=0;re(t,505,Sn(e)),re(t,506)}function tL(t){var e=0;re(t,508,G6(e,"TableStyleMedium9","PivotStyleMedium4")),re(t,509)}function rL(t,e){var r=Or();return re(r,278),K6(r,t.SSF),q6(r),X6(r),Y6(r),Q6(r),J6(r,e.cellXfs),Z6(r),eL(r),tL(r),re(r,279),r.end()}function NS(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Ot];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function nL(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:mr(t)}}function iL(t){var e=Q(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Kt(t.name,e),e.slice(0,e.l)}function sL(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function aL(t){var e=Q(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function oL(t,e){var r=Q(8+2*e.length);return r.write_shift(4,t),Kt(e,r),r.slice(0,r.l)}function lL(t){return t.l+=4,t.read_shift(4)!=0}function uL(t,e){var r=Q(8);return r.write_shift(4,t),r.write_shift(4,1),r}function cL(){var t=Or();return re(t,332),re(t,334,Sn(1)),re(t,335,iL({name:"XLDAPR",version:12e4,flags:3496657072})),re(t,336),re(t,339,oL(1,"XLDAPR")),re(t,52),re(t,35,Sn(514)),re(t,4096,Sn(0)),re(t,4097,Qr(1)),re(t,36),re(t,53),re(t,340),re(t,337,uL(1)),re(t,51,aL([[1,0]])),re(t,338),re(t,333),t.end()}function DS(){var t=[Ot];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function fL(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Qe(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Ya=1024;function OS(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[ae("xml",null,{"xmlns:v":Br.v,"xmlns:o":Br.o,"xmlns:x":Br.x,"xmlns:mv":Br.mv}).replace(/\/>/,">"),ae("o:shapelayout",ae("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),ae("v:shapetype",[ae("v:stroke",null,{joinstyle:"miter"}),ae("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Ya<t*1e3;)Ya+=1e3;return e.forEach(function(s){var a=Gt(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?ae("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=ae("v:fill",l,o),f={on:"t",obscured:"t"};++Ya,i=i.concat(["<v:shape"+Tu({id:"_x0000_s"+Ya,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,ae("v:shadow",null,f),ae("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",rr("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),rr("x:AutoFill","False"),rr("x:Row",String(a.r)),rr("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function FS(t){var e=[Ot,ae("comments",null,{xmlns:jo[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=Xe(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(Xe(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(rr("t",Xe(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(rr("t",Xe(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function hL(t,e,r){var n=[Ot,ae("ThreadedComments",null,{xmlns:$t.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(ae("threadedComment",rr("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function dL(t){var e=[Ot,ae("personList",null,{xmlns:$t.TCMNT,"xmlns:x":jo[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(ae("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function pL(t){var e={};e.iauthor=t.read_shift(4);var r=_a(t);return e.rfx=r.s,e.ref=Qe(r.s),t.l+=16,e}function mL(t,e){return e==null&&(e=Q(36)),e.write_shift(4,t[1].iauthor),Wo(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var gL=mr;function _L(t){return Kt(t.slice(0,54))}function vL(t){var e=Or(),r=[];return re(e,628),re(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),re(e,632,_L(i.a)))})}),re(e,631),re(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:Gt(n[0]),e:Gt(n[0])};re(e,635,mL([s,i])),i.t&&i.t.length>0&&re(e,637,xF(i)),re(e,636),delete i.iauthor})}),re(e,634),re(e,629),e.end()}function yL(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Je.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var LS=["xlsb","xlsm","xlam","biff8","xla"],xL=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,f=a.length>0?parseInt(a,10)|0:0;return o?f+=e.c:--f,l?c+=e.r:--c,i+(o?"":"$")+pr(f)+(l?"":"$")+ir(c)}return function(i,s){return e=s,i.replace(t,r)}}(),Lg=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Mg=function(){return function(e,r){return e.replace(Lg,function(n,i,s,a,o,l){var c=Pg(a)-(s?0:r.c),f=Rg(l)-(o?0:r.r),h=f==0?"":o?f+1:"["+f+"]",d=c==0?"":s?c+1:"["+c+"]";return i+"R"+h+"C"+d})}}();function EL(t,e){return t.replace(Lg,function(r,n,i,s,a,o){return n+(i=="$"?i+s:pr(Pg(s)+e.c))+(a=="$"?a+o:ir(Rg(o)+e.r))})}function TL(t){return t.length!=1}function It(t){t.l+=1}function _s(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function MS(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return VS(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=_s(t),o=_s(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function VS(t){var e=_s(t),r=_s(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function wL(t,e,r){if(r.biff<8)return VS(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=_s(t),a=_s(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function bS(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return SL(t);var n=t.read_shift(r&&r.biff==12?4:2),i=_s(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function SL(t){var e=_s(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function AL(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function IL(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return CL(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function CL(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function RL(t,e,r){var n=(t[t.l++]&96)>>5,i=MS(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function PL(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=MS(t,s,r);return[n,i,a]}function kL(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function NL(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function DL(t,e,r){var n=(t[t.l++]&96)>>5,i=wL(t,e-1,r);return[n,i]}function OL(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function My(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function FL(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function LL(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function ML(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function VL(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function bL(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function US(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function UL(t){return t.read_shift(2),US(t)}function BL(t){return t.read_shift(2),US(t)}function jL(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=bS(t,0,r);return[n,i]}function zL(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=IL(t,0,r);return[n,i]}function WL(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=bS(t,0,r);return[n,i,s]}function HL(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[H8[i],zS[i],n]}function $L(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:GL(t);return[i,(s[0]===0?zS:W8)[s[1]]]}function GL(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function KL(t,e,r){t.l+=r&&r.biff==2?3:4}function qL(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function XL(t){return t.l++,$u[t.read_shift(1)]}function YL(t){return t.l++,t.read_shift(2)}function QL(t){return t.l++,t.read_shift(1)!==0}function JL(t){return t.l++,Ho(t)}function ZL(t,e,r){return t.l++,ES(t,e-1,r)}function e8(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=WF(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=$u[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Ho(t);break;case 2:r[1]=KF(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function t8(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?_a:YF)(t));return i}function r8(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=e8(t,r.biff);return a}function n8(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function i8(t,e,r){if(r.biff==5)return s8(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function s8(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function a8(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function o8(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function l8(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function u8(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var c8=Kn,f8=Kn,h8=Kn;function Gu(t,e,r){return t.l+=2,[AL(t)]}function Vg(t){return t.l+=6,[]}var d8=Gu,p8=Vg,m8=Vg,g8=Gu;function BS(t){return t.l+=2,[yS(t),t.read_shift(2)&1]}var _8=Gu,v8=BS,y8=Vg,x8=Gu,E8=Gu,T8=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function w8(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=T8[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function S8(t){return t.l+=2,[t.read_shift(4)]}function A8(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function I8(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function C8(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function R8(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function P8(t){return t.l+=4,[0,0]}var Vy={1:{n:"PtgExp",f:qL},2:{n:"PtgTbl",f:h8},3:{n:"PtgAdd",f:It},4:{n:"PtgSub",f:It},5:{n:"PtgMul",f:It},6:{n:"PtgDiv",f:It},7:{n:"PtgPower",f:It},8:{n:"PtgConcat",f:It},9:{n:"PtgLt",f:It},10:{n:"PtgLe",f:It},11:{n:"PtgEq",f:It},12:{n:"PtgGe",f:It},13:{n:"PtgGt",f:It},14:{n:"PtgNe",f:It},15:{n:"PtgIsect",f:It},16:{n:"PtgUnion",f:It},17:{n:"PtgRange",f:It},18:{n:"PtgUplus",f:It},19:{n:"PtgUminus",f:It},20:{n:"PtgPercent",f:It},21:{n:"PtgParen",f:It},22:{n:"PtgMissArg",f:It},23:{n:"PtgStr",f:ZL},26:{n:"PtgSheet",f:A8},27:{n:"PtgEndSheet",f:I8},28:{n:"PtgErr",f:XL},29:{n:"PtgBool",f:QL},30:{n:"PtgInt",f:YL},31:{n:"PtgNum",f:JL},32:{n:"PtgArray",f:OL},33:{n:"PtgFunc",f:HL},34:{n:"PtgFuncVar",f:$L},35:{n:"PtgName",f:n8},36:{n:"PtgRef",f:jL},37:{n:"PtgArea",f:RL},38:{n:"PtgMemArea",f:a8},39:{n:"PtgMemErr",f:c8},40:{n:"PtgMemNoMem",f:f8},41:{n:"PtgMemFunc",f:o8},42:{n:"PtgRefErr",f:l8},43:{n:"PtgAreaErr",f:kL},44:{n:"PtgRefN",f:zL},45:{n:"PtgAreaN",f:DL},46:{n:"PtgMemAreaN",f:C8},47:{n:"PtgMemNoMemN",f:R8},57:{n:"PtgNameX",f:i8},58:{n:"PtgRef3d",f:WL},59:{n:"PtgArea3d",f:PL},60:{n:"PtgRefErr3d",f:u8},61:{n:"PtgAreaErr3d",f:NL},255:{}},k8={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},N8={1:{n:"PtgElfLel",f:BS},2:{n:"PtgElfRw",f:x8},3:{n:"PtgElfCol",f:d8},6:{n:"PtgElfRwV",f:E8},7:{n:"PtgElfColV",f:g8},10:{n:"PtgElfRadical",f:_8},11:{n:"PtgElfRadicalS",f:y8},13:{n:"PtgElfColS",f:p8},15:{n:"PtgElfColSV",f:m8},16:{n:"PtgElfRadicalLel",f:v8},25:{n:"PtgList",f:w8},29:{n:"PtgSxName",f:S8},255:{}},D8={0:{n:"PtgAttrNoop",f:P8},1:{n:"PtgAttrSemi",f:bL},2:{n:"PtgAttrIf",f:ML},4:{n:"PtgAttrChoose",f:FL},8:{n:"PtgAttrGoto",f:LL},16:{n:"PtgAttrSum",f:KL},32:{n:"PtgAttrBaxcel",f:My},33:{n:"PtgAttrBaxcel",f:My},64:{n:"PtgAttrSpace",f:UL},65:{n:"PtgAttrSpaceSemi",f:BL},128:{n:"PtgAttrIfError",f:VL},255:{}};function O8(t,e,r,n){if(n.biff<8)return Kn(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=r8(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=t8(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(Kn(t,e)),s}function F8(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=Vy[s]||Vy[k8[s]],(s===24||s===25)&&(i=(s===24?N8:D8)[t[t.l+1]]),!i||!i.f?Kn(t,e):a.push([i.n,i.f(t,e,r)]);return a}function L8(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var M8={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function V8(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function jS(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function by(t,e,r){var n=jS(t,e,r);return n=="#REF"?n:V8(n,r)}function Po(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,f,h=0,d=0,m,y="";if(!t[0]||!t[0][0])return"";for(var g=-1,S="",A=0,E=t[0].length;A<E;++A){var w=t[0][A];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:S=Tt(" ",t[0][g][1][1]);break;case 1:S=Tt("\r",t[0][g][1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}c=c+S,g=-1}o.push(c+M8[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=zl(w[1][1],a,i),o.push(Wl(f,s));break;case"PtgRefN":f=r?zl(w[1][1],r,i):w[1][1],o.push(Wl(f,s));break;case"PtgRef3d":h=w[1][1],f=zl(w[1][2],a,i),y=by(n,h,i),o.push(y+"!"+Wl(f,s));break;case"PtgFunc":case"PtgFuncVar":var V=w[1][0],j=w[1][1];V||(V=0),V&=127;var W=V==0?[]:o.slice(-V);o.length-=V,j==="User"&&(j=W.shift()),o.push(j+"("+W.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":m=Ty(w[1][1],r?{s:r}:a,i),o.push(rd(m,i));break;case"PtgArea":m=Ty(w[1][1],a,i),o.push(rd(m,i));break;case"PtgArea3d":h=w[1][1],m=w[1][2],y=by(n,h,i),o.push(y+"!"+rd(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=w[1][2];var x=(n.names||[])[d-1]||(n[0]||[])[d],v=x?x.Name:"SH33TJSNAME"+String(d);v&&v.slice(0,6)=="_xlfn."&&!i.xlfn&&(v=v.slice(6)),o.push(v);break;case"PtgNameX":var T=w[1][1];d=w[1][2];var C;if(i.biff<=5)T<0&&(T=-T),n[T]&&(C=n[T][d]);else{var P="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][d]&&n[T][d].itab>0&&(P=n.SheetNames[n[T][d].itab-1]+"!"):P=n.SheetNames[d-1]+"!"),n[T]&&n[T][d])P+=n[T][d].Name;else if(n[0]&&n[0][d])P+=n[0][d].Name;else{var L=(jS(n,T,i)||"").split(";;");L[d-1]?P=L[d-1]:P+="SH33TJSERRX"}o.push(P);break}C||(C={Name:"SH33TJSERRY"}),o.push(C.Name);break;case"PtgParen":var N="(",Re=")";if(g>=0){switch(S="",t[0][g][1][0]){case 2:N=Tt(" ",t[0][g][1][1])+N;break;case 3:N=Tt("\r",t[0][g][1][1])+N;break;case 4:Re=Tt(" ",t[0][g][1][1])+Re;break;case 5:Re=Tt("\r",t[0][g][1][1])+Re;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(N+o.pop()+Re);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:w[1][1],r:w[1][0]};var Ae={c:r.c,r:r.r};if(n.sharedf[Qe(f)]){var pt=n.sharedf[Qe(f)];o.push(Po(pt,a,Ae,n,i))}else{var et=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(f.c<c[0].s.c||f.c>c[0].e.c)&&!(f.r<c[0].s.r||f.r>c[0].e.r)){o.push(Po(c[1],a,Ae,n,i)),et=!0;break}et||o.push(w[1])}break;case"PtgArray":o.push("{"+L8(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=A;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var ue=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&ue.indexOf(t[0][A][0])==-1){w=t[0][g];var xe=!0;switch(w[1][0]){case 4:xe=!1;case 0:S=Tt(" ",w[1][1]);break;case 5:xe=!1;case 1:S=Tt("\r",w[1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((xe?S:"")+o.pop()+(xe?"":S)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function b8(t){if(t==null){var e=Q(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return aa(t);return aa(0)}function U8(t,e,r,n,i){var s=oa(e,r,i),a=b8(t.v),o=Q(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=Q(t.bf.length),f=0;f<t.bf.length;++f)c[f]=t.bf[f];var h=tr([s,a,o,c]);return h}function t0(t,e,r){var n=t.read_shift(4),i=F8(t,n,r),s=t.read_shift(4),a=s>0?O8(t,s,i,r):null;return[i,a]}var B8=t0,r0=t0,j8=t0,z8=t0,W8={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},zS={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},H8={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function $8(t){var e="of:="+t.replace(Lg,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function G8(t){return t.replace(/\./,"!")}var Hl=typeof Map<"u";function bg(t,e,r){var n=0,i=t.length;if(r){if(Hl?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=Hl?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(Hl?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function n0(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(oi=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=fh(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Np(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function WS(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function As(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){b2(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function K8(t,e,r){if(t&&t["!ref"]){var n=ht(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function q8(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Dt(t[r])+'"/>';return e+"</mergeCells>"}function X8(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=Eu(Xe(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+ae("outlinePr",null,c)}!s&&!o||(i[i.length]=ae("sheetPr",o,a))}var Y8=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Q8=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function J8(t){var e={sheet:1};return Y8.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),Q8.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=IS(t.password).toString(16).toUpperCase()),ae("sheetProtection",null,e)}function Z8(t){return WS(t),ae("pageMargins",null,t)}function eM(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=ae("col",null,n0(i,n)));return r[r.length]="</cols>",r.join("")}function tM(t,e,r,n){var i=typeof t.ref=="string"?t.ref:Dt(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=Gr(i);a.s.r==a.e.r&&(a.e.r=Gr(e["!ref"]).e.r,i=Dt(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ae("autoFilter",null,{ref:i})}function rM(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ae("sheetViews",ae("sheetView",null,i),{})}function nM(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=$u[t.v];break;case"d":n&&n.cellDates?i=wr(t.v,-1).toISOString():(t=Lr(t),t.t="n",i=""+(t.v=Fr(wr(t.v)))),typeof t.z>"u"&&(t.z=wt[14]);break;default:i=t.v;break}var o=rr("v",Xe(i)),l={r:e},c=As(n.cellXfs,t,n);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=rr("v",""+bg(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var f=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=ae("f",Xe(t.f),f)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),ae("c",o,l)}function iM(t,e,r,n){var i=[],s=[],a=ht(t["!ref"]),o="",l,c="",f=[],h=0,d=0,m=t["!rows"],y=Array.isArray(t),g={r:c},S,A=-1;for(d=a.s.c;d<=a.e.c;++d)f[d]=pr(d);for(h=a.s.r;h<=a.e.r;++h){for(s=[],c=ir(h),d=a.s.c;d<=a.e.c;++d){l=f[d]+c;var E=y?(t[h]||[])[d]:t[l];E!==void 0&&(o=nM(E,l,t,e))!=null&&s.push(o)}(s.length>0||m&&m[h])&&(g={r:c},m&&m[h]&&(S=m[h],S.hidden&&(g.hidden=1),A=-1,S.hpx?A=hh(S.hpx):S.hpt&&(A=S.hpt),A>-1&&(g.ht=A,g.customHeight=1),S.level&&(g.outlineLevel=S.level)),i[i.length]=ae("row",s.join(""),g))}if(m)for(;h<m.length;++h)m&&m[h]&&(g={r:h+1},S=m[h],S.hidden&&(g.hidden=1),A=-1,S.hpx?A=hh(S.hpx):S.hpt&&(A=S.hpt),A>-1&&(g.ht=A,g.customHeight=1),S.level&&(g.outlineLevel=S.level),i[i.length]=ae("row","",g));return i.join("")}function HS(t,e,r,n){var i=[Ot,ae("worksheet",null,{xmlns:jo[0],"xmlns:r":$t.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",f=ht(c);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),c=Dt(f)}n||(n={}),l["!comments"]=[];var h=[];X8(l,r,t,e,i),i[i.length]=ae("dimension",null,{ref:c}),i[i.length]=rM(l,e,t,r),e.sheetFormat&&(i[i.length]=ae("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=eM(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=iM(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=J8(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=tM(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=q8(l["!merges"]));var d=-1,m,y=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(y=qe(n,-1,Xe(g[1].Target).replace(/#.*$/,""),We.HLINK),m["r:id"]="rId"+y),(d=g[1].Target.indexOf("#"))>-1&&(m.location=Xe(g[1].Target.slice(d+1))),g[1].Tooltip&&(m.tooltip=Xe(g[1].Tooltip)),i[i.length]=ae("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=Z8(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=rr("ignoredErrors",ae("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(y=qe(n,-1,"../drawings/drawing"+(t+1)+".xml",We.DRAW),i[i.length]=ae("drawing",null,{"r:id":"rId"+y}),l["!drawing"]=h),l["!comments"].length>0&&(y=qe(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",We.VML),i[i.length]=ae("legacyDrawing",null,{"r:id":"rId"+y}),l["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function sM(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function aM(t,e,r){var n=Q(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=hh(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:t,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var h=-1,d=-1,m=f<<10;m<f+1<<10;++m){c.c=m;var y=Array.isArray(r)?(r[c.r]||[])[c.c]:r[Qe(c)];y&&(h<0&&(h=m),d=m)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,d))}var g=n.l;return n.l=l,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function oM(t,e,r,n){var i=aM(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&re(t,0,i)}var lM=_a,uM=Wo;function cM(){}function fM(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=EF(t),r}function hM(t,e,r){r==null&&(r=Q(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return lh({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),sS(t,r),r.slice(0,r.l)}function dM(t){var e=on(t);return[e]}function pM(t,e,r){return r==null&&(r=Q(8)),pa(e,r)}function mM(t){var e=ma(t);return[e]}function gM(t,e,r){return r==null&&(r=Q(4)),ga(e,r)}function _M(t){var e=on(t),r=t.read_shift(1);return[e,r,"b"]}function vM(t,e,r){return r==null&&(r=Q(9)),pa(e,r),r.write_shift(1,t.v?1:0),r}function yM(t){var e=ma(t),r=t.read_shift(1);return[e,r,"b"]}function xM(t,e,r){return r==null&&(r=Q(5)),ga(e,r),r.write_shift(1,t.v?1:0),r}function EM(t){var e=on(t),r=t.read_shift(1);return[e,r,"e"]}function TM(t,e,r){return r==null&&(r=Q(9)),pa(e,r),r.write_shift(1,t.v),r}function wM(t){var e=ma(t),r=t.read_shift(1);return[e,r,"e"]}function SM(t,e,r){return r==null&&(r=Q(8)),ga(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function AM(t){var e=on(t),r=t.read_shift(4);return[e,r,"s"]}function IM(t,e,r){return r==null&&(r=Q(12)),pa(e,r),r.write_shift(4,e.v),r}function CM(t){var e=ma(t),r=t.read_shift(4);return[e,r,"s"]}function RM(t,e,r){return r==null&&(r=Q(8)),ga(e,r),r.write_shift(4,e.v),r}function PM(t){var e=on(t),r=Ho(t);return[e,r,"n"]}function kM(t,e,r){return r==null&&(r=Q(16)),pa(e,r),aa(t.v,r),r}function NM(t){var e=ma(t),r=Ho(t);return[e,r,"n"]}function DM(t,e,r){return r==null&&(r=Q(12)),ga(e,r),aa(t.v,r),r}function OM(t){var e=on(t),r=aS(t);return[e,r,"n"]}function FM(t,e,r){return r==null&&(r=Q(12)),pa(e,r),oS(t.v,r),r}function LM(t){var e=ma(t),r=aS(t);return[e,r,"n"]}function MM(t,e,r){return r==null&&(r=Q(8)),ga(e,r),oS(t.v,r),r}function VM(t){var e=on(t),r=kg(t);return[e,r,"is"]}function bM(t){var e=on(t),r=mr(t);return[e,r,"str"]}function UM(t,e,r){return r==null&&(r=Q(12+4*t.v.length)),pa(e,r),Kt(t.v,r),r.length>r.l?r.slice(0,r.l):r}function BM(t){var e=ma(t),r=mr(t);return[e,r,"str"]}function jM(t,e,r){return r==null&&(r=Q(8+4*t.v.length)),ga(e,r),Kt(t.v,r),r.length>r.l?r.slice(0,r.l):r}function zM(t,e,r){var n=t.l+e,i=on(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=r0(t,n-t.l,r);a[3]=Po(o,null,i,r.supbooks,r)}else t.l=n;return a}function WM(t,e,r){var n=t.l+e,i=on(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=r0(t,n-t.l,r);a[3]=Po(o,null,i,r.supbooks,r)}else t.l=n;return a}function HM(t,e,r){var n=t.l+e,i=on(t);i.r=r["!row"];var s=Ho(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=r0(t,n-t.l,r);a[3]=Po(o,null,i,r.supbooks,r)}else t.l=n;return a}function $M(t,e,r){var n=t.l+e,i=on(t);i.r=r["!row"];var s=mr(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=r0(t,n-t.l,r);a[3]=Po(o,null,i,r.supbooks,r)}else t.l=n;return a}var GM=_a,KM=Wo;function qM(t,e){return e==null&&(e=Q(4)),e.write_shift(4,t),e}function XM(t,e){var r=t.l+e,n=_a(t),i=Ng(t),s=mr(t),a=mr(t),o=mr(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function YM(t,e){var r=Q(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Wo({s:Gt(t[0]),e:Gt(t[0])},r),Dg("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Kt(i||"",r),Kt(t[1].Tooltip||"",r),Kt("",r),r.slice(0,r.l)}function QM(){}function JM(t,e,r){var n=t.l+e,i=lS(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=B8(t,n-t.l,r);a[1]=o}else t.l=n;return a}function ZM(t,e,r){var n=t.l+e,i=_a(t),s=[i];if(r.cellFormula){var a=z8(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function e5(t,e,r){r==null&&(r=Q(18));var n=n0(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var $S=["left","right","top","bottom","header","footer"];function t5(t){var e={};return $S.forEach(function(r){e[r]=Ho(t)}),e}function r5(t,e){return e==null&&(e=Q(6*8)),WS(t),$S.forEach(function(r){aa(t[r],e)}),e}function n5(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function i5(t,e,r){r==null&&(r=Q(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function s5(t){var e=Q(24);return e.write_shift(4,4),e.write_shift(4,1),Wo(t,e),e}function a5(t,e){return e==null&&(e=Q(16*4+2)),e.write_shift(2,t.password?IS(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function o5(){}function l5(){}function u5(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Lr(e),e.z=e.z||wt[14],e.v=Fr(wr(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=As(i.cellXfs,e,i),e.l&&s["!links"].push([Qe(l),e.l]),e.c&&s["!comments"].push([Qe(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=bg(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?re(t,18,RM(e,l)):re(t,7,IM(e,l))):(l.t="str",a?re(t,17,jM(e,l)):re(t,6,UM(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?re(t,13,MM(e,l)):re(t,2,FM(e,l)):a?re(t,16,DM(e,l)):re(t,5,kM(e,l)),!0;case"b":return l.t="b",a?re(t,15,xM(e,l)):re(t,4,vM(e,l)),!0;case"e":return l.t="e",a?re(t,14,SM(e,l)):re(t,3,TM(e,l)),!0}return a?re(t,12,gM(e,l)):re(t,1,pM(e,l)),!0}function c5(t,e,r,n){var i=ht(e["!ref"]||"A1"),s,a="",o=[];re(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var f=i.s.r;f<=c;++f){a=ir(f),oM(t,e,i,f);var h=!1;if(f<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){f===i.s.r&&(o[d]=pr(d)),s=o[d]+a;var m=l?(e[f]||[])[d]:e[s];if(!m){h=!1;continue}h=u5(t,m,f,d,n,e,h)}}re(t,146)}function f5(t,e){!e||!e["!merges"]||(re(t,177,qM(e["!merges"].length)),e["!merges"].forEach(function(r){re(t,176,KM(r))}),re(t,178))}function h5(t,e){!e||!e["!cols"]||(re(t,390),e["!cols"].forEach(function(r,n){r&&re(t,60,e5(n,r))}),re(t,391))}function d5(t,e){!e||!e["!ref"]||(re(t,648),re(t,649,s5(ht(e["!ref"]))),re(t,650))}function p5(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=qe(r,-1,n[1].Target.replace(/#.*$/,""),We.HLINK);re(t,494,YM(n,i))}}),delete e["!links"]}function m5(t,e,r,n){if(e["!comments"].length>0){var i=qe(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",We.VML);re(t,551,Dg("rId"+i)),e["!legacy"]=i}}function g5(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Dt(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=Gr(s);o.s.r==o.e.r&&(o.e.r=Gr(e["!ref"]).e.r,s=Dt(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),re(t,161,Wo(ht(s))),re(t,162)}}function _5(t,e,r){re(t,133),re(t,137,i5(e,r)),re(t,138),re(t,134)}function v5(t,e){e["!protect"]&&re(t,535,a5(e["!protect"]))}function y5(t,e,r,n){var i=Or(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=ht(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],re(i,129),(r.vbaraw||a["!outline"])&&re(i,147,hM(o,a["!outline"])),re(i,148,uM(l)),_5(i,a,r.Workbook),h5(i,a),c5(i,a,t,e),v5(i,a),g5(i,a,r,t),f5(i,a),p5(i,a,n),a["!margins"]&&re(i,476,r5(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&d5(i,a),m5(i,a,t,n),re(i,130),i.end()}function x5(t,e){t.l+=10;var r=mr(t);return{name:r}}var E5=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function T5(t){return!t.Workbook||!t.Workbook.WBProps?"false":ZO(t.Workbook.WBProps.date1904)?"true":"false"}var w5="][*?/\\".split("");function GS(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return w5.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function S5(t,e,r){t.forEach(function(n,i){GS(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function A5(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];S5(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)K8(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function KS(t){var e=[Ot];e[e.length]=ae("workbook",null,{xmlns:jo[0],"xmlns:r":$t.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(E5.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=ae("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Xe(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=ae("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=ae("definedName",Xe(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function I5(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=kp(t),r.name=mr(t),r}function C5(t,e){return e||(e=Q(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),Dg(t.strRelID,e),Kt(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function R5(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?mr(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function P5(t,e){e||(e=Q(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),sS(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function k5(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=TF(t),a=j8(t,0,r),o=Ng(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function N5(t,e){re(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};re(t,156,C5(i))}re(t,144)}function D5(t,e){e||(e=Q(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Kt("SheetJS",e),Kt(eh.version,e),Kt(eh.version,e),Kt("7262",e),e.length>e.l?e.slice(0,e.l):e}function O5(t,e){e||(e=Q(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function F5(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(re(t,135),re(t,158,O5(i)),re(t,136))}}function L5(t,e){var r=Or();return re(r,131),re(r,128,D5()),re(r,153,P5(t.Workbook&&t.Workbook.WBProps||null)),F5(r,t),N5(r,t),re(r,132),r.end()}function M5(t,e,r){return(e.slice(-4)===".bin"?L5:KS)(t)}function V5(t,e,r,n,i){return(e.slice(-4)===".bin"?y5:HS)(t,r,n,i)}function b5(t,e,r){return(e.slice(-4)===".bin"?rL:PS)(t,r)}function U5(t,e,r){return(e.slice(-4)===".bin"?P6:AS)(t,r)}function B5(t,e,r){return(e.slice(-4)===".bin"?vL:FS)(t)}function j5(t){return(t.slice(-4)===".bin"?cL:DS)()}function z5(t,e){var r=[];return t.Props&&r.push(bF(t.Props,e)),t.Custprops&&r.push(UF(t.Props,t.Custprops)),r.join("")}function W5(){return""}function H5(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(ae("NumberFormat",null,{"ss:Format":Xe(wt[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(ae("Style",s.join(""),a))}),ae("Styles",r.join(""))}function qS(t){return ae("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Mg(t.Ref,{r:0,c:0})})}function $5(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(qS(i)))}return ae("Names",r.join(""))}function G5(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(qS(o)))}return s.join("")}function K5(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(ae("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(ae("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(ae("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(ae("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(rr("ProtectContents","True")),t["!protect"].objects&&i.push(rr("ProtectObjects","True")),t["!protect"].scenarios&&i.push(rr("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(rr("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(rr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":ae("WorksheetOptions",i.join(""),{xmlns:Br.x})}function q5(t){return t.map(function(e){var r=JO(e.t||""),n=ae("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ae("Comment",n,{"ss:Author":e.a})}).join("")}function X5(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Xe(Mg(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Gt(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Xe(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Xe(t.l.Tooltip))),r["!merges"])for(var c=r["!merges"],f=0;f!=c.length;++f)c[f].s.c!=a.c||c[f].s.r!=a.r||(c[f].e.c>c[f].s.c&&(o["ss:MergeAcross"]=c[f].e.c-c[f].s.c),c[f].e.r>c[f].s.r&&(o["ss:MergeDown"]=c[f].e.r-c[f].s.r));var h="",d="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",d=String(t.v);break;case"b":h="Boolean",d=t.v?"1":"0";break;case"e":h="Error",d=$u[t.v];break;case"d":h="DateTime",d=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||wt[14]);break;case"s":h="String",d=QO(t.v||"");break}var m=As(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=a.c+1;var y=t.v!=null?d:"",g=t.t=="z"?"":'<Data ss:Type="'+h+'">'+y+"</Data>";return(t.c||[]).length>0&&(g+=q5(t.c)),ae("Cell",g,o)}function Y5(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=RS(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Q5(t,e,r,n){if(!t["!ref"])return"";var i=ht(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(S,A){Fg(S);var E=!!S.width,w=n0(A,S),V={"ss:Index":A+1};E&&(V["ss:Width"]=ch(w.width)),S.hidden&&(V["ss:Hidden"]="1"),o.push(ae("Column",null,V))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var f=[Y5(c,(t["!rows"]||[])[c])],h=i.s.c;h<=i.e.c;++h){var d=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>h)&&!(s[a].s.r>c)&&!(s[a].e.c<h)&&!(s[a].e.r<c)){(s[a].s.c!=h||s[a].s.r!=c)&&(d=!0);break}if(!d){var m={r:c,c:h},y=Qe(m),g=l?(t[c]||[])[h]:t[y];f.push(X5(g,y,t,e,r,n,m))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function J5(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?G5(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?Q5(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(K5(s,e,t,r)),n.join("")}function Z5(t,e){e||(e={}),t.SSF||(t.SSF=Lr(wt)),t.SSF&&(Jh(),Qh(t.SSF),e.revssf=Zh(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],As(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(z5(t,e)),r.push(W5()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(ae("Worksheet",J5(n,e,t),{"ss:Name":Xe(t.SheetNames[n])}));return r[2]=H5(t,e),r[3]=$5(t),Ot+ae("Workbook",r.join(""),{xmlns:Br.ss,"xmlns:o":Br.o,"xmlns:x":Br.x,"xmlns:ss":Br.ss,"xmlns:dt":Br.dt,"xmlns:html":Br.html})}var sd={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function e9(t,e){var r=[],n=[],i=[],s=0,a,o=fy(Sy,"n"),l=fy(Ay,"n");if(t.Props)for(a=or(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=or(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)vS.indexOf(i[s][0])>-1||mS.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);n.length&&Je.utils.cfb_add(e,"/SummaryInformation",ky(n,sd.SI,l,Ay)),(r.length||c.length)&&Je.utils.cfb_add(e,"/DocumentSummaryInformation",ky(r,sd.DSI,o,Sy,c.length?c:null,sd.UDI))}function t9(t,e){var r=e||{},n=Je.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Je.utils.cfb_add(n,i,XS(t,r)),r.biff==8&&(t.Props||t.Custprops)&&e9(t,n),r.biff==8&&t.vbaraw&&yL(n,Je.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var r9={0:{f:sM},1:{f:dM},2:{f:OM},3:{f:EM},4:{f:_M},5:{f:PM},6:{f:bM},7:{f:AM},8:{f:$M},9:{f:HM},10:{f:zM},11:{f:WM},12:{f:mM},13:{f:LM},14:{f:wM},15:{f:yM},16:{f:NM},17:{f:BM},18:{f:CM},19:{f:kg},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:k5},40:{},42:{},43:{f:b6},44:{f:M6},45:{f:j6},46:{f:W6},47:{f:z6},48:{},49:{f:mF},50:{},51:{f:sL},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:g6},62:{f:VM},63:{f:fL},64:{f:o5},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Kn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:n5},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:fM},148:{f:lM,p:16},151:{f:QM},152:{},153:{f:R5},154:{},155:{},156:{f:I5},157:{},158:{},159:{T:1,f:I6},160:{T:-1},161:{T:1,f:_a},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:GM},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:nL},336:{T:-1},337:{f:lL,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:kp},357:{},358:{},359:{},360:{T:1},361:{},362:{f:c6},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:JM},427:{f:ZM},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:t5},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:cM},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:XM},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:kp},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:gL},633:{T:1},634:{T:-1},635:{T:1,f:pL},636:{T:-1},637:{f:yF},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:x5},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:l5},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function oe(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&Cg(r)&&t.push(r)}}function n9(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return oe(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var f=t.next(4);for(f.write_shift(2,s),f.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c;l<i;){for(f=t.next(4),f.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;f.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c}}}function Ku(t,e,r){return t||(t=Q(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function i9(t,e,r,n){var i=Q(9);return Ku(i,t,e),xS(r,n||"b",i),i}function s9(t,e,r){var n=Q(8+2*r.length);return Ku(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function a9(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Fr(wr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?oe(t,2,x6(r,n,i)):oe(t,3,y6(r,n,i));return;case"b":case"e":oe(t,5,i9(r,n,e.v,e.t));return;case"s":case"str":oe(t,4,s9(r,n,(e.v||"").slice(0,255)));return}oe(t,1,Ku(null,r,n))}function o9(t,e,r,n){var i=Array.isArray(e),s=ht(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Dt(s)}for(var c=s.s.r;c<=s.e.r;++c){o=ir(c);for(var f=s.s.c;f<=s.e.c;++f){c===s.s.r&&(l[f]=pr(f)),a=l[f]+o;var h=i?(e[c]||[])[f]:e[a];h&&a9(t,h,c,f)}}}function l9(t,e){for(var r=e||{},n=Or(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return oe(n,r.biff==4?1033:r.biff==3?521:9,Og(t,16,r)),o9(n,t.Sheets[t.SheetNames[i]],i,r),oe(n,10),n.end()}function u9(t,e,r){oe(t,49,r6({sz:12,name:"Arial"},r))}function c9(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&oe(t,1054,s6(i,e[i],r))})}function f9(t,e){var r=Q(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),oe(t,2151,r),r=Q(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),wS(ht(e["!ref"]||"A1"),r),r.write_shift(4,4),oe(t,2152,r)}function h9(t,e){for(var r=0;r<16;++r)oe(t,224,Dy({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){oe(t,224,Dy(n,0,e))})}function d9(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];oe(t,440,d6(n)),n[1].Tooltip&&oe(t,2048,p6(n))}delete e["!links"]}function p9(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&oe(t,125,_6(n0(i,n),i))})}}function m9(t,e,r,n,i){var s=16+As(i.cellXfs,e,i);if(e.v==null&&!e.bf){oe(t,513,oa(r,n,s));return}if(e.bf)oe(t,6,U8(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?Fr(wr(e.v)):e.v;oe(t,515,u6(r,n,a,s));break;case"b":case"e":oe(t,517,l6(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=bg(i.Strings,e.v,i.revStrings);oe(t,253,n6(r,n,o,s))}else oe(t,516,i6(r,n,(e.v||"").slice(0,255),s,i));break;default:oe(t,513,oa(r,n,s))}}function g9(t,e,r){var n=Or(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,f,h="",d=[],m=ht(s["!ref"]||"A1"),y=c?65536:16384;if(m.e.c>255||m.e.r>=y){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}oe(n,2057,Og(r,16,e)),oe(n,13,Qr(1)),oe(n,12,Qr(100)),oe(n,15,Er(!0)),oe(n,17,Er(!1)),oe(n,16,aa(.001)),oe(n,95,Er(!0)),oe(n,42,Er(!1)),oe(n,43,Er(!1)),oe(n,130,Qr(1)),oe(n,128,o6()),oe(n,131,Er(!1)),oe(n,132,Er(!1)),c&&p9(n,s["!cols"]),oe(n,512,a6(m,e)),c&&(s["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){h=ir(g);for(var S=m.s.c;S<=m.e.c;++S){g===m.s.r&&(d[S]=pr(S)),f=d[S]+h;var A=l?(s[g]||[])[S]:s[f];A&&(m9(n,A,g,S,e),c&&A.l&&s["!links"].push([f,A.l]))}}var E=o.CodeName||o.name||i;return c&&oe(n,574,t6((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&oe(n,229,h6(s["!merges"])),c&&d9(n,s),oe(n,442,TS(E)),c&&f9(n,s),oe(n,10),n.end()}function _9(t,e,r){var n=Or(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(oe(n,2057,Og(t,5,r)),r.bookType=="xla"&&oe(n,135),oe(n,225,o?Qr(1200):null),oe(n,193,zF(2)),l&&oe(n,191),l&&oe(n,192),oe(n,226),oe(n,92,QF("SheetJS",r)),oe(n,66,Qr(o?1200:1252)),o&&oe(n,353,Qr(0)),o&&oe(n,448),oe(n,317,v6(t.SheetNames.length)),o&&t.vbaraw&&oe(n,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";oe(n,442,TS(c))}oe(n,156,Qr(17)),oe(n,25,Er(!1)),oe(n,18,Er(!1)),oe(n,19,Qr(0)),o&&oe(n,431,Er(!1)),o&&oe(n,444,Qr(0)),oe(n,61,e6()),oe(n,64,Er(!1)),oe(n,141,Qr(0)),oe(n,34,Er(T5(t)=="true")),oe(n,14,Er(!0)),o&&oe(n,439,Er(!1)),oe(n,218,Qr(0)),u9(n,t,r),c9(n,t.SSF,r),h9(n,r),o&&oe(n,352,Er(!1));var f=n.end(),h=Or();o&&oe(h,140,m6()),o&&r.Strings&&n9(h,252,ZF(r.Strings)),oe(h,10);var d=h.end(),m=Or(),y=0,g=0;for(g=0;g<t.SheetNames.length;++g)y+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var S=f.length+y+d.length;for(g=0;g<t.SheetNames.length;++g){var A=s[g]||{};oe(m,133,JF({pos:S,hs:A.Hidden||0,dt:0,name:t.SheetNames[g]},r)),S+=e[g].length}var E=m.end();if(y!=E.length)throw new Error("BS8 "+y+" != "+E.length);var w=[];return f.length&&w.push(f),E.length&&w.push(E),d.length&&w.push(d),tr(w)}function v9(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Lr(wt)),t&&t.SSF&&(Jh(),Qh(t.SSF),r.revssf=Zh(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Ug(r),r.cellXfs=[],As(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=g9(i,r,t);return n.unshift(_9(t,n,r)),tr(n)}function XS(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Gr(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return v9(t,e);case 4:case 3:case 2:return l9(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function y9(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>a)&&!(i[c].e.r<r||i[c].e.c<a)){if(i[c].s.r<r||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var f=Qe({r,c:a}),h=n.dense?(t[r]||[])[a]:t[f],d=h&&h.v!=null&&(h.h||YO(h.w||(_i(h),h.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":h&&(m["data-t"]=h&&h.t||"z",h.v!=null&&(m["data-v"]=h.v),h.z!=null&&(m["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+h.l.Target+'">'+d+"</a>")),m.id=(n.id||"sjs")+"-"+f,s.push(ae("td",d,m))}}var y="<tr>";return y+s.join("")+"</tr>"}var x9='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',E9="</body></html>";function T9(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function YS(t,e){var r=e||{},n=r.header!=null?r.header:x9,i=r.footer!=null?r.footer:E9,s=[n],a=Gr(t["!ref"]);r.dense=Array.isArray(t),s.push(T9(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(y9(t,a,o,r));return s.push("</table>"+i),s.join("")}function QS(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?Gt(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var f=Gr(t["!ref"]);c.s.r=Math.min(c.s.r,f.s.r),c.s.c=Math.min(c.s.c,f.s.c),c.e.r=Math.max(c.e.r,f.e.r),c.e.c=Math.max(c.e.c,f.e.c),i==-1&&(c.e.r=i=f.e.r+1)}var h=[],d=0,m=t["!rows"]||(t["!rows"]=[]),y=0,g=0,S=0,A=0,E=0,w=0;for(t["!cols"]||(t["!cols"]=[]);y<o.length&&g<l;++y){var V=o[y];if(Uy(V)){if(n.display)continue;m[g]={hidden:!0}}var j=V.children;for(S=A=0;S<j.length;++S){var W=j[S];if(!(n.display&&Uy(W))){var x=W.hasAttribute("data-v")?W.getAttribute("data-v"):W.hasAttribute("v")?W.getAttribute("v"):eF(W.innerHTML),v=W.getAttribute("data-z")||W.getAttribute("z");for(d=0;d<h.length;++d){var T=h[d];T.s.c==A+s&&T.s.r<g+i&&g+i<=T.e.r&&(A=T.e.c+1-s,d=-1)}w=+W.getAttribute("colspan")||1,((E=+W.getAttribute("rowspan")||1)>1||w>1)&&h.push({s:{r:g+i,c:A+s},e:{r:g+i+(E||1)-1,c:A+s+(w||1)-1}});var C={t:"s",v:x},P=W.getAttribute("data-t")||W.getAttribute("t")||"";x!=null&&(x.length==0?C.t=P||"z":n.raw||x.trim().length==0||P=="s"||(x==="TRUE"?C={t:"b",v:!0}:x==="FALSE"?C={t:"b",v:!1}:isNaN(ai(x))?isNaN(xu(x).getDate())||(C={t:"d",v:wr(x)},n.cellDates||(C={t:"n",v:Fr(C.v)}),C.z=n.dateNF||wt[14]):C={t:"n",v:ai(x)})),C.z===void 0&&v!=null&&(C.z=v);var L="",N=W.getElementsByTagName("A");if(N&&N.length)for(var Re=0;Re<N.length&&!(N[Re].hasAttribute("href")&&(L=N[Re].getAttribute("href"),L.charAt(0)!="#"));++Re);L&&L.charAt(0)!="#"&&(C.l={Target:L}),n.dense?(t[g+i]||(t[g+i]=[]),t[g+i][A+s]=C):t[Qe({c:A+s,r:g+i})]=C,c.e.c<A+s&&(c.e.c=A+s),A+=w}}++g}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,g-1+i),t["!ref"]=Dt(c),g>=l&&(t["!fullref"]=Dt((c.e.r=o.length-y+g-1+i,c))),t}function JS(t,e){var r=e||{},n=r.dense?[]:{};return QS(n,t,e)}function w9(t,e){return da(JS(t,e),e)}function Uy(t){var e="",r=S9(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function S9(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var A9=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Tu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Ot+e}}(),By=function(){var t=function(s){return Xe(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Xe(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,f=0,h=Gr(s["!ref"]||"A1"),d=s["!merges"]||[],m=0,y=Array.isArray(s);if(s["!cols"])for(f=0;f<=h.e.c;++f)l.push("        <table:table-column"+(s["!cols"][f]?' table:style-name="co'+s["!cols"][f].ods+'"':"")+`></table:table-column>
`);var g="",S=s["!rows"]||[];for(c=0;c<h.s.r;++c)g=S[c]?' table:style-name="ro'+S[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=h.e.r;++c){for(g=S[c]?' table:style-name="ro'+S[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),f=0;f<h.s.c;++f)l.push(e);for(;f<=h.e.c;++f){var A=!1,E={},w="";for(m=0;m!=d.length;++m)if(!(d[m].s.c>f)&&!(d[m].s.r>c)&&!(d[m].e.c<f)&&!(d[m].e.r<c)){(d[m].s.c!=f||d[m].s.r!=c)&&(A=!0),E["table:number-columns-spanned"]=d[m].e.c-d[m].s.c+1,E["table:number-rows-spanned"]=d[m].e.r-d[m].s.r+1;break}if(A){l.push(r);continue}var V=Qe({r:c,c:f}),j=y?(s[c]||[])[f]:s[V];if(j&&j.f&&(E["table:formula"]=Xe($8(j.f)),j.F&&j.F.slice(0,V.length)==V)){var W=Gr(j.F);E["table:number-matrix-columns-spanned"]=W.e.c-W.s.c+1,E["table:number-matrix-rows-spanned"]=W.e.r-W.s.r+1}if(!j){l.push(e);continue}switch(j.t){case"b":w=j.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=j.v?"true":"false";break;case"n":w=j.w||String(j.v||0),E["office:value-type"]="float",E["office:value"]=j.v||0;break;case"s":case"str":w=j.v==null?"":j.v,E["office:value-type"]="string";break;case"d":w=j.w||wr(j.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=wr(j.v).toISOString(),E["table:style-name"]="ce1";break;default:l.push(e);continue}var x=t(w);if(j.l&&j.l.Target){var v=j.l.Target;v=v.charAt(0)=="#"?"#"+G8(v.slice(1)):v,v.charAt(0)!="#"&&!v.match(/^\w+:/)&&(v="../"+v),x=ae("text:a",x,{"xlink:href":v.replace(/&/g,"&amp;")})}l.push("          "+ae("table:table-cell",ae("text:p",x,{}),E)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var f=0;f<c["!cols"].length;++f)if(c["!cols"][f]){var h=c["!cols"][f];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Fg(h),h.ods=o;var d=c["!cols"][f].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var f=0;f<c["!rows"].length;++f)if(c["!rows"][f]){c["!rows"][f].ods=l;var h=c["!rows"][f].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Ot],c=Tu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Tu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+f+`>
`),l.push(dS().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=a.SheetNames.length;++h)l.push(n(a.Sheets[a.SheetNames[h]],a,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function ZS(t,e){if(e.bookType=="fods")return By(t,e);var r=wg(),n="",i=[],s=[];return n="mimetype",Oe(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Oe(r,n,By(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Oe(r,n,A9(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Oe(r,n,Ot+dS()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Oe(r,n,VF(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Oe(r,n,LF(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function dh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function I9(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):vn(Eu(t))}function C9(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function vs(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function R9(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function wu(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Ke(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function ho(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Vt(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=wu(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=wu(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function Yt(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Ke(n*8+i.type)),i.type==2&&e.push(Ke(i.data.length)),e.push(i.data))})}),vs(e)}function dn(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=wu(t,n),s=Vt(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:ho(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Vt(o.data),c=ho(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=ho(s[3][0].data)>>>0>0),r.push(a)}return r}function ka(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Ke(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ke(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:Ke(a.data.length)}],n[2].push({data:Yt(a.meta),type:2})});var s=Yt(n);e.push(Ke(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),vs(e)}function P9(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=wu(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[vs(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var f=vs(i);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function pn(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(P9(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return vs(e)}function Na(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=Ke(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return vs(e)}function ad(t,e){var r=new Uint8Array(32),n=dh(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,R9(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function od(t,e){var r=new Uint8Array(32),n=dh(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function Fi(t){var e=Vt(t);return wu(e[1][0].data)}function k9(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&ho(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=dh(t[7][0].data),f=0,h=[],d=dh(t[4][0].data),m=0,y=[],g=0;g<e.length;++g){if(e[g]==null){c.setUint16(g*2,65535,!0),d.setUint16(g*2,65535);continue}c.setUint16(g*2,f,!0),d.setUint16(g*2,m,!0);var S,A;switch(typeof e[g]){case"string":S=ad({t:"s",v:e[g]},r),A=od({t:"s",v:e[g]},r);break;case"number":S=ad({t:"n",v:e[g]},r),A=od({t:"n",v:e[g]},r);break;case"boolean":S=ad({t:"b",v:e[g]},r),A=od({t:"b",v:e[g]},r);break;default:throw new Error("Unsupported value "+e[g])}h.push(S),f+=S.length,y.push(A),m+=A.length,++l}for(t[2][0].data=Ke(l);g<t[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),d.setUint16(g*2,65535,!0);return t[6][0].data=vs(h),t[3][0].data=vs(y),l}function N9(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Gr(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Dt(n)));var s=ph(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(X){return X.forEach(function(B){typeof B=="string"&&a.push(B)})});var o={},l=[],c=Je.read(e.numbers,{type:"base64"});c.FileIndex.map(function(X,B){return[X,c.FullPaths[B]]}).forEach(function(X){var B=X[0],U=X[1];if(B.type==2&&B.name.match(/\.iwa/)){var Z=B.content,ge=pn(Z),Te=dn(ge);Te.forEach(function(Ee){l.push(Ee.id),o[Ee.id]={deps:[],location:U,type:ho(Ee.messages[0].meta[1][0].data)}})}}),l.sort(function(X,B){return X-B});var f=l.filter(function(X){return X>1}).map(function(X){return[X,Ke(X)]});c.FileIndex.map(function(X,B){return[X,c.FullPaths[B]]}).forEach(function(X){var B=X[0];if(X[1],!!B.name.match(/\.iwa/)){var U=dn(pn(B.content));U.forEach(function(Z){Z.messages.forEach(function(ge){f.forEach(function(Te){Z.messages.some(function(Ee){return ho(Ee.meta[1][0].data)!=11006&&C9(Ee.data,Te[1])})&&o[Te[0]].deps.push(Z.id)})})})}});for(var h=Je.find(c,o[1].location),d=dn(pn(h.content)),m,y=0;y<d.length;++y){var g=d[y];g.id==1&&(m=g)}var S=Fi(Vt(m.messages[0].data)[1][0].data);for(h=Je.find(c,o[S].location),d=dn(pn(h.content)),y=0;y<d.length;++y)g=d[y],g.id==S&&(m=g);for(S=Fi(Vt(m.messages[0].data)[2][0].data),h=Je.find(c,o[S].location),d=dn(pn(h.content)),y=0;y<d.length;++y)g=d[y],g.id==S&&(m=g);for(S=Fi(Vt(m.messages[0].data)[2][0].data),h=Je.find(c,o[S].location),d=dn(pn(h.content)),y=0;y<d.length;++y)g=d[y],g.id==S&&(m=g);var A=Vt(m.messages[0].data);{A[6][0].data=Ke(n.e.r+1),A[7][0].data=Ke(n.e.c+1);var E=Fi(A[46][0].data),w=Je.find(c,o[E].location),V=dn(pn(w.content));{for(var j=0;j<V.length&&V[j].id!=E;++j);if(V[j].id!=E)throw"Bad ColumnRowUIDMapArchive";var W=Vt(V[j].messages[0].data);W[1]=[],W[2]=[],W[3]=[];for(var x=0;x<=n.e.c;++x){var v=[];v[1]=v[2]=[{type:0,data:Ke(x+420690)}],W[1].push({type:2,data:Yt(v)}),W[2].push({type:0,data:Ke(x)}),W[3].push({type:0,data:Ke(x)})}W[4]=[],W[5]=[],W[6]=[];for(var T=0;T<=n.e.r;++T)v=[],v[1]=v[2]=[{type:0,data:Ke(T+726270)}],W[4].push({type:2,data:Yt(v)}),W[5].push({type:0,data:Ke(T)}),W[6].push({type:0,data:Ke(T)});V[j].messages[0].data=Yt(W)}w.content=Na(ka(V)),w.size=w.content.length,delete A[46];var C=Vt(A[4][0].data);{C[7][0].data=Ke(n.e.r+1);var P=Vt(C[1][0].data),L=Fi(P[2][0].data);w=Je.find(c,o[L].location),V=dn(pn(w.content));{if(V[0].id!=L)throw"Bad HeaderStorageBucket";var N=Vt(V[0].messages[0].data);for(T=0;T<s.length;++T){var Re=Vt(N[2][0].data);Re[1][0].data=Ke(T),Re[4][0].data=Ke(s[T].length),N[2][T]={type:N[2][0].type,data:Yt(Re)}}V[0].messages[0].data=Yt(N)}w.content=Na(ka(V)),w.size=w.content.length;var Ae=Fi(C[2][0].data);w=Je.find(c,o[Ae].location),V=dn(pn(w.content));{if(V[0].id!=Ae)throw"Bad HeaderStorageBucket";for(N=Vt(V[0].messages[0].data),x=0;x<=n.e.c;++x)Re=Vt(N[2][0].data),Re[1][0].data=Ke(x),Re[4][0].data=Ke(n.e.r+1),N[2][x]={type:N[2][0].type,data:Yt(Re)};V[0].messages[0].data=Yt(N)}w.content=Na(ka(V)),w.size=w.content.length;var pt=Fi(C[4][0].data);(function(){for(var X=Je.find(c,o[pt].location),B=dn(pn(X.content)),U,Z=0;Z<B.length;++Z){var ge=B[Z];ge.id==pt&&(U=ge)}var Te=Vt(U.messages[0].data);{Te[3]=[];var Ee=[];a.forEach(function(Me,Ft){Ee[1]=[{type:0,data:Ke(Ft)}],Ee[2]=[{type:0,data:Ke(1)}],Ee[3]=[{type:2,data:I9(Me)}],Te[3].push({type:2,data:Yt(Ee)})})}U.messages[0].data=Yt(Te);var fe=ka(B),Ge=Na(fe);X.content=Ge,X.size=X.content.length})();var et=Vt(C[3][0].data);{var ue=et[1][0];delete et[2];var xe=Vt(ue.data);{var Se=Fi(xe[2][0].data);(function(){for(var X=Je.find(c,o[Se].location),B=dn(pn(X.content)),U,Z=0;Z<B.length;++Z){var ge=B[Z];ge.id==Se&&(U=ge)}var Te=Vt(U.messages[0].data);{delete Te[6],delete et[7];var Ee=new Uint8Array(Te[5][0].data);Te[5]=[];for(var fe=0,Ge=0;Ge<=n.e.r;++Ge){var Me=Vt(Ee);fe+=k9(Me,s[Ge],a),Me[1][0].data=Ke(Ge),Te[5].push({data:Yt(Me),type:2})}Te[1]=[{type:0,data:Ke(n.e.c+1)}],Te[2]=[{type:0,data:Ke(n.e.r+1)}],Te[3]=[{type:0,data:Ke(fe)}],Te[4]=[{type:0,data:Ke(n.e.r+1)}]}U.messages[0].data=Yt(Te);var Ft=ka(B),je=Na(Ft);X.content=je,X.size=X.content.length})()}ue.data=Yt(xe)}C[3][0].data=Yt(et)}A[4][0].data=Yt(C)}m.messages[0].data=Yt(A);var Fe=ka(d),b=Na(Fe);return h.content=b,h.size=h.content.length,c}function D9(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Ug(t){D9([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function O9(t,e){return e.bookType=="ods"?ZS(t,e):e.bookType=="numbers"?N9(t,e):e.bookType=="xlsb"?F9(t,e):L9(t,e)}function F9(t,e){Ya=1024,t&&!t.SSF&&(t.SSF=Lr(wt)),t&&t.SSF&&(Jh(),Qh(t.SSF),e.revssf=Zh(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Hl?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=LS.indexOf(e.bookType)>-1,i=cS();Ug(e=e||{});var s=wg(),a="",o=0;if(e.cellXfs=[],As(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Oe(s,a,pS(t.Props,e)),i.coreprops.push(a),qe(e.rels,2,a,We.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Oe(s,a,gS(t.Props)),i.extprops.push(a),qe(e.rels,3,a,We.EXT_PROPS),t.Custprops!==t.Props&&or(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Oe(s,a,_S(t.Custprops)),i.custprops.push(a),qe(e.rels,4,a,We.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],d=(h||{})["!type"]||"sheet";switch(d){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Oe(s,a,V5(o-1,a,e,t,f)),i.sheets.push(a),qe(e.wbrels,-1,"worksheets/sheet"+o+"."+r,We.WS[0])}if(h){var m=h["!comments"],y=!1,g="";m&&m.length>0&&(g="xl/comments"+o+"."+r,Oe(s,g,B5(m,g)),i.comments.push(g),qe(f,-1,"../comments"+o+"."+r,We.CMNT),y=!0),h["!legacy"]&&y&&Oe(s,"xl/drawings/vmlDrawing"+o+".vml",OS(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Oe(s,hS(a),co(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Oe(s,a,U5(e.Strings,a,e)),i.strs.push(a),qe(e.wbrels,-1,"sharedStrings."+r,We.SST)),a="xl/workbook."+r,Oe(s,a,M5(t,a)),i.workbooks.push(a),qe(e.rels,1,a,We.WB),a="xl/theme/theme1.xml",Oe(s,a,NS(t.Themes,e)),i.themes.push(a),qe(e.wbrels,-1,"theme/theme1.xml",We.THEME),a="xl/styles."+r,Oe(s,a,b5(t,a,e)),i.styles.push(a),qe(e.wbrels,-1,"styles."+r,We.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Oe(s,a,t.vbaraw),i.vba.push(a),qe(e.wbrels,-1,"vbaProject.bin",We.VBA)),a="xl/metadata."+r,Oe(s,a,j5(a)),i.metadata.push(a),qe(e.wbrels,-1,"metadata."+r,We.XLMETA),Oe(s,"[Content_Types].xml",fS(i,e)),Oe(s,"_rels/.rels",co(e.rels)),Oe(s,"xl/_rels/workbook."+r+".rels",co(e.wbrels)),delete e.revssf,delete e.ssf,s}function L9(t,e){Ya=1024,t&&!t.SSF&&(t.SSF=Lr(wt)),t&&t.SSF&&(Jh(),Qh(t.SSF),e.revssf=Zh(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Hl?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=LS.indexOf(e.bookType)>-1,i=cS();Ug(e=e||{});var s=wg(),a="",o=0;if(e.cellXfs=[],As(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Oe(s,a,pS(t.Props,e)),i.coreprops.push(a),qe(e.rels,2,a,We.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Oe(s,a,gS(t.Props)),i.extprops.push(a),qe(e.rels,3,a,We.EXT_PROPS),t.Custprops!==t.Props&&or(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Oe(s,a,_S(t.Custprops)),i.custprops.push(a),qe(e.rels,4,a,We.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],m=(d||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Oe(s,a,HS(o-1,e,t,h)),i.sheets.push(a),qe(e.wbrels,-1,"worksheets/sheet"+o+"."+r,We.WS[0])}if(d){var y=d["!comments"],g=!1,S="";if(y&&y.length>0){var A=!1;y.forEach(function(E){E[1].forEach(function(w){w.T==!0&&(A=!0)})}),A&&(S="xl/threadedComments/threadedComment"+o+"."+r,Oe(s,S,hL(y,f,e)),i.threadedcomments.push(S),qe(h,-1,"../threadedComments/threadedComment"+o+"."+r,We.TCMNT)),S="xl/comments"+o+"."+r,Oe(s,S,FS(y)),i.comments.push(S),qe(h,-1,"../comments"+o+"."+r,We.CMNT),g=!0}d["!legacy"]&&g&&Oe(s,"xl/drawings/vmlDrawing"+o+".vml",OS(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}h["!id"].rId1&&Oe(s,hS(a),co(h))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Oe(s,a,AS(e.Strings,e)),i.strs.push(a),qe(e.wbrels,-1,"sharedStrings."+r,We.SST)),a="xl/workbook."+r,Oe(s,a,KS(t)),i.workbooks.push(a),qe(e.rels,1,a,We.WB),a="xl/theme/theme1.xml",Oe(s,a,NS(t.Themes,e)),i.themes.push(a),qe(e.wbrels,-1,"theme/theme1.xml",We.THEME),a="xl/styles."+r,Oe(s,a,PS(t,e)),i.styles.push(a),qe(e.wbrels,-1,"styles."+r,We.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Oe(s,a,t.vbaraw),i.vba.push(a),qe(e.wbrels,-1,"vbaProject.bin",We.VBA)),a="xl/metadata."+r,Oe(s,a,DS()),i.metadata.push(a),qe(e.wbrels,-1,"metadata."+r,We.XLMETA),f.length>1&&(a="xl/persons/person.xml",Oe(s,a,dL(f)),i.people.push(a),qe(e.wbrels,-1,"persons/person.xml",We.PEOPLE)),Oe(s,"[Content_Types].xml",fS(i,e)),Oe(s,"_rels/.rels",co(e.rels)),Oe(s,"xl/_rels/workbook."+r+".rels",co(e.wbrels)),delete e.revssf,delete e.ssf,s}function M9(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=gi(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function eA(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Wu(e.file,Je.write(t,{type:He?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Je.write(t,e)}function V9(t,e){var r=Lr(e||{}),n=O9(t,r);return b9(n,r)}function b9(t,e){var r={},n=He?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Je.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Yh(i))}return e.password&&typeof encrypt_agile<"u"?eA(encrypt_agile(i,e.password),e):e.type==="file"?Wu(e.file,i):e.type=="string"?Bl(i):i}function U9(t,e){var r=e||{},n=t9(t,r);return eA(n,r)}function Fn(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return yu(Eu(n));case"binary":return Eu(n);case"string":return t;case"file":return Wu(e.file,n,"utf8");case"buffer":return He?Ti(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Fn(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function B9(t,e){switch(e.type){case"base64":return yu(t);case"binary":return t;case"string":return t;case"file":return Wu(e.file,t,"binary");case"buffer":return He?Ti(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Vc(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?yu(r):e.type=="string"?Bl(r):r;case"file":return Wu(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function tA(t,e){pO(),A5(t);var r=Lr(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=tA(t,r);return r.type="array",Yh(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Fn(Z5(t,r),r);case"slk":case"sylk":return Fn(T6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Fn(YS(t.Sheets[t.SheetNames[i]],r),r);case"txt":return B9(rA(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Fn(Bg(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Fn(w6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Vc(E6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Fn(S6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Fn(N6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Fn(SS.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Fn(ZS(t,r),r);case"wk1":return Vc(Oy.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Vc(Oy.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Vc(XS(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),U9(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return V9(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function j9(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function z9(t,e,r){var n={};return n.type="file",n.file=e,j9(n),tA(t,n)}function W9(t,e,r,n,i,s,a,o){var l=ir(r),c=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!a||t[r])for(var m=e.s.c;m<=e.e.c;++m){var y=a?t[r][m]:t[n[m]+l];if(y===void 0||y.t===void 0){if(c===void 0)continue;s[m]!=null&&(d[s[m]]=c);continue}var g=y.v;switch(y.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[m]!=null){if(g==null)if(y.t=="e"&&g===null)d[s[m]]=null;else if(c!==void 0)d[s[m]]=c;else if(f&&g===null)d[s[m]]=null;else continue;else d[s[m]]=f&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?g:_i(y,g,o);g!=null&&(h=!1)}}return{row:d,isempty:h}}function ph(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},f=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof f){case"string":l=ht(f);break;case"number":l=ht(t["!ref"]),l.s.r=f;break;default:l=f}n>0&&(i=0);var h=ir(l.s.r),d=[],m=[],y=0,g=0,S=Array.isArray(t),A=l.s.r,E=0,w={};S&&!t[A]&&(t[A]=[]);var V=c.skipHidden&&t["!cols"]||[],j=c.skipHidden&&t["!rows"]||[];for(E=l.s.c;E<=l.e.c;++E)if(!(V[E]||{}).hidden)switch(d[E]=pr(E),r=S?t[A][E]:t[d[E]+h],n){case 1:s[E]=E-l.s.c;break;case 2:s[E]=d[E];break;case 3:s[E]=c.header[E-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=_i(r,null,c),g=w[a]||0,!g)w[a]=1;else{do o=a+"_"+g++;while(w[o]);w[a]=g,w[o]=1}s[E]=o}for(A=l.s.r+i;A<=l.e.r;++A)if(!(j[A]||{}).hidden){var W=W9(t,l,A,d,n,s,S,c);(W.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(m[y++]=W.row)}return m.length=y,m}var jy=/"/g;function H9(t,e,r,n,i,s,a,o){for(var l=!0,c=[],f="",h=ir(r),d=e.s.c;d<=e.e.c;++d)if(n[d]){var m=o.dense?(t[r]||[])[d]:t[n[d]+h];if(m==null)f="";else if(m.v!=null){l=!1,f=""+(o.rawNumbers&&m.t=="n"?m.v:_i(m,null,o));for(var y=0,g=0;y!==f.length;++y)if((g=f.charCodeAt(y))===i||g===s||g===34||o.forceQuotes){f='"'+f.replace(jy,'""')+'"';break}f=="ID"&&(f='"ID"')}else m.f!=null&&!m.F?(l=!1,f="="+m.f,f.indexOf(",")>=0&&(f='"'+f.replace(jy,'""')+'"')):f="";c.push(f)}return o.blankrows===!1&&l?null:c.join(a)}function Bg(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=ht(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),f="",h=[];n.dense=Array.isArray(t);for(var d=n.skipHidden&&t["!cols"]||[],m=n.skipHidden&&t["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(d[y]||{}).hidden||(h[y]=pr(y));for(var g=0,S=i.s.r;S<=i.e.r;++S)(m[S]||{}).hidden||(f=H9(t,i,S,h,a,l,s,n),f!=null&&(n.strip&&(f=f.replace(c,"")),(f||n.blankrows!==!1)&&r.push((g++?o:"")+f)));return delete n.dense,r.join("")}function rA(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Bg(t,e);return r}function $9(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=ht(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=pr(o);for(var f=i.s.r;f<=i.e.r;++f)for(s=ir(f),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=c?(t[f]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function nA(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Gt(n.origin):n.origin;a=l.r,o=l.c}var c,f={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var h=ht(s["!ref"]);f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),a==-1&&(a=h.e.r+1,f.e.r=a+e.length-1+i)}else a==-1&&(a=0,f.e.r=e.length-1+i);var d=n.header||[],m=0;e.forEach(function(g,S){or(g).forEach(function(A){(m=d.indexOf(A))==-1&&(d[m=d.length]=A);var E=g[A],w="z",V="",j=Qe({c:o+m,r:a+S+i});c=Su(s,j),E&&typeof E=="object"&&!(E instanceof Date)?s[j]=E:(typeof E=="number"?w="n":typeof E=="boolean"?w="b":typeof E=="string"?w="s":E instanceof Date?(w="d",n.cellDates||(w="n",E=Fr(E)),V=n.dateNF||wt[14]):E===null&&n.nullError&&(w="e",E=0),c?(c.t=w,c.v=E,delete c.w,delete c.R,V&&(c.z=V)):s[j]=c={t:w,v:E},V&&(c.z=V))})}),f.e.c=Math.max(f.e.c,o+d.length-1);var y=ir(a);if(i)for(m=0;m<d.length;++m)s[pr(m+o)+y]={t:"s",v:d[m]};return s["!ref"]=Dt(f),s}function G9(t,e){return nA(null,t,e)}function Su(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Gt(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Su(t,Qe(e)):Su(t,Qe({r:e,c:r||0}))}function K9(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function q9(){return{SheetNames:[],Sheets:{}}}function X9(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(GS(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function Y9(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=K9(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function Q9(t,e){return t.z=e,t}function iA(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function J9(t,e,r){return iA(t,"#"+e,r)}function Z9(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function eV(t,e,r,n){for(var i=typeof e!="string"?e:ht(e),s=typeof e=="string"?e:Dt(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=Su(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var ld={encode_col:pr,encode_row:ir,encode_cell:Qe,encode_range:Dt,decode_col:Pg,decode_row:Rg,split_cell:pF,decode_cell:Gt,decode_range:Gr,format_cell:_i,sheet_add_aoa:iS,sheet_add_json:nA,sheet_add_dom:QS,aoa_to_sheet:zo,json_to_sheet:G9,table_to_sheet:JS,table_to_book:w9,sheet_to_csv:Bg,sheet_to_txt:rA,sheet_to_json:ph,sheet_to_html:YS,sheet_to_formulae:$9,sheet_to_row_object_array:ph,sheet_get_cell:Su,book_new:q9,book_append_sheet:X9,book_set_sheet_visibility:Y9,cell_set_number_format:Q9,cell_set_hyperlink:iA,cell_set_internal_link:J9,cell_add_comment:Z9,sheet_set_array_formula:eV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function tV(){const[t,e]=Ze.useState([]),[r,n]=Ze.useState([]),[i,s]=Ze.useState(""),[a,o]=Ze.useState(""),[l,c]=Ze.useState(""),[f,h]=Ze.useState(""),[d,m]=Ze.useState(""),[y,g]=Ze.useState(!1),S=Qf(Vs,"reservas"),A=Qf(Vs,"bloqueos");Ze.useEffect(()=>{const v=Qv(S,Jv("fecha","asc")),T=Zf(v,L=>{e(L.docs.map(N=>({id:N.id,...N.data()})))}),C=Qv(A,Jv("fechaInicio","asc")),P=Zf(C,L=>{n(L.docs.map(N=>({id:N.id,...N.data()})))});return()=>{T(),P()}},[]);const E=async()=>{if(!l)return alert("Selecciona al menos una fecha de inicio para bloquear.");if(f&&f<l)return alert("La fecha final no puede ser anterior a la inicial.");await w2(A,{fechaInicio:l,fechaFin:f||l,hora:y?"todo":d||"todo",tipo:y?f?"rango de días completo":"día completo":"horario",creado:new Date}),c(""),h(""),m(""),g(!1)},w=async v=>{window.confirm("¿Eliminar este bloqueo?")&&await ty(af(Vs,"bloqueos",v))},V=async v=>{window.confirm("¿Eliminar esta reserva?")&&await ty(af(Vs,"reservas",v))},j=async v=>{const T=prompt("Nuevo nombre del cliente:"),C=prompt("Nueva fecha (YYYY-MM-DD):"),P=prompt("Nueva hora (HH:MM):");if(!T||!C||!P)return alert("Todos los campos son obligatorios.");await oO(af(Vs,"reservas",v),{nombre:T,fecha:C,hora:P})},W=()=>{const v=ld.json_to_sheet(t),T=ld.book_new();ld.book_append_sheet(T,v,"Reservas"),z9(T,"reservas.xlsx")},x=t.filter(v=>{var P;const T=(P=v.nombre)==null?void 0:P.toLowerCase().includes(i.toLowerCase()),C=a?v.fecha===a:!0;return T&&C});return de.jsxs("div",{className:"bg-white shadow-lg rounded-2xl p-6 mt-6",children:[de.jsx("h2",{className:"text-2xl font-bold text-blue-700 mb-4 text-center",children:"👑 Panel del Dueño"}),de.jsxs("div",{className:"border p-4 rounded-lg bg-gray-50 mb-6",children:[de.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"⏳ Bloquear horario, día o rango de días"}),de.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-3",children:[de.jsx("input",{type:"date",value:l,onChange:v=>c(v.target.value),className:"border rounded-lg p-2 flex-1"}),de.jsx("input",{type:"date",value:f,onChange:v=>h(v.target.value),className:"border rounded-lg p-2 flex-1"}),!y&&de.jsx("input",{type:"time",value:d,onChange:v=>m(v.target.value),className:"border rounded-lg p-2 flex-1"})]}),de.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[de.jsxs("label",{className:"flex items-center gap-2",children:[de.jsx("input",{type:"checkbox",checked:y,onChange:v=>g(v.target.checked)}),"Día(s) completo(s)"]}),de.jsx("button",{onClick:E,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition",children:"Bloquear"})]}),de.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[de.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"📅 Bloqueos activos"}),r.length===0?de.jsx("p",{className:"text-gray-500 text-sm",children:"No hay bloqueos registrados."}):de.jsx("ul",{className:"divide-y divide-gray-200 text-sm",children:r.map(v=>de.jsxs("li",{className:"flex justify-between items-center py-1",children:[de.jsxs("div",{children:[de.jsxs("strong",{children:[v.fechaInicio,v.fechaFin&&v.fechaFin!==v.fechaInicio?` → ${v.fechaFin}`:""]})," ","(",v.hora==="todo"?"día(s) completo(s)":`${v.hora} hrs`,")"]}),de.jsx("button",{onClick:()=>w(v.id),className:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-700",children:"🗑️"})]},v.id))})]})]}),de.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[de.jsx("input",{type:"text",placeholder:"Buscar por nombre...",className:"border rounded-lg p-2 flex-1",value:i,onChange:v=>s(v.target.value)}),de.jsx("input",{type:"date",className:"border rounded-lg p-2 flex-1",value:a,onChange:v=>o(v.target.value)}),de.jsx("button",{onClick:W,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"📊 Exportar a Excel"})]}),de.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[de.jsx("thead",{children:de.jsxs("tr",{className:"bg-blue-600 text-white",children:[de.jsx("th",{className:"p-2 border",children:"Cliente"}),de.jsx("th",{className:"p-2 border",children:"Fecha"}),de.jsx("th",{className:"p-2 border",children:"Hora"}),de.jsx("th",{className:"p-2 border",children:"Correo"}),de.jsx("th",{className:"p-2 border",children:"Acciones"})]})}),de.jsx("tbody",{children:x.length===0?de.jsx("tr",{children:de.jsx("td",{colSpan:"5",className:"text-center py-3 text-gray-500",children:"No hay reservas registradas."})}):x.map(v=>de.jsxs("tr",{className:"text-center border",children:[de.jsx("td",{className:"p-2 border",children:v.nombre}),de.jsx("td",{className:"p-2 border",children:v.fecha}),de.jsx("td",{className:"p-2 border",children:v.hora}),de.jsx("td",{className:"p-2 border",children:v.email}),de.jsxs("td",{className:"p-2 border space-x-2",children:[de.jsx("button",{onClick:()=>j(v.id),className:"bg-yellow-500 text-white px-2 py-1 rounded hover:bg-yellow-600",children:"✏️ Editar"}),de.jsx("button",{onClick:()=>V(v.id),className:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-700",children:"🗑️ Eliminar"})]})]},v.id))})]})]})}function rV(){const[t,e]=Ze.useState(null);Ze.useEffect(()=>{const i=bT(lo,s=>{e(s)});return()=>i()},[]);const r=async()=>{await OP(lo)},n="enriquej412@gmail.com";return t?de.jsxs("div",{className:"min-h-screen bg-gray-100",children:[de.jsxs("header",{className:"bg-blue-700 text-white flex justify-between items-center p-4 shadow-md",children:[de.jsx("h1",{className:"text-xl font-bold",children:"📅 Sistema de Reservas"}),de.jsx("button",{onClick:r,className:"bg-white text-blue-700 px-4 py-1 rounded-lg hover:bg-gray-200 transition",children:"Cerrar sesión"})]}),de.jsxs("main",{className:"p-6",children:[de.jsx(fO,{}),t.email===n&&de.jsx(tV,{})]})]}):de.jsx(cO,{onLogin:()=>{}})}ud.createRoot(document.getElementById("root")).render(de.jsx(FA.StrictMode,{children:de.jsx(rV,{})}));
